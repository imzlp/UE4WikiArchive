<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from mediawikiv2-website-prod05.ol.epicgames.net/index.php?title=Pong_Tutorial by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 01 Apr 2020 01:34:28 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/><script type="text/javascript">(window.NREUM||(NREUM={})).loader_config={licenseKey:"93a8bd5691",applicationID:"145396307"};window.NREUM||(NREUM={}),__nr_require=function(e,n,t){function r(t){if(!n[t]){var i=n[t]={exports:{}};e[t][0].call(i.exports,function(n){var i=e[t][1][n];return r(i||n)},i,i.exports)}return n[t].exports}if("function"==typeof __nr_require)return __nr_require;for(var i=0;i<t.length;i++)r(t[i]);return r}({1:[function(e,n,t){function r(){}function i(e,n,t){return function(){return o(e,[u.now()].concat(f(arguments)),n?null:this,t),n?void 0:this}}var o=e("handle"),a=e(4),f=e(5),c=e("ee").get("tracer"),u=e("loader"),s=NREUM;"undefined"==typeof window.newrelic&&(newrelic=s);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],l="api-",d=l+"ixn-";a(p,function(e,n){s[n]=i(l+n,!0,"api")}),s.addPageAction=i(l+"addPageAction",!0),s.setCurrentRouteName=i(l+"routeName",!0),n.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(e,n){var t={},r=this,i="function"==typeof n;return o(d+"tracer",[u.now(),e,t],r),function(){if(c.emit((i?"":"no-")+"fn-start",[u.now(),r,i],t),i)try{return n.apply(this,arguments)}catch(e){throw c.emit("fn-err",[arguments,this,e],t),e}finally{c.emit("fn-end",[u.now()],t)}}}};a("actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,n){m[n]=i(d+n)}),newrelic.noticeError=function(e,n){"string"==typeof e&&(e=new Error(e)),o("err",[e,u.now(),!1,n])}},{}],2:[function(e,n,t){function r(e,n){var t=e.getEntries();t.forEach(function(e){"first-paint"===e.name?c("timing",["fp",Math.floor(e.startTime)]):"first-contentful-paint"===e.name&&c("timing",["fcp",Math.floor(e.startTime)])})}function i(e,n){var t=e.getEntries();t.length>0&&c("lcp",[t[t.length-1]])}function o(e){if(e instanceof s&&!l){var n,t=Math.round(e.timeStamp);n=t>1e12?Date.now()-t:u.now()-t,l=!0,c("timing",["fi",t,{type:e.type,fid:n}])}}if(!("init"in NREUM&&"page_view_timing"in NREUM.init&&"enabled"in NREUM.init.page_view_timing&&NREUM.init.page_view_timing.enabled===!1)){var a,f,c=e("handle"),u=e("loader"),s=NREUM.o.EV;if("PerformanceObserver"in window&&"function"==typeof window.PerformanceObserver){a=new PerformanceObserver(r),f=new PerformanceObserver(i);try{a.observe({entryTypes:["paint"]}),f.observe({entryTypes:["largest-contentful-paint"]})}catch(p){}}if("addEventListener"in document){var l=!1,d=["click","keydown","mousedown","pointerdown","touchstart"];d.forEach(function(e){document.addEventListener(e,o,!1)})}}},{}],3:[function(e,n,t){function r(e,n){if(!i)return!1;if(e!==i)return!1;if(!n)return!0;if(!o)return!1;for(var t=o.split("."),r=n.split("."),a=0;a<r.length;a++)if(r[a]!==t[a])return!1;return!0}var i=null,o=null,a=/Version\/(\S+)\s+Safari/;if(navigator.userAgent){var f=navigator.userAgent,c=f.match(a);c&&f.indexOf("Chrome")===-1&&f.indexOf("Chromium")===-1&&(i="Safari",o=c[1])}n.exports={agent:i,version:o,match:r}},{}],4:[function(e,n,t){function r(e,n){var t=[],r="",o=0;for(r in e)i.call(e,r)&&(t[o]=n(r,e[r]),o+=1);return t}var i=Object.prototype.hasOwnProperty;n.exports=r},{}],5:[function(e,n,t){function r(e,n,t){n||(n=0),"undefined"==typeof t&&(t=e?e.length:0);for(var r=-1,i=t-n||0,o=Array(i<0?0:i);++r<i;)o[r]=e[n+r];return o}n.exports=r},{}],6:[function(e,n,t){n.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(e,n,t){function r(){}function i(e){function n(e){return e&&e instanceof r?e:e?c(e,f,o):o()}function t(t,r,i,o){if(!l.aborted||o){e&&e(t,r,i);for(var a=n(i),f=v(t),c=f.length,u=0;u<c;u++)f[u].apply(a,r);var p=s[y[t]];return p&&p.push([b,t,r,a]),a}}function d(e,n){h[e]=v(e).concat(n)}function m(e,n){var t=h[e];if(t)for(var r=0;r<t.length;r++)t[r]===n&&t.splice(r,1)}function v(e){return h[e]||[]}function g(e){return p[e]=p[e]||i(t)}function w(e,n){u(e,function(e,t){n=n||"feature",y[t]=n,n in s||(s[n]=[])})}var h={},y={},b={on:d,addEventListener:d,removeEventListener:m,emit:t,get:g,listeners:v,context:n,buffer:w,abort:a,aborted:!1};return b}function o(){return new r}function a(){(s.api||s.feature)&&(l.aborted=!0,s=l.backlog={})}var f="nr@context",c=e("gos"),u=e(4),s={},p={},l=n.exports=i();l.backlog=s},{}],gos:[function(e,n,t){function r(e,n,t){if(i.call(e,n))return e[n];var r=t();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!1}),r}catch(o){}return e[n]=r,r}var i=Object.prototype.hasOwnProperty;n.exports=r},{}],handle:[function(e,n,t){function r(e,n,t,r){i.buffer([e],r),i.emit(e,n,t)}var i=e("ee").get("handle");n.exports=r,r.ee=i},{}],id:[function(e,n,t){function r(e){var n=typeof e;return!e||"object"!==n&&"function"!==n?-1:e===window?0:a(e,o,function(){return i++})}var i=1,o="nr@id",a=e("gos");n.exports=r},{}],loader:[function(e,n,t){function r(){if(!x++){var e=E.info=NREUM.info,n=d.getElementsByTagName("script")[0];if(setTimeout(s.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&n))return s.abort();u(y,function(n,t){e[n]||(e[n]=t)}),c("mark",["onload",a()+E.offset],null,"api");var t=d.createElement("script");t.src="https://"+e.agent,n.parentNode.insertBefore(t,n)}}function i(){"complete"===d.readyState&&o()}function o(){c("mark",["domContent",a()+E.offset],null,"api")}function a(){return O.exists&&performance.now?Math.round(performance.now()):(f=Math.max((new Date).getTime(),f))-E.offset}var f=(new Date).getTime(),c=e("handle"),u=e(4),s=e("ee"),p=e(3),l=window,d=l.document,m="addEventListener",v="attachEvent",g=l.XMLHttpRequest,w=g&&g.prototype;NREUM.o={ST:setTimeout,SI:l.setImmediate,CT:clearTimeout,XHR:g,REQ:l.Request,EV:l.Event,PR:l.Promise,MO:l.MutationObserver};var h=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1167.min.js"},b=g&&w&&w[m]&&!/CriOS/.test(navigator.userAgent),E=n.exports={offset:f,now:a,origin:h,features:{},xhrWrappable:b,userAgent:p};e(1),e(2),d[m]?(d[m]("DOMContentLoaded",o,!1),l[m]("load",r,!1)):(d[v]("onreadystatechange",i),l[v]("onload",r)),c("mark",["firstbyte",f],null,"api");var x=0,O=e(6)},{}],"wrap-function":[function(e,n,t){function r(e){return!(e&&e instanceof Function&&e.apply&&!e[a])}var i=e("ee"),o=e(5),a="nr@original",f=Object.prototype.hasOwnProperty,c=!1;n.exports=function(e,n){function t(e,n,t,i){function nrWrapper(){var r,a,f,c;try{a=this,r=o(arguments),f="function"==typeof t?t(r,a):t||{}}catch(u){l([u,"",[r,a,i],f])}s(n+"start",[r,a,i],f);try{return c=e.apply(a,r)}catch(p){throw s(n+"err",[r,a,p],f),p}finally{s(n+"end",[r,a,c],f)}}return r(e)?e:(n||(n=""),nrWrapper[a]=e,p(e,nrWrapper),nrWrapper)}function u(e,n,i,o){i||(i="");var a,f,c,u="-"===i.charAt(0);for(c=0;c<n.length;c++)f=n[c],a=e[f],r(a)||(e[f]=t(a,u?f+i:i,o,f))}function s(t,r,i){if(!c||n){var o=c;c=!0;try{e.emit(t,r,i,n)}catch(a){l([a,t,r,i])}c=o}}function p(e,n){if(Object.defineProperty&&Object.keys)try{var t=Object.keys(e);return t.forEach(function(t){Object.defineProperty(n,t,{get:function(){return e[t]},set:function(n){return e[t]=n,n}})}),n}catch(r){l([r])}for(var i in e)f.call(e,i)&&(n[i]=e[i]);return n}function l(n){try{e.emit("internal-error",n)}catch(t){}}return e||(e=i),t.inPlace=u,t.flag=a,t}},{}]},{},["loader"]);</script>
<title>Pong Tutorial - Epic Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Pong_Tutorial","wgTitle":"Pong Tutorial","wgCurRevisionId":619,"wgRevisionId":619,"wgArticleId":309,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Tutorials","Community Created Content"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Pong_Tutorial","wgRelevantArticleId":309,"wgRequestId":"f69c7f3cd78eee0b3280a714","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","user.tokens":"loading","ext.pygments":"ready","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.options@0bhc5ha",function($,jQuery,require,module){mw.user.options.set([]);});mw.loader.implement("user.tokens@071vexb",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/

});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="load9239.css?debug=false&amp;lang=en&amp;modules=ext.pygments%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="load2c8d.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<meta name="generator" content="MediaWiki 1.30.0"/>
<link rel="shortcut icon" href="favicon.html"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Epic Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="api-result251f.xml?action=rsd"/>
<link rel="license" href="https://www.epicgames.com/tos"/>
<link rel="alternate" type="application/atom+xml" title="Epic Wiki Atom feed" href="feeda295.xml?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/resources/lib/html5shiv/html5shiv.min.js?40bd4"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Pong_Tutorial rootpage-Pong_Tutorial skin-vector action-view"><!DOCTYPE html><html data-baseurl="https://www.unrealengine.com"><head><meta charSet="UTF-8"><meta httpEquiv="X-UA-Compatible" content="IE=9;IE=10;IE=11;IE=Edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimal-ui"><meta name="host" content="ue-website-node-prod07-i-0d0405fab30c4bd94"><meta name="worker" content="170"><link rel="apple-touch-icon" sizes="180x180" href="indexfb0b.html"><link rel="icon" type="image/png" sizes="32x32" href="index4aa2.html"><link rel="icon" type="image/png" sizes="16x16" href="indexca83.html"><link rel="manifest" href="index38c2.html"><link rel="mask-icon" href="indexebf0.html" color="#2a2a2a"><meta name="apple-mobile-web-app-title" content="Unreal Engine"><meta name="application-name" content="Unreal Engine"><meta name="msapplication-TileColor" content="#0aaff1"><meta name="msapplication-TileImage" content="/mstile-144x144.png"><meta name="theme-color" content="#0aaff1"><title data-react-helmet="true"></title></head><body><div id="epicGamesNavigation"></div><script>(function () {
    var config = {"serverUrl":"https://www.unrealengine.com","locale":"en-US","localeOptions":[{"lang":"en-US","name":"English"},{"lang":"ko","name":"한국어"},{"lang":"ja","name":"日本語"},{"lang":"zh-CN","name":"简体中文"}],"euCookieStrings":{"cookieString":"We use cookies to ensure the best experience on all Epic Games websites. To learn more, please see our {0}.","policyString":"privacy policy","closeString":"Close","policyUrl":"https://www.epicgames.com/privacypolicy"},"_currentVersion":"1.37.2.101.61.0.1","_type":"Epic Games Nav","hideSignIn":true,"_lastModifiedBy":"tony.rossi","epicPropertyName":"unreal_engine","pcDownloadUrl":"https://launcher-public-service-prod06.ol.epicgames.com/launcher/api/installer/download/EpicGamesLauncherInstaller.msi?productName=unrealengine","_createdBy":"tony.rossi","_uuid":"a0357fbf-1bd5-4eca-bbbf-48ea56e4ddb1","callToAction":{"_type":"Epic Header Call To Action","useCustomCallback":true,"href":"http://unrealengine.com/register","title":"Download"},"hideCallToAction":false,"hideLocale":true,"accountLinks":{"signOutLink":{"_type":"Epic Header Action Link","useCustomCallback":true,"href":"http://unrealengine.com/logout","key":"signout"},"dropdownLinks":[{"_type":"Epic Header Submenu Item","useCustomCallback":false,"href":"http://unrealengine.com/account/personal?lang=en-US","title":"Personal","key":"personal"},{"_type":"Epic Header Submenu Item","useCustomCallback":false,"href":"https://publish.unrealengine.com","title":"Seller","key":"seller"}],"signInLinks":[{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/id/login","title":"Sign In","key":"signin"}],"_type":"Epic Header Account Links"},"logoLink":{"_type":"Epic Header Action Link","useCustomCallback":true,"href":"http://unrealengine.com/","key":"logo"},"_futureVersion":"none","_created":"2017-08-21T08:59:33.648Z","_activeDate":"2019-05-31T08:22:43.049Z","macDownloadUrl":"https://launcher-public-service-prod06.ol.epicgames.com/launcher/api/installer/download/EpicGamesLauncher.dmg?productName=unrealengine","messages":{"search":"Search","default_download":"Get Epic Games","default_username":"Account","_type":"Epic Header Messages","locale":"English","sign_in":"Sign In","sign_out":"Sign Out"},"links":[{"isBarDivider":false,"_type":"Epic Header Link","useCustomCallback":true,"href":"http://unrealengine.com/blog","title":"News","key":"blog"},{"isBarDivider":false,"_type":"Epic Header Link","useCustomCallback":false,"title":"About","key":"about","kids":[{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/features","title":"Features"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/release-notes/","title":"What's New"},{"_type":"Epic Header Submenu Item","useCustomCallback":false,"href":"https://trello.com/b/TTAVI7Ny/ue4-roadmap","title":"Roadmap","target":"_blank"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/faq","title":"FAQ"}]},{"isBarDivider":false,"_type":"Epic Header Link","collapseTarget":"More","useCustomCallback":false,"title":"Industries","key":"industries","kids":[{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/industry/games","title":"Games"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/architecture-solution","title":"Architecture"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/industry/automotive-transportation","title":"Automotive & Transportation"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/industry/broadcast-live-events","title":"Broadcast & Live Events"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/industry/film-television","title":"Film & Television"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/industry/training-simulation","title":"Training & Simulation"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/industry/more-uses","title":"More Uses"}]},{"isBarDivider":false,"_type":"Epic Header Link","collapseTarget":"More","useCustomCallback":false,"title":"Learning & Support","key":"learn","kids":[{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/learn","title":"Get Started"},{"_type":"Epic Header Submenu Item","useCustomCallback":false,"href":"https://docs.unrealengine.com/","title":"Documentation"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/onlinelearning-courses","title":"Online Learning","key":""},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/events/webinar-series","title":"Webinars"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/education","title":"Education"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/support","title":"Support"},{"_type":"Epic Header Submenu Item","useCustomCallback":false,"href":"https://issues.unrealengine.com/","title":"Issues"}]},{"isBarDivider":false,"_type":"Epic Header Link","collapseTarget":"More","useCustomCallback":false,"title":"Community","key":"community","kids":[{"_type":"Epic Header Submenu Item","useCustomCallback":false,"href":"https://forums.unrealengine.com/","title":"Forums"},{"_type":"Epic Header Submenu Item","useCustomCallback":false,"href":"https://answers.unrealengine.com/","title":"AnswerHub"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/megagrants","title":"MegaGrants","key":""},{"_type":"Epic Header Submenu Item","useCustomCallback":false,"href":"https://communities.unrealengine.com","title":"User Groups"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/events","title":"Events"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/programs/nvidia-edge","title":"Nvidia Edge","key":"programs"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/programs/intel-unreal","title":"Intel + Unreal","key":""}]},{"isBarDivider":false,"_type":"Epic Header Link","collapseTarget":"More","useCustomCallback":false,"title":"Marketplace","key":"marketplace","kids":[{"_type":"Epic Header Submenu Item","useCustomCallback":false,"href":"http://unrealengine.com/marketplace","title":"Browse"},{"_type":"Epic Header Submenu Item","useCustomCallback":false,"href":"https://publish.unrealengine.com/","title":"Submit Content"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/marketplace-faq","title":"Marketplace FAQ"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/marketplace-guidelines","title":"Marketplace Guidelines"},{"_type":"Epic Header Submenu Item","useCustomCallback":false,"href":"https://forums.unrealengine.com/forumdisplay.php?56-Marketplace","title":"Marketplace Forums"}]}],"hideSearch":false,"_lastModified":"2020-01-30T21:35:59.869Z","_version":{"_comment":"Publish to server UnrealEngine.com (Production)","_createdBy":"tony.rossi"},"_locale":"en_US","useServerUrl":true,"isEu":false};

    if (typeof window._egNavBeforeConfigSet === 'function') {
        window._egNavBeforeConfigSet();
        window._egNavBeforeConfigSetRun = true;
    }
    window._egNavBeforeConfigSetCalled = true;

    if (typeof window._epicGamesNav === 'undefined') {
        window._epicGamesNav = config;
    } else {
        var missingAssumeFalsey = ['hideLocale', 'hideSearch', 'hideSignIn', 'hideCallToAction'];
        for (var key in config) {
            if (typeof key === 'string') {
                if (!window._epicGamesNav[key] && config[key] !== null && missingAssumeFalsey.indexOf(key) === -1) {
                    window._epicGamesNav[key] = config[key];
                }
            }
        }
    }

    window._epicGamesNav.onSearch = function(query) {
        window.location.href = 'https://www.unrealengine.com' + '/bing-search?keyword=' + query;
    };

    if (typeof window._egNavAfterConfigSet === 'function') {
        window._egNavAfterConfigSet();
        window._egNavAfterConfigSetRun = true;
    }
    window._egNavAfterConfigSetCalled = true;
})();
window.__locale = '';
</script><link key="header-css" rel="stylesheet" href="../static-assets-prod.epicgames.com/unrealengine/static/webpack/header.epic-unreal-engine.5ace4ab88c6f6357685f.css"><script src="../static-assets-prod.epicgames.com/unrealengine/static/webpack/header.epic-unreal-engine.5ace4ab88c6f6357685f.js"></script></body>
<!-- Mirrored from mediawikiv2-website-prod05.ol.epicgames.net/index.php?title=Pong_Tutorial by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 01 Apr 2020 01:34:28 GMT -->
</html>		<div class="container">
			<div id="mw-navigation">
				<h2>Navigation menu</h2>

				<div id="mw-head">
					<!-- 					<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="/index.php?title=Special:UserLogin&amp;returnto=Pong+Tutorial" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>						</ul>
					</div>
					 -->
					<div class="homelink_container">
                        <a href="index.html" title="UE4 Wiki Home" class="homelink">HOME</a>
                    </div>
                    <div class="notice">
                    	We have temporarily disabled editing while we're working on a new Wiki!
                    </div>
					<div id="left-navigation">
											<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
														<li id="ca-nstab-main" class="selected"><span><a href="index0a02.html?title=Pong_Tutorial" title="View the content page [c]" accesskey="c">Page</a></span></li>
							<li id="ca-talk" class="new"><span><a href="index6d81.html?title=Talk:Pong_Tutorial&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										</div>
					<div id="right-navigation">
											<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
														<li id="ca-view" class="selected"><span><a href="index0a02.html?title=Pong_Tutorial">Read</a></span></li>
							<li id="ca-viewsource"><span><a href="index7565.html?title=Pong_Tutorial&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
							<li id="ca-history" class="collapsible"><span><a href="index3e39.html?title=Pong_Tutorial&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<h3 id="p-cactions-label"><span>More</span></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>

						<form action="https://mediawikiv2-website-prod05.ol.epicgames.net/index.php" id="searchform">
							<div id="simpleSearch">
							<input type="search" name="search" placeholder="Search Epic Wiki" title="Search Epic Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
										</div>
				</div>
				
			</div>
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>

								<div class="mw-indicators mw-body-content">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Pong Tutorial</h1>
												<div id="bodyContent" class="mw-body-content">
											<div id="siteSub" class="noprint">From Epic Wiki</div>
										
															<div id="jump-to-nav" class="mw-jump">
						Jump to:						<a href="#mw-head">navigation</a>, 						<a href="#p-search">search</a>
					</div>
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p><br />
<b>This tutorial was recently finished and due to its length, there may be some grammatical/syntax errors scattered throughout it.  If you are going through this and find anything confusing or that you think should be there, please change it!  I am certain that I was not able to cover everything.</b>
</p><p>Hi everyone.  I recently went through the UE4 code base and created a pong game to help myself become familiarized with the Engine.  Just a heads up that I am in no way sure that the implementation of this game follows the best practices for development.  However, the goal of this tutorial was to implement everything via C++, which I managed.  Hopefully by the end of this tutorial you will have a much better feel for working with the Engine in C++ and also a better feel for how awesome blueprints can be.
</p>
<div id="toc" class="toc"><div class="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Creating_the_Project"><span class="tocnumber">1</span> <span class="toctext">Creating the Project</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Setting_Up_the_World"><span class="tocnumber">2</span> <span class="toctext">Setting Up the World</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Creating_the_Assets"><span class="tocnumber">3</span> <span class="toctext">Creating the Assets</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Opening_up_the_Code"><span class="tocnumber">4</span> <span class="toctext">Opening up the Code</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Creating_the_Background"><span class="tocnumber">5</span> <span class="toctext">Creating the Background</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Background.h"><span class="tocnumber">5.1</span> <span class="toctext">Background.h</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Background.cpp"><span class="tocnumber">5.2</span> <span class="toctext">Background.cpp</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Creating_the_Other_Sprites"><span class="tocnumber">6</span> <span class="toctext">Creating the Other Sprites</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#Ball.h"><span class="tocnumber">6.1</span> <span class="toctext">Ball.h</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Ball.cpp"><span class="tocnumber">6.2</span> <span class="toctext">Ball.cpp</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Paddle.h"><span class="tocnumber">6.3</span> <span class="toctext">Paddle.h</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Paddle.cpp"><span class="tocnumber">6.4</span> <span class="toctext">Paddle.cpp</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Bounds.h"><span class="tocnumber">6.5</span> <span class="toctext">Bounds.h</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Bounds.cpp"><span class="tocnumber">6.6</span> <span class="toctext">Bounds.cpp</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Goal.h"><span class="tocnumber">6.7</span> <span class="toctext">Goal.h</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Goal.cpp"><span class="tocnumber">6.8</span> <span class="toctext">Goal.cpp</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="#Creating_the_GameMode"><span class="tocnumber">7</span> <span class="toctext">Creating the GameMode</span></a>
<ul>
<li class="toclevel-2 tocsection-18"><a href="#PongGameMode.h"><span class="tocnumber">7.1</span> <span class="toctext">PongGameMode.h</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#PongGameMode.cpp"><span class="tocnumber">7.2</span> <span class="toctext">PongGameMode.cpp</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-20"><a href="#Initializing_the_Background.2FCamera.2FPaddle.2FBall"><span class="tocnumber">8</span> <span class="toctext">Initializing the Background/Camera/Paddle/Ball</span></a>
<ul>
<li class="toclevel-2 tocsection-21"><a href="#Background"><span class="tocnumber">8.1</span> <span class="toctext">Background</span></a>
<ul>
<li class="toclevel-3 tocsection-22"><a href="#Background.h_2"><span class="tocnumber">8.1.1</span> <span class="toctext">Background.h</span></a></li>
<li class="toclevel-3 tocsection-23"><a href="#Background.cpp_2"><span class="tocnumber">8.1.2</span> <span class="toctext">Background.cpp</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-24"><a href="#PongCamera"><span class="tocnumber">8.2</span> <span class="toctext">PongCamera</span></a>
<ul>
<li class="toclevel-3 tocsection-25"><a href="#PongCamera.h"><span class="tocnumber">8.2.1</span> <span class="toctext">PongCamera.h</span></a></li>
<li class="toclevel-3 tocsection-26"><a href="#PongCamera.cpp"><span class="tocnumber">8.2.2</span> <span class="toctext">PongCamera.cpp</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-27"><a href="#Paddle"><span class="tocnumber">8.3</span> <span class="toctext">Paddle</span></a>
<ul>
<li class="toclevel-3 tocsection-28"><a href="#Paddle.h_2"><span class="tocnumber">8.3.1</span> <span class="toctext">Paddle.h</span></a></li>
<li class="toclevel-3 tocsection-29"><a href="#Paddle.cpp_2"><span class="tocnumber">8.3.2</span> <span class="toctext">Paddle.cpp</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-30"><a href="#Ball"><span class="tocnumber">8.4</span> <span class="toctext">Ball</span></a>
<ul>
<li class="toclevel-3 tocsection-31"><a href="#Ball.h_2"><span class="tocnumber">8.4.1</span> <span class="toctext">Ball.h</span></a></li>
<li class="toclevel-3 tocsection-32"><a href="#Ball.cpp_2"><span class="tocnumber">8.4.2</span> <span class="toctext">Ball.cpp</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-33"><a href="#PongGameMode"><span class="tocnumber">8.5</span> <span class="toctext">PongGameMode</span></a>
<ul>
<li class="toclevel-3 tocsection-34"><a href="#PongGameMode.h_2"><span class="tocnumber">8.5.1</span> <span class="toctext">PongGameMode.h</span></a></li>
<li class="toclevel-3 tocsection-35"><a href="#PongGameMode.cpp_2"><span class="tocnumber">8.5.2</span> <span class="toctext">PongGameMode.cpp</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-36"><a href="#Moving_the_Paddle"><span class="tocnumber">9</span> <span class="toctext">Moving the Paddle</span></a>
<ul>
<li class="toclevel-2 tocsection-37"><a href="#Paddle.h_3"><span class="tocnumber">9.1</span> <span class="toctext">Paddle.h</span></a></li>
<li class="toclevel-2 tocsection-38"><a href="#Paddle.cpp_3"><span class="tocnumber">9.2</span> <span class="toctext">Paddle.cpp</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-39"><a href="#Adding_Bounds"><span class="tocnumber">10</span> <span class="toctext">Adding Bounds</span></a>
<ul>
<li class="toclevel-2 tocsection-40"><a href="#Bounds"><span class="tocnumber">10.1</span> <span class="toctext">Bounds</span></a>
<ul>
<li class="toclevel-3 tocsection-41"><a href="#Bounds.h_2"><span class="tocnumber">10.1.1</span> <span class="toctext">Bounds.h</span></a></li>
<li class="toclevel-3 tocsection-42"><a href="#Bounds.cpp_2"><span class="tocnumber">10.1.2</span> <span class="toctext">Bounds.cpp</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-43"><a href="#Background.h_3"><span class="tocnumber">10.2</span> <span class="toctext">Background.h</span></a></li>
<li class="toclevel-2 tocsection-44"><a href="#Background.cpp_3"><span class="tocnumber">10.3</span> <span class="toctext">Background.cpp</span></a></li>
<li class="toclevel-2 tocsection-45"><a href="#PongGameMode.h_3"><span class="tocnumber">10.4</span> <span class="toctext">PongGameMode.h</span></a></li>
<li class="toclevel-2 tocsection-46"><a href="#PongGameMode.cpp_3"><span class="tocnumber">10.5</span> <span class="toctext">PongGameMode.cpp</span></a></li>
<li class="toclevel-2 tocsection-47"><a href="#Paddle.h_4"><span class="tocnumber">10.6</span> <span class="toctext">Paddle.h</span></a></li>
<li class="toclevel-2 tocsection-48"><a href="#Paddle.cpp_4"><span class="tocnumber">10.7</span> <span class="toctext">Paddle.cpp</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-49"><a href="#Creating_the_GameState"><span class="tocnumber">11</span> <span class="toctext">Creating the GameState</span></a>
<ul>
<li class="toclevel-2 tocsection-50"><a href="#PongGameState.h"><span class="tocnumber">11.1</span> <span class="toctext">PongGameState.h</span></a></li>
<li class="toclevel-2 tocsection-51"><a href="#PongGameState.cpp"><span class="tocnumber">11.2</span> <span class="toctext">PongGameState.cpp</span></a></li>
<li class="toclevel-2 tocsection-52"><a href="#PongGameMode.h_4"><span class="tocnumber">11.3</span> <span class="toctext">PongGameMode.h</span></a></li>
<li class="toclevel-2 tocsection-53"><a href="#PongGameMode.cpp_4"><span class="tocnumber">11.4</span> <span class="toctext">PongGameMode.cpp</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-54"><a href="#Adding_Movement_to_the_Ball"><span class="tocnumber">12</span> <span class="toctext">Adding Movement to the Ball</span></a>
<ul>
<li class="toclevel-2 tocsection-55"><a href="#Ball.h_3"><span class="tocnumber">12.1</span> <span class="toctext">Ball.h</span></a></li>
<li class="toclevel-2 tocsection-56"><a href="#Ball.cpp_3"><span class="tocnumber">12.2</span> <span class="toctext">Ball.cpp</span></a></li>
<li class="toclevel-2 tocsection-57"><a href="#Paddle.h_5"><span class="tocnumber">12.3</span> <span class="toctext">Paddle.h</span></a></li>
<li class="toclevel-2 tocsection-58"><a href="#Paddle.cpp_5"><span class="tocnumber">12.4</span> <span class="toctext">Paddle.cpp</span></a></li>
<li class="toclevel-2 tocsection-59"><a href="#PongGameState.h_2"><span class="tocnumber">12.5</span> <span class="toctext">PongGameState.h</span></a></li>
<li class="toclevel-2 tocsection-60"><a href="#PongGameState.cpp_2"><span class="tocnumber">12.6</span> <span class="toctext">PongGameState.cpp</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-61"><a href="#Goals.2FPaddle_AI"><span class="tocnumber">13</span> <span class="toctext">Goals/Paddle AI</span></a>
<ul>
<li class="toclevel-2 tocsection-62"><a href="#Paddle_2"><span class="tocnumber">13.1</span> <span class="toctext">Paddle</span></a>
<ul>
<li class="toclevel-3 tocsection-63"><a href="#Paddle.h_6"><span class="tocnumber">13.1.1</span> <span class="toctext">Paddle.h</span></a></li>
<li class="toclevel-3 tocsection-64"><a href="#Paddle.cpp_6"><span class="tocnumber">13.1.2</span> <span class="toctext">Paddle.cpp</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-65"><a href="#PaddleAI"><span class="tocnumber">13.2</span> <span class="toctext">PaddleAI</span></a>
<ul>
<li class="toclevel-3 tocsection-66"><a href="#PaddleAI.h"><span class="tocnumber">13.2.1</span> <span class="toctext">PaddleAI.h</span></a></li>
<li class="toclevel-3 tocsection-67"><a href="#PaddleAI.cpp"><span class="tocnumber">13.2.2</span> <span class="toctext">PaddleAI.cpp</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-68"><a href="#Goal"><span class="tocnumber">13.3</span> <span class="toctext">Goal</span></a>
<ul>
<li class="toclevel-3 tocsection-69"><a href="#Goal.h_2"><span class="tocnumber">13.3.1</span> <span class="toctext">Goal.h</span></a></li>
<li class="toclevel-3 tocsection-70"><a href="#Goal.cpp_2"><span class="tocnumber">13.3.2</span> <span class="toctext">Goal.cpp</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-71"><a href="#GameMode"><span class="tocnumber">13.4</span> <span class="toctext">GameMode</span></a>
<ul>
<li class="toclevel-3 tocsection-72"><a href="#PongGameMode.h_5"><span class="tocnumber">13.4.1</span> <span class="toctext">PongGameMode.h</span></a></li>
<li class="toclevel-3 tocsection-73"><a href="#PongGameMode.cpp_5"><span class="tocnumber">13.4.2</span> <span class="toctext">PongGameMode.cpp</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-74"><a href="#GameState"><span class="tocnumber">13.5</span> <span class="toctext">GameState</span></a>
<ul>
<li class="toclevel-3 tocsection-75"><a href="#PongGameState.h_3"><span class="tocnumber">13.5.1</span> <span class="toctext">PongGameState.h</span></a></li>
<li class="toclevel-3 tocsection-76"><a href="#PongGameState.cpp_3"><span class="tocnumber">13.5.2</span> <span class="toctext">PongGameState.cpp</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-77"><a href="#Creating_the_HUD_.2F_Finishing_up"><span class="tocnumber">14</span> <span class="toctext">Creating the HUD / Finishing up</span></a>
<ul>
<li class="toclevel-2 tocsection-78"><a href="#Pong_HUD"><span class="tocnumber">14.1</span> <span class="toctext">Pong HUD</span></a>
<ul>
<li class="toclevel-3 tocsection-79"><a href="#PongHUD.h"><span class="tocnumber">14.1.1</span> <span class="toctext">PongHUD.h</span></a></li>
<li class="toclevel-3 tocsection-80"><a href="#PongHUD.cpp"><span class="tocnumber">14.1.2</span> <span class="toctext">PongHUD.cpp</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-81"><a href="#Paddle.h_7"><span class="tocnumber">14.2</span> <span class="toctext">Paddle.h</span></a></li>
<li class="toclevel-2 tocsection-82"><a href="#Paddle.cpp_7"><span class="tocnumber">14.3</span> <span class="toctext">Paddle.cpp</span></a></li>
<li class="toclevel-2 tocsection-83"><a href="#PaddleAI.h_2"><span class="tocnumber">14.4</span> <span class="toctext">PaddleAI.h</span></a></li>
<li class="toclevel-2 tocsection-84"><a href="#PaddleAI.cpp_2"><span class="tocnumber">14.5</span> <span class="toctext">PaddleAI.cpp</span></a></li>
<li class="toclevel-2 tocsection-85"><a href="#Ball.h_4"><span class="tocnumber">14.6</span> <span class="toctext">Ball.h</span></a></li>
<li class="toclevel-2 tocsection-86"><a href="#Ball.cpp_4"><span class="tocnumber">14.7</span> <span class="toctext">Ball.cpp</span></a></li>
<li class="toclevel-2 tocsection-87"><a href="#PongGameState.h_4"><span class="tocnumber">14.8</span> <span class="toctext">PongGameState.h</span></a></li>
<li class="toclevel-2 tocsection-88"><a href="#PongGameState.cpp_4"><span class="tocnumber">14.9</span> <span class="toctext">PongGameState.cpp</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-89"><a href="#Finished"><span class="tocnumber">15</span> <span class="toctext">Finished</span></a></li>
<li class="toclevel-1 tocsection-90"><a href="#All_Source_Files"><span class="tocnumber">16</span> <span class="toctext">All Source Files</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Creating_the_Project">Creating the Project</span></h2>
<p>So, this tutorial is being written for version 4.8.0 of the Engine.  If you are using an older version, I would recommend upgrading to the latest.
</p>
<ol><li>Launch the Engine</li>
<li>Click on New Project</li>
<li>Select Blueprint -&gt; Blank - We just want to start with a completely empty project</li>
<li>Target Desktop/Console, Scalable 3D or 2D graphics, and No Starter Content</li>
<li>Select a Location for your project and a name - I used Pong</li></ol>
<h2><span class="mw-headline" id="Setting_Up_the_World">Setting Up the World</span></h2>
<ol><li>Go to the World Outliner in the right hand corner and delete everything under the World - Atmospheric Fog, Floor, Light Source, etc...</li>
<li>Click Save and Save as PongMap</li></ol>
<p>Now we have a completely blank project with nothing in the world.  So what is next?
</p>
<h2><span class="mw-headline" id="Creating_the_Assets">Creating the Assets</span></h2>
<p>The Following Assets are needed:
</p>
<dl><dd>A Paddle</dd>
<dd>A Background (For the Pong Board)</dd>
<dd>A Ball</dd>
<dd>A Goal</dd>
<dd>A Boundary</dd></dl>
<p>So for these, I drew them in paint and made the background transparent.  You can download the file here:
</p>
<dl><dd><a href="index149c.html?title=File:PongAssets.png" class="image" title="Pong Assets"><img alt="Pong Assets" src="../d26ilriwvtzlb.cloudfront.net/3/37/PongAssets.png" width="563" height="470" /></a></dd></dl>
<p>Or you can create your own.
</p><p>Once you have the .png file containing all of the sprites that you are going to use, drag it into the Content part of the Editor and the .png should be loaded in as a texture.
</p><p>This editor is awesome and allows us to extract the sprites directly from the texture.  The editor will handle creating UPaperSprite Objects for us which contain collision/rendering data - how awesome is that?
</p><p>We are still going to have to modify the collision for the Boundaries however.  The collision data for it is that of a filled square but we want a hollow square.
</p>
<ol><li>Double click on the Texture</li>
<li>Under Details -&gt; Texture, Expand the Options and for the Filter Select Nearest</li>
<li>Save and close</li>
<li>Right Click on the Texture and Select Sprite Actions -&gt; Extract Sprites</li>
<li>Click Extract.  You should now have 5 sprites in your content folder</li>
<li>Right Click on the Content Folder and Select New Folder - Call it Sprites</li>
<li>Drag the five sprites from the Content Folder to the Sprites Folder -&gt; Select Move Here</li>
<li>Rename the black circle to Ball, the black rectangle to Paddle, the large white box to Background, the smaller white rectangle to Goal, and the hollow rectangle to Bounds</li></ol>
<p>Now we have the sprites that we need to work with to make the pong game!
</p>
<h2><span class="mw-headline" id="Opening_up_the_Code">Opening up the Code</span></h2>
<p>Okay, lets open up the code so that we can start to work with our sprites.
</p>
<ol><li>In the Editor, click on File -&gt; New C++ Class <br />We are going to be creating the background first, so we are going to want to extend the Actor class <br /> Make sure to read up on the Terminology here: <a rel="nofollow" class="external free" href="https://docs.unrealengine.com/latest/INT/GettingStarted/Terminology/index.html">https://docs.unrealengine.com/latest/INT/GettingStarted/Terminology/index.html</a></li>
<li>Select Actor as the Class to extend and give it the name "Background"</li>
<li>Click Create Class <br />Your project should be created now.  Visual Studio will open up and there should be two .h and .cpp files under Source/Pong - Pong.cpp and Background.cpp</li></ol>
<p>Before we get started with Creating the background, we are going to be using Paper2D, so we need to first make sure that we are building the Project with that included.
</p>
<ol><li>Open Pong/Pong.Build.cs</li>
<li>Add "Paper2D" to the PublicDependency ModuleNames</li>
<li>It should look like this: <code> PublicDependencyModuleNames.AddRange(new string[] { "Core", "CoreUObject", "Engine", "InputCore", "Paper2D" }); </code> Paper2D will be added as a dependency now.</li>
<li>Go back into the Editor and select File -&gt; Refresh Visual Studio Project<br />This will update the project so that you can see the Paper2D headers via intellisense.</li></ol>
<h2><span class="mw-headline" id="Creating_the_Background">Creating the Background</span></h2>
<p>So, now we need to get our Background sprite and make it so that the Background Class we created will render the sprite to the screen.  In the Unreal Engine, Components are used in order to create a modular way to attach functionality to objects.   You can read up on components in the UE4 Documentation here: <a rel="nofollow" class="external free" href="https://docs.unrealengine.com/latest/INT/Programming/UnrealArchitecture/Actors/Components/index.html">https://docs.unrealengine.com/latest/INT/Programming/UnrealArchitecture/Actors/Components/index.html</a><br />Really, the documentation is going to be your friend.
</p><p>So, we have a Background Actor and we want to assign the Background Sprite that we made to it.  So, lets take a look at the API reference to find out if there is any class pre-made for us that will save us a ton of time. Take a look at the Paper2D API reference here: <a rel="nofollow" class="external free" href="https://docs.unrealengine.com/latest/INT/API/Plugins/Paper2D/index.html">https://docs.unrealengine.com/latest/INT/API/Plugins/Paper2D/index.html</a>
</p><p>You'll notice that if you read the description for each of the Classes in the library, you'll find a UPaperSpriteComponent which is defined as: A component that handles rendering and collision for a single instance of a UPaperSprite asset.  This is really nice because we can attach this component to our Actor and have it handle all the rendering and collision. We will want this for each of our sprites (We won't want collision for the background, but we can just disable that).
</p><p>So, lets create a UPaperSpriteComponent in our Background Class.
</p>
<ol><li>Open up Background.h</li>
<li>Add <code> const FObjectInitializer&amp; ObjectInitializer </code> into the constructor <br /> You can see this constructor defined in the generated.h file included if you are curious.</li>
<li>Add a private variable <code> class UPaperSpriteComponent* Sprite </code> We are using the class keyword because we are making a forward declaration so that we don't have to include the header file that defines UPaperSpriteComponent - we will include the header in the .cpp.</li>
<li>You header should look like this:</li></ol>
<h3><span class="mw-headline" id="Background.h">Background.h</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/Actor.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Background.generated.h&quot;</span><span class="cp"></span>

<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">ABackground</span> <span class="p">:</span> <span class="k">public</span> <span class="n">AActor</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>
	
<span class="k">public</span><span class="o">:</span>	
	<span class="c1">// Sets default values for this actor&#39;s properties</span>
	<span class="n">ABackground</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>

	<span class="c1">// Called when the game starts or when spawned</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">BeginPlay</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>
	
	<span class="c1">// Called every frame</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaSeconds</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	
<span class="k">private</span><span class="o">:</span>

	<span class="c1">//Reference to the Background Sprite</span>
	<span class="k">class</span> <span class="nc">UPaperSpriteComponent</span><span class="o">*</span> <span class="n">Sprite</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
<p>Now we want to attach the UPaperSpriteComponent to this Actor in the constructor.  We have the Sprite in the header just to have a reference to the Component once we attach it.  Now, since we exported the sprites in the editor, there are UPaperSprite objects that are created which we can grab references to.
</p><p>Also, we can create a default UPaperSpriteComponent and attach it to ABackground through the use of the FObjectInitializer object.  We can call the method CreateDefaultSubObject which will attach a SubOject to the Actor and register it.  This is doing the same thing as adding a component to an actor via the editor.  We are just implementing it in C++.
</p>
<h3><span class="mw-headline" id="Background.cpp">Background.cpp</span></h3>
<p>The code for this is as follows, your Background.cpp should look similar to this:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Background.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PaperSpriteComponent.h&quot;</span><span class="cp"></span>

<span class="c1">// Sets default values</span>
<span class="n">ABackground</span><span class="o">::</span><span class="n">ABackground</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
 	<span class="c1">// Set this actor to call Tick() every frame.  You can turn this off to improve performance if you don&#39;t need it.</span>
	<span class="n">PrimaryActorTick</span><span class="p">.</span><span class="n">bCanEverTick</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	
	<span class="c1">//Find the Background Sprite -- Right click on your sprite in the editor and click copy reference to get the path to it</span>
	<span class="n">ConstructorHelpers</span><span class="o">::</span><span class="n">FObjectFinder</span><span class="o">&lt;</span><span class="n">UPaperSprite</span><span class="o">&gt;</span> <span class="n">BackgroundSpriteRef</span><span class="p">(</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;PaperSprite&#39;/Game/Sprites/Background&#39;&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Create a default UPaperSpriteComponent and register it to this Actor</span>
	<span class="n">Sprite</span> <span class="o">=</span> <span class="n">ObjectInitializer</span><span class="p">.</span><span class="n">CreateDefaultSubobject</span><span class="o">&lt;</span><span class="n">UPaperSpriteComponent</span><span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;SpriteComp&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Set the Sprite to render for the UPaperSpriteComponent to the BackgroundSprite Reference we grabbed</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetSprite</span><span class="p">(</span> <span class="n">BackgroundSpriteRef</span><span class="p">.</span><span class="n">Object</span> <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Called when the game starts or when spawned</span>
<span class="kt">void</span> <span class="n">ABackground</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">();</span>
	
<span class="p">}</span>

<span class="c1">// Called every frame</span>
<span class="kt">void</span> <span class="n">ABackground</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="n">DeltaTime</span> <span class="p">);</span>

<span class="p">}</span>
</pre></div>
<p>Ok, now we have a background actor that renders to the background sprite we created.  Awesome!  Lets test it out.
</p>
<ol><li>Save all your files and compile in the editor</li>
<li>In the Content Browser, go to C++ Classes/Pong - Your Background class should be shown in here</li>
<li>Drag it out into your world</li></ol>
<p>You should now see your sprite in the world.  This sprite is going to be used as the background.
</p>
<h2><span class="mw-headline" id="Creating_the_Other_Sprites">Creating the Other Sprites</span></h2>
<p>We still need to create classes for the other four sprites in the game - The ball and the paddle.  The ball is going to be another class that we add which extends Actor - we need it to have a render target and collision.
</p>
<ol><li>In the editor, add a C++ class which extends Actor</li>
<li>Name it Ball and click Create class</li></ol>
<p>We also need a class for the paddle.  This class is different in that we are going to be controlling it.  So, it is going to have to handle input.  For this, we want to extend the Pawn class(The pawn class also extends the Actor Class) which is used when we want to create a controllable object in the world.  You might think that the Character Class should be used here instead, but that would be used for a sprite that is going to have animations attached to it.  The pong paddle is never going to be animating.
</p>
<ol><li>in the editor, add a C++ class which extends Pawn</li>
<li>Name it Paddle and click Create class</li></ol>
<p>The Code for the .h and .cpp of each class is below - you may want to try to implement these by yourself before looking at how it is impelemented below to get a better feel for the syntax of the Unreal Engine.
</p>
<h3><span class="mw-headline" id="Ball.h">Ball.h</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/Actor.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Ball.generated.h&quot;</span><span class="cp"></span>

<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">ABall</span> <span class="p">:</span> <span class="k">public</span> <span class="n">AActor</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>
	
<span class="k">public</span><span class="o">:</span>	
	<span class="c1">// Sets default values for this actor&#39;s properties</span>
	<span class="n">ABall</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>

	<span class="c1">// Called when the game starts or when spawned</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">BeginPlay</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>
	
	<span class="c1">// Called every frame</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaSeconds</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

<span class="k">private</span><span class="o">:</span>

	<span class="c1">//Reference to the Sprite Component which contains the ball sprite</span>
	<span class="k">class</span> <span class="nc">UPaperSpriteComponent</span><span class="o">*</span> <span class="n">Sprite</span><span class="p">;</span>
	
<span class="p">};</span>
</pre></div>
<h3><span class="mw-headline" id="Ball.cpp">Ball.cpp</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Ball.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PaperSpriteComponent.h&quot;</span><span class="cp"></span>

<span class="c1">// Sets default values</span>
<span class="n">ABall</span><span class="o">::</span><span class="n">ABall</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
 	<span class="c1">// Set this actor to call Tick() every frame.  You can turn this off to improve performance if you don&#39;t need it.</span>
	<span class="n">PrimaryActorTick</span><span class="p">.</span><span class="n">bCanEverTick</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

	<span class="c1">//Find the Ball Sprite -- Right click on your sprite in the editor and click copy reference to get the path to it</span>
	<span class="n">ConstructorHelpers</span><span class="o">::</span><span class="n">FObjectFinder</span><span class="o">&lt;</span><span class="n">UPaperSprite</span><span class="o">&gt;</span> <span class="n">BallSpriteRef</span><span class="p">(</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;PaperSprite&#39;/Game/Sprites/Ball&#39;&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Create a default UPaperSpriteComponent and register it to this Actor</span>
	<span class="n">Sprite</span> <span class="o">=</span> <span class="n">ObjectInitializer</span><span class="p">.</span><span class="n">CreateDefaultSubobject</span><span class="o">&lt;</span><span class="n">UPaperSpriteComponent</span><span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;SpriteComp&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Set the Sprite to render for the UPaperSpriteComponent to the BallSprite Reference we grabbed</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetSprite</span><span class="p">(</span> <span class="n">BallSpriteRef</span><span class="p">.</span><span class="n">Object</span> <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Called when the game starts or when spawned</span>
<span class="kt">void</span> <span class="n">ABall</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">();</span>
	
<span class="p">}</span>

<span class="c1">// Called every frame</span>
<span class="kt">void</span> <span class="n">ABall</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="n">DeltaTime</span> <span class="p">);</span>

<span class="p">}</span>
</pre></div>
<h3><span class="mw-headline" id="Paddle.h">Paddle.h</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/Pawn.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Paddle.generated.h&quot;</span><span class="cp"></span>

<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">APaddle</span> <span class="p">:</span> <span class="k">public</span> <span class="n">APawn</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>

<span class="k">public</span><span class="o">:</span>
	<span class="c1">// Sets default values for this pawn&#39;s properties</span>
	<span class="n">APaddle</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>

	<span class="c1">// Called when the game starts or when spawned</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">BeginPlay</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>
	
	<span class="c1">// Called every frame</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaSeconds</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// Called to bind functionality to input</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">SetupPlayerInputComponent</span><span class="p">(</span><span class="k">class</span> <span class="nc">UInputComponent</span><span class="o">*</span> <span class="n">InputComponent</span><span class="p">)</span> <span class="k">override</span><span class="p">;</span>

<span class="k">private</span><span class="o">:</span>

	<span class="c1">//Reference to the Sprite Component which contains the paddle sprite</span>
	<span class="k">class</span> <span class="nc">UPaperSpriteComponent</span><span class="o">*</span> <span class="n">Sprite</span><span class="p">;</span>
	
<span class="p">};</span>
</pre></div>
<h3><span class="mw-headline" id="Paddle.cpp">Paddle.cpp</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Paddle.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PaperSpriteComponent.h&quot;</span><span class="cp"></span>


<span class="c1">// Sets default values</span>
<span class="n">APaddle</span><span class="o">::</span><span class="n">APaddle</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
 	<span class="c1">// Set this pawn to call Tick() every frame.  You can turn this off to improve performance if you don&#39;t need it.</span>
	<span class="n">PrimaryActorTick</span><span class="p">.</span><span class="n">bCanEverTick</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

	<span class="c1">//Find the Paddle Sprite -- Right click on your sprite in the editor and click copy reference to get the path to it</span>
	<span class="n">ConstructorHelpers</span><span class="o">::</span><span class="n">FObjectFinder</span><span class="o">&lt;</span><span class="n">UPaperSprite</span><span class="o">&gt;</span> <span class="n">PaddleSpriteRef</span><span class="p">(</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;PaperSprite&#39;/Game/Sprites/Paddle&#39;&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Create a default UPaperSpriteComponent and register it to this Actor</span>
	<span class="n">Sprite</span> <span class="o">=</span> <span class="n">ObjectInitializer</span><span class="p">.</span><span class="n">CreateDefaultSubobject</span><span class="o">&lt;</span><span class="n">UPaperSpriteComponent</span><span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;SpriteComp&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Set the Sprite to render for the UPaperSpriteComponent to the PaddleSprite Reference we grabbed</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetSprite</span><span class="p">(</span> <span class="n">PaddleSpriteRef</span><span class="p">.</span><span class="n">Object</span> <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Called when the game starts or when spawned</span>
<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">();</span>
	
<span class="p">}</span>

<span class="c1">// Called every frame</span>
<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="n">DeltaTime</span> <span class="p">);</span>

<span class="p">}</span>

<span class="c1">// Called to bind functionality to input</span>
<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">SetupPlayerInputComponent</span><span class="p">(</span><span class="k">class</span> <span class="nc">UInputComponent</span><span class="o">*</span> <span class="n">InputComponent</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">SetupPlayerInputComponent</span><span class="p">(</span><span class="n">InputComponent</span><span class="p">);</span>

<span class="p">}</span>
</pre></div>
<h3><span class="mw-headline" id="Bounds.h">Bounds.h</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/Actor.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Bounds.generated.h&quot;</span><span class="cp"></span>

<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">ABounds</span> <span class="p">:</span> <span class="k">public</span> <span class="n">AActor</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>
	
<span class="k">public</span><span class="o">:</span>	
	<span class="c1">// Sets default values for this actor&#39;s properties</span>
	<span class="n">ABounds</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>

	<span class="c1">// Called when the game starts or when spawned</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">BeginPlay</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>
	
	<span class="c1">// Called every frame</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaSeconds</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>


<span class="k">private</span><span class="o">:</span>

	<span class="c1">//Reference to the Component that holds the Bounds Sprite.</span>
	<span class="k">class</span> <span class="nc">UPaperSpriteComponent</span><span class="o">*</span> <span class="n">Sprite</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
<h3><span class="mw-headline" id="Bounds.cpp">Bounds.cpp</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Bounds.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PaperSpriteComponent.h&quot;</span><span class="cp"></span>

<span class="c1">// Sets default values</span>
<span class="n">ABounds</span><span class="o">::</span><span class="n">ABounds</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
 	<span class="c1">// Set this actor to call Tick() every frame.  You can turn this off to improve performance if you don&#39;t need it.</span>
	<span class="n">PrimaryActorTick</span><span class="p">.</span><span class="n">bCanEverTick</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

	<span class="c1">//Find the Bounds Sprite -- Right click on your sprite in the editor and click copy reference to get the path to it</span>
	<span class="n">ConstructorHelpers</span><span class="o">::</span><span class="n">FObjectFinder</span><span class="o">&lt;</span><span class="n">UPaperSprite</span><span class="o">&gt;</span> <span class="n">BoundsSpriteRef</span><span class="p">(</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;PaperSprite&#39;/Game/Sprites/Bounds&#39;&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Create a default UPaperSpriteComponent and register it to this Actor</span>
	<span class="n">Sprite</span> <span class="o">=</span> <span class="n">ObjectInitializer</span><span class="p">.</span><span class="n">CreateDefaultSubobject</span><span class="o">&lt;</span><span class="n">UPaperSpriteComponent</span><span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;SpriteComp&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Set the Sprite to render for the UPaperSpriteComponent to the BoundsSprite Reference we grabbed</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetSprite</span><span class="p">(</span> <span class="n">BoundsSpriteRef</span><span class="p">.</span><span class="n">Object</span> <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Called when the game starts or when spawned</span>
<span class="kt">void</span> <span class="n">ABounds</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">();</span>
	
<span class="p">}</span>

<span class="c1">// Called every frame</span>
<span class="kt">void</span> <span class="n">ABounds</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="n">DeltaTime</span> <span class="p">);</span>

<span class="p">}</span>
</pre></div>
<h3><span class="mw-headline" id="Goal.h">Goal.h</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/Actor.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Goal.generated.h&quot;</span><span class="cp"></span>

<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">AGoal</span> <span class="p">:</span> <span class="k">public</span> <span class="n">AActor</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>
	
<span class="k">public</span><span class="o">:</span>	
	<span class="c1">// Sets default values for this actor&#39;s properties</span>
	<span class="n">AGoal</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>

	<span class="c1">// Called when the game starts or when spawned</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">BeginPlay</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>
	
	<span class="c1">// Called every frame</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaSeconds</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>


<span class="k">private</span><span class="o">:</span>

	<span class="c1">//Reference to the Sprite that represents a pong goal area</span>
	<span class="k">class</span> <span class="nc">UPaperSpriteComponent</span><span class="o">*</span> <span class="n">Sprite</span><span class="p">;</span>
	
<span class="p">};</span>
</pre></div>
<h3><span class="mw-headline" id="Goal.cpp">Goal.cpp</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Goal.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PaperSpriteComponent.h&quot;</span><span class="cp"></span>

<span class="c1">// Sets default values</span>
<span class="n">AGoal</span><span class="o">::</span><span class="n">AGoal</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="c1">// Set this actor to call Tick() every frame.  You can turn this off to improve performance if you don&#39;t need it.</span>
	<span class="n">PrimaryActorTick</span><span class="p">.</span><span class="n">bCanEverTick</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

	<span class="c1">//Find the Goal Sprite -- Right click on your sprite in the editor and click copy reference to get the path to it</span>
	<span class="n">ConstructorHelpers</span><span class="o">::</span><span class="n">FObjectFinder</span><span class="o">&lt;</span><span class="n">UPaperSprite</span><span class="o">&gt;</span> <span class="n">GoalSpriteRef</span><span class="p">(</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;PaperSprite&#39;/Game/Sprites/Goal&#39;&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Create a default UPaperSpriteComponent and register it to this Actor</span>
	<span class="n">Sprite</span> <span class="o">=</span> <span class="n">ObjectInitializer</span><span class="p">.</span><span class="n">CreateDefaultSubobject</span><span class="o">&lt;</span><span class="n">UPaperSpriteComponent</span><span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;SpriteComp&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Set the Sprite to render for the UPaperSpriteComponent to the GoalSprite Reference we grabbed</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetSprite</span><span class="p">(</span> <span class="n">GoalSpriteRef</span><span class="p">.</span><span class="n">Object</span> <span class="p">);</span>

<span class="p">}</span>

<span class="c1">// Called when the game starts or when spawned</span>
<span class="kt">void</span> <span class="n">AGoal</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">();</span>
	
<span class="p">}</span>

<span class="c1">// Called every frame</span>
<span class="kt">void</span> <span class="n">AGoal</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="n">DeltaTime</span> <span class="p">);</span>

<span class="p">}</span>
</pre></div>
<p><br />
</p>
<h2><span class="mw-headline" id="Creating_the_GameMode">Creating the GameMode</span></h2>
<p>When we start up our game, we are going to want our own custom GameMode override.  This is where we will set the DefaultPawnClass, the GameStateClass, and the HudClass.  We can also do some initialization here for the game.  
</p>
<ol><li>Create a C++ class that extends GameMode, call it PongGameMode</li>
<li>In the constructor set the DefaultPawnClass to APaddle::StaticClass()<br />This is going to make it so that when you start to play the game, APaddle is spawned which will be the default player-controlled object.  You'll notice that there are a bunch of different Objects created in the world by default when you hit play.  We are going to be creating custom classes for most of these.</li>
<li>We are going to override the StartPlay() function contained in GameMode.h - You should view the header files to get a feel for all the different functions that you can override</li></ol>
<h3><span class="mw-headline" id="PongGameMode.h">PongGameMode.h</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/GameMode.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongGameMode.generated.h&quot;</span><span class="cp"></span>

<span class="cm">/**</span>
<span class="cm"> * </span>
<span class="cm"> */</span>
<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">APongGameMode</span> <span class="p">:</span> <span class="k">public</span> <span class="n">AGameMode</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>

<span class="k">public</span><span class="o">:</span>
	<span class="c1">//Constructor where we set the default classes to initialize</span>
	<span class="n">APongGameMode</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>
	
	<span class="c1">//Function called to spawn our pawn objects into the world</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">StartPlay</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
<h3><span class="mw-headline" id="PongGameMode.cpp">PongGameMode.cpp</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongGameMode.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Paddle.h&quot;</span><span class="cp"></span>



<span class="n">APongGameMode</span><span class="o">::</span><span class="n">APongGameMode</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">DefaultPawnClass</span> <span class="o">=</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">();</span>
<span class="p">}</span>


<span class="kt">void</span> <span class="n">APongGameMode</span><span class="o">::</span><span class="n">StartPlay</span><span class="p">()</span>
<span class="p">{</span>

	<span class="n">Super</span><span class="o">::</span><span class="n">StartPlay</span><span class="p">();</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">StartMatch</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
<ol><li>Save/Compile</li>
<li>In the editor, on the right side under World Settings, Set the GameMode Override to PongGameMode</li>
<li>Save</li></ol>
<p>Now when you hit Play, A Paddle should be spawned into the game.  This is because the PongGameMode creates the default Pawn to spawn as the Paddle.
</p>
<h2><span class="mw-headline" id="Initializing_the_Background.2FCamera.2FPaddle.2FBall">Initializing the Background/Camera/Paddle/Ball</span></h2>
<p>We have a GameMode, Camera, Background, Ball, and Paddle.  So now we need to actually spawn all of these actors into our world.  To do this, we can make a call <code> GetWorld()-&gt;SpawnActor </code>  We will use this to create the Camera.Background, and the Ball.  We will also set the PongCameraActor that we spawn to be our focused view.  When we spawn the background, we are also going to want to set it's size to take up the entire view that we are looking at, so we will have to make some functions in the PongCameraActor/Background classes in order to help us do that.
</p>
<h3><span class="mw-headline" id="Background">Background</span></h3>
<p>For the background, we are going to want a way to set the width/height of the background sprite.  So, three functions were created to handle doing this - SetHeight, SetWidth, and SetDimensions
</p>
<h4><span class="mw-headline" id="Background.h_2">Background.h</span></h4>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/Actor.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Background.generated.h&quot;</span><span class="cp"></span>

<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">ABackground</span> <span class="p">:</span> <span class="k">public</span> <span class="n">AActor</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>
	
<span class="k">public</span><span class="o">:</span>	
	<span class="c1">// Sets default values for this actor&#39;s properties</span>
	<span class="n">ABackground</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>

	<span class="c1">// Called when the game starts or when spawned</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">BeginPlay</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>
	
	<span class="c1">// Called every frame</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaSeconds</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// Set the Width of this sprite</span>
	<span class="kt">void</span> <span class="nf">SetWidth</span><span class="p">(</span> <span class="kt">float</span> <span class="n">Width</span> <span class="p">);</span>

	<span class="c1">// Set the Height of this sprite</span>
	<span class="kt">void</span> <span class="nf">SetHeight</span><span class="p">(</span> <span class="kt">float</span> <span class="n">Height</span> <span class="p">);</span>

	<span class="c1">// Set the Width and Height of this sprite via a FVector2D</span>
	<span class="kt">void</span> <span class="nf">SetDimensions</span><span class="p">(</span> <span class="n">FVector2D</span><span class="o">&amp;</span> <span class="n">Dimensions</span> <span class="p">);</span>
	
<span class="k">private</span><span class="o">:</span>

	<span class="c1">//Reference to the Background Sprite</span>
	<span class="k">class</span> <span class="nc">UPaperSpriteComponent</span><span class="o">*</span> <span class="n">Sprite</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
<h4><span class="mw-headline" id="Background.cpp_2">Background.cpp</span></h4>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Background.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PaperSpriteComponent.h&quot;</span><span class="cp"></span>

<span class="c1">// Sets default values</span>
<span class="n">ABackground</span><span class="o">::</span><span class="n">ABackground</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
 	<span class="c1">// Set this actor to call Tick() every frame.  You can turn this off to improve performance if you don&#39;t need it.</span>
	<span class="n">PrimaryActorTick</span><span class="p">.</span><span class="n">bCanEverTick</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	
	<span class="c1">//Find the Background Sprite -- Right click on your sprite in the editor and click copy reference to get the path to it</span>
	<span class="n">ConstructorHelpers</span><span class="o">::</span><span class="n">FObjectFinder</span><span class="o">&lt;</span><span class="n">UPaperSprite</span><span class="o">&gt;</span> <span class="n">BackgroundSpriteRef</span><span class="p">(</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;PaperSprite&#39;/Game/Sprites/Background&#39;&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Create a default UPaperSpriteComponent and register it to this Actor</span>
	<span class="n">Sprite</span> <span class="o">=</span> <span class="n">ObjectInitializer</span><span class="p">.</span><span class="n">CreateDefaultSubobject</span><span class="o">&lt;</span><span class="n">UPaperSpriteComponent</span><span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;SpriteComp&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Set the Sprite to render for the UPaperSpriteComponent to the BackgroundSprite Reference we grabbed</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetSprite</span><span class="p">(</span> <span class="n">BackgroundSpriteRef</span><span class="p">.</span><span class="n">Object</span> <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Called when the game starts or when spawned</span>
<span class="kt">void</span> <span class="n">ABackground</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">();</span>
	
<span class="p">}</span>

<span class="c1">// Called every frame</span>
<span class="kt">void</span> <span class="n">ABackground</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="n">DeltaTime</span> <span class="p">);</span>

<span class="p">}</span>

<span class="c1">// Set the Width of this sprite</span>
<span class="kt">void</span> <span class="n">ABackground</span><span class="o">::</span><span class="n">SetWidth</span><span class="p">(</span> <span class="kt">float</span> <span class="n">Width</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//calculate the new X scale value</span>
	<span class="kt">float</span> <span class="n">sourceWidth</span> <span class="o">=</span> <span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetSprite</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetSourceSize</span><span class="p">().</span><span class="n">X</span><span class="p">;</span>
	<span class="kt">float</span> <span class="n">scale</span><span class="p">;</span>

	<span class="c1">//Scale must be &gt; 1 is the sourceWidth &lt; Width and &lt; 1 in the other case</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">Width</span> <span class="o">&lt;=</span> <span class="n">sourceWidth</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">scale</span> <span class="o">=</span> <span class="n">sourceWidth</span> <span class="o">/</span> <span class="n">Width</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span>
	<span class="p">{</span>
		<span class="n">scale</span> <span class="o">=</span> <span class="n">Width</span> <span class="o">/</span> <span class="n">sourceWidth</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="c1">//Update the current scale with the new value</span>
	<span class="n">FVector</span> <span class="n">scaleV</span> <span class="o">=</span> <span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">RelativeScale3D</span><span class="p">;</span>
	<span class="n">scaleV</span><span class="p">.</span><span class="n">X</span> <span class="o">=</span> <span class="n">scale</span><span class="p">;</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeScale3D</span><span class="p">(</span> <span class="n">scaleV</span> <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Set the Height of this sprite</span>
<span class="kt">void</span> <span class="n">ABackground</span><span class="o">::</span><span class="n">SetHeight</span><span class="p">(</span> <span class="kt">float</span> <span class="n">Height</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//calculate the new Z scale value (Camera is orientated so that Z is up/down)</span>
	<span class="kt">float</span> <span class="n">sourceHeight</span> <span class="o">=</span> <span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetSprite</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetSourceSize</span><span class="p">().</span><span class="n">Y</span><span class="p">;</span>
	<span class="kt">float</span> <span class="n">scale</span><span class="p">;</span>

	<span class="c1">//Scale must be &gt; 1 is the sourceHeight &lt; Height and &lt; 1 in the other case</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">Height</span> <span class="o">&lt;=</span> <span class="n">sourceHeight</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">scale</span> <span class="o">=</span> <span class="n">sourceHeight</span> <span class="o">/</span> <span class="n">Height</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span>
	<span class="p">{</span>
		<span class="n">scale</span> <span class="o">=</span> <span class="n">Height</span> <span class="o">/</span> <span class="n">sourceHeight</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="c1">//Update the current scale with the new value</span>
	<span class="n">FVector</span> <span class="n">scaleV</span> <span class="o">=</span> <span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">RelativeScale3D</span><span class="p">;</span>
	<span class="n">scaleV</span><span class="p">.</span><span class="n">Z</span> <span class="o">=</span> <span class="n">scale</span><span class="p">;</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeScale3D</span><span class="p">(</span> <span class="n">scaleV</span> <span class="p">);</span>
<span class="p">}</span>

<span class="c1">//Wrapper around SetHeight and SetWidth for a FVector2D</span>
<span class="kt">void</span> <span class="n">ABackground</span><span class="o">::</span><span class="n">SetDimensions</span><span class="p">(</span> <span class="n">FVector2D</span><span class="o">&amp;</span> <span class="n">Dimensions</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">SetWidth</span><span class="p">(</span> <span class="n">Dimensions</span><span class="p">.</span><span class="n">X</span> <span class="p">);</span>
	<span class="n">SetHeight</span><span class="p">(</span> <span class="n">Dimensions</span><span class="p">.</span><span class="n">Y</span> <span class="p">);</span>
<span class="p">}</span>
</pre></div>
<p><br />
</p>
<h3><span class="mw-headline" id="PongCamera">PongCamera</span></h3>
<p>First, we need to create the class.
</p>
<ol><li>Go into the Editor, select New C++ Class</li>
<li>Click the CheckBox for Showing All the Classes</li>
<li>Search for and Select "CameraActor"</li>
<li>Call your new class PongCamera</li>
<li>Create</li></ol>
<p>Since we are making a 2D type of game, we are going to want to use an Orthographic perspective.  The reason for this is that we won't have to worry about the depth of the objects too much (In this game, the y-axis is being used to represent the depth)
</p><p>By extending the CameraActor class, we will default get a CameraComponent constructed onto our Actor.  So, we need to run some initialization on this Class.  Also, we need to create a function to get the Dimensions that we can use to set our background object.  So, lets make this class.
</p>
<h4><span class="mw-headline" id="PongCamera.h">PongCamera.h</span></h4>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;Camera/CameraActor.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongCamera.generated.h&quot;</span><span class="cp"></span>

<span class="cm">/**</span>
<span class="cm">*</span>
<span class="cm">*/</span>
<span class="n">UCLASS</span><span class="p">(</span> <span class="p">)</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">APongCamera</span> <span class="p">:</span> <span class="k">public</span> <span class="n">ACameraActor</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">(</span> <span class="p">)</span>

<span class="k">public</span><span class="o">:</span>

	<span class="n">APongCamera</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>

	<span class="c1">//Get a 2D vector representing the Height/Width of what is being current displayed on the screen</span>
	<span class="n">FVector2D</span> <span class="nf">GetViewDimensions</span><span class="p">();</span>

<span class="p">};</span>
</pre></div>
<h4><span class="mw-headline" id="PongCamera.cpp">PongCamera.cpp</span></h4>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongCamera.h&quot;</span><span class="cp"></span>


<span class="n">APongCamera</span><span class="o">::</span><span class="n">APongCamera</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">UCameraComponent</span><span class="o">*</span> <span class="n">Camera</span> <span class="o">=</span> <span class="n">GetCameraComponent</span><span class="p">();</span>

	<span class="c1">//Set the Camera To Orthographic.  Also set the Location and Rotation on the Camera: X is left and right, Z is up and down, Y is depth relative to this camera</span>
	<span class="n">Camera</span><span class="o">-&gt;</span><span class="n">ProjectionMode</span> <span class="o">=</span> <span class="n">ECameraProjectionMode</span><span class="o">::</span><span class="n">Orthographic</span><span class="p">;</span>
	<span class="n">Camera</span><span class="o">-&gt;</span><span class="n">SetRelativeLocation</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">100.0f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Camera</span><span class="o">-&gt;</span><span class="n">SetRelativeRotation</span><span class="p">(</span> <span class="n">FRotator</span><span class="p">(</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="o">-</span><span class="mf">90.0f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Camera</span><span class="o">-&gt;</span><span class="n">SetAbsolute</span><span class="p">(</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">true</span> <span class="p">);</span>

<span class="p">}</span>

<span class="c1">//Get the Dimensions of what our camera can view</span>
<span class="n">FVector2D</span> <span class="n">APongCamera</span><span class="o">::</span><span class="n">GetViewDimensions</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">UCameraComponent</span><span class="o">*</span> <span class="n">Camera</span> <span class="o">=</span> <span class="n">GetCameraComponent</span><span class="p">();</span>
	<span class="n">FVector2D</span> <span class="n">dimensions</span><span class="p">;</span>

	<span class="c1">//The width is the Orthographic view Width.  Calculate the height from the Aspect ratio and OrthoWidth</span>
	<span class="n">dimensions</span><span class="p">.</span><span class="n">X</span> <span class="o">=</span> <span class="n">Camera</span><span class="o">-&gt;</span><span class="n">OrthoWidth</span><span class="p">;</span>
	<span class="n">dimensions</span><span class="p">.</span><span class="n">Y</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span> <span class="n">Camera</span><span class="o">-&gt;</span><span class="n">AspectRatio</span> <span class="o">/</span> <span class="n">Camera</span><span class="o">-&gt;</span><span class="n">OrthoWidth</span> <span class="p">);</span>

	<span class="k">return</span> <span class="n">dimensions</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p><br />
</p>
<h3><span class="mw-headline" id="Paddle">Paddle</span></h3>
<p>For the ball, all we are going to do is set it up to spawn to the left on the board.  We also need to remember that our Background has a location of 0,0,0.  So, since we want our Paddle to be visible in front of the board, we are going to set the Y value of the paddle to be greater than that of the Background.  In this case, we will just set it to 10.
</p><p>Now, we could make a function in the paddle to set the starting location based on the background dimensions or the camera view.  But, we are not going to worry about that and we are just going to hard-code in some values.  If you want to attempt to initialize the paddle on the left hand side via a function call, it would make for a good practice exercise at this point.
</p>
<h4><span class="mw-headline" id="Paddle.h_2">Paddle.h</span></h4>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/Pawn.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Paddle.generated.h&quot;</span><span class="cp"></span>

<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">APaddle</span> <span class="p">:</span> <span class="k">public</span> <span class="n">APawn</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>

<span class="k">public</span><span class="o">:</span>
	<span class="c1">// Sets default values for this pawn&#39;s properties</span>
	<span class="n">APaddle</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>

	<span class="c1">// Called when the game starts or when spawned</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">BeginPlay</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>
	
	<span class="c1">// Called every frame</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaSeconds</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// Called to bind functionality to input</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">SetupPlayerInputComponent</span><span class="p">(</span><span class="k">class</span> <span class="nc">UInputComponent</span><span class="o">*</span> <span class="n">InputComponent</span><span class="p">)</span> <span class="k">override</span><span class="p">;</span>

<span class="k">private</span><span class="o">:</span>

	<span class="c1">//Reference to the Sprite Component which contains the paddle sprite</span>
	<span class="k">class</span> <span class="nc">UPaperSpriteComponent</span><span class="o">*</span> <span class="n">Sprite</span><span class="p">;</span>
	
<span class="p">};</span>
</pre></div>
<h4><span class="mw-headline" id="Paddle.cpp_2">Paddle.cpp</span></h4>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Paddle.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PaperSpriteComponent.h&quot;</span><span class="cp"></span>


<span class="c1">// Sets default values</span>
<span class="n">APaddle</span><span class="o">::</span><span class="n">APaddle</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
 	<span class="c1">// Set this pawn to call Tick() every frame.  You can turn this off to improve performance if you don&#39;t need it.</span>
	<span class="n">PrimaryActorTick</span><span class="p">.</span><span class="n">bCanEverTick</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

	<span class="c1">//Find the Paddle Sprite -- Right click on your sprite in the editor and click copy reference to get the path to it</span>
	<span class="n">ConstructorHelpers</span><span class="o">::</span><span class="n">FObjectFinder</span><span class="o">&lt;</span><span class="n">UPaperSprite</span><span class="o">&gt;</span> <span class="n">PaddleSpriteRef</span><span class="p">(</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;PaperSprite&#39;/Game/Sprites/Paddle&#39;&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Create a default UPaperSpriteComponent and register it to this Actor</span>
	<span class="n">Sprite</span> <span class="o">=</span> <span class="n">ObjectInitializer</span><span class="p">.</span><span class="n">CreateDefaultSubobject</span><span class="o">&lt;</span><span class="n">UPaperSpriteComponent</span><span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;SpriteComp&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Set the Sprite to render for the UPaperSpriteComponent to the PaddleSprite Reference we grabbed</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetSprite</span><span class="p">(</span> <span class="n">PaddleSpriteRef</span><span class="p">.</span><span class="n">Object</span> <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Called when the game starts or when spawned</span>
<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">();</span>
	
	<span class="c1">//Set the location of the Paddle to the Left</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeLocation</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="o">-</span><span class="mf">200.0f</span><span class="p">,</span> <span class="mf">10.f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeRotation</span><span class="p">(</span> <span class="n">FRotator</span><span class="p">(</span> <span class="mf">0.f</span><span class="p">,</span> <span class="mf">0.f</span><span class="p">,</span> <span class="mf">0.f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeScale3D</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.1f</span><span class="p">,</span> <span class="mf">1.0f</span><span class="p">,</span> <span class="mf">0.1f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetAbsolute</span><span class="p">(</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">true</span> <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Called every frame</span>
<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="n">DeltaTime</span> <span class="p">);</span>

<span class="p">}</span>

<span class="c1">// Called to bind functionality to input</span>
<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">SetupPlayerInputComponent</span><span class="p">(</span><span class="k">class</span> <span class="nc">UInputComponent</span><span class="o">*</span> <span class="n">InputComponent</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">SetupPlayerInputComponent</span><span class="p">(</span><span class="n">InputComponent</span><span class="p">);</span>

<span class="p">}</span>
</pre></div>
<h3><span class="mw-headline" id="Ball">Ball</span></h3>
<p>For the ball, we are going to spawn it right in the middle of the screen instead of to the left with the paddle.  This is a very similar setup.
</p>
<h4><span class="mw-headline" id="Ball.h_2">Ball.h</span></h4>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/Actor.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Ball.generated.h&quot;</span><span class="cp"></span>

<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">ABall</span> <span class="p">:</span> <span class="k">public</span> <span class="n">AActor</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>
	
<span class="k">public</span><span class="o">:</span>	
	<span class="c1">// Sets default values for this actor&#39;s properties</span>
	<span class="n">ABall</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>

	<span class="c1">// Called when the game starts or when spawned</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">BeginPlay</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>
	
	<span class="c1">// Called every frame</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaSeconds</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

<span class="k">private</span><span class="o">:</span>

	<span class="c1">//Reference to the Sprite Component which contains the ball sprite</span>
	<span class="k">class</span> <span class="nc">UPaperSpriteComponent</span><span class="o">*</span> <span class="n">Sprite</span><span class="p">;</span>
	
<span class="p">};</span>
</pre></div>
<h4><span class="mw-headline" id="Ball.cpp_2">Ball.cpp</span></h4>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Ball.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PaperSpriteComponent.h&quot;</span><span class="cp"></span>

<span class="c1">// Sets default values</span>
<span class="n">ABall</span><span class="o">::</span><span class="n">ABall</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
 	<span class="c1">// Set this actor to call Tick() every frame.  You can turn this off to improve performance if you don&#39;t need it.</span>
	<span class="n">PrimaryActorTick</span><span class="p">.</span><span class="n">bCanEverTick</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

	<span class="c1">//Find the Ball Sprite -- Right click on your sprite in the editor and click copy reference to get the path to it</span>
	<span class="n">ConstructorHelpers</span><span class="o">::</span><span class="n">FObjectFinder</span><span class="o">&lt;</span><span class="n">UPaperSprite</span><span class="o">&gt;</span> <span class="n">BallSpriteRef</span><span class="p">(</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;PaperSprite&#39;/Game/Sprites/Ball&#39;&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Create a default UPaperSpriteComponent and register it to this Actor</span>
	<span class="n">Sprite</span> <span class="o">=</span> <span class="n">ObjectInitializer</span><span class="p">.</span><span class="n">CreateDefaultSubobject</span><span class="o">&lt;</span><span class="n">UPaperSpriteComponent</span><span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;SpriteComp&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Set the Sprite to render for the UPaperSpriteComponent to the BallSprite Reference we grabbed</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetSprite</span><span class="p">(</span> <span class="n">BallSpriteRef</span><span class="p">.</span><span class="n">Object</span> <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Called when the game starts or when spawned</span>
<span class="kt">void</span> <span class="n">ABall</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">();</span>

	<span class="c1">//Set the ball to spawn in the middle of the Board and scale its size down</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeLocation</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">10.0f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeScale3D</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.07f</span><span class="p">,</span> <span class="mf">1.0f</span><span class="p">,</span> <span class="mf">0.07f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetAbsolute</span><span class="p">(</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">true</span> <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Called every frame</span>
<span class="kt">void</span> <span class="n">ABall</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="n">DeltaTime</span> <span class="p">);</span>

<span class="p">}</span>
</pre></div>
<h3><span class="mw-headline" id="PongGameMode">PongGameMode</span></h3>
<p>Finally, we are going to actually spawn everything in the GameMode's StartPlay() function.  This is where we are going to tie the background and camera together too.
</p>
<h4><span class="mw-headline" id="PongGameMode.h_2">PongGameMode.h</span></h4>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/GameMode.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongGameMode.generated.h&quot;</span><span class="cp"></span>

<span class="cm">/**</span>
<span class="cm"> * </span>
<span class="cm"> */</span>
<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">APongGameMode</span> <span class="p">:</span> <span class="k">public</span> <span class="n">AGameMode</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>

<span class="k">public</span><span class="o">:</span>
	<span class="c1">//Constructor where we set the default classes to initialize</span>
	<span class="n">APongGameMode</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>
	
	<span class="c1">//Function called to spawn our pawn objects into the world</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">StartPlay</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
<h4><span class="mw-headline" id="PongGameMode.cpp_2">PongGameMode.cpp</span></h4>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongGameMode.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Paddle.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongCamera.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Background.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Ball.h&quot;</span><span class="cp"></span>

<span class="n">APongGameMode</span><span class="o">::</span><span class="n">APongGameMode</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">DefaultPawnClass</span> <span class="o">=</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">();</span>
	
<span class="p">}</span>


<span class="kt">void</span> <span class="n">APongGameMode</span><span class="o">::</span><span class="n">StartPlay</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">StartPlay</span><span class="p">(</span> <span class="p">);</span>
	<span class="n">UWorld</span><span class="o">*</span> <span class="k">const</span> <span class="n">World</span> <span class="o">=</span> <span class="n">GetWorld</span><span class="p">();</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">World</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">APongCamera</span><span class="o">*</span> <span class="n">camera</span> <span class="o">=</span> <span class="n">World</span><span class="o">-&gt;</span><span class="n">SpawnActor</span><span class="o">&lt;</span><span class="n">APongCamera</span><span class="o">&gt;</span><span class="p">(</span> <span class="n">APongCamera</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">()</span> <span class="p">);</span>
		
		<span class="c1">//Camera is set to the CameraActor created</span>
		<span class="n">World</span><span class="o">-&gt;</span><span class="n">GetFirstPlayerController</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetViewTarget</span><span class="p">(</span> <span class="n">camera</span> <span class="p">);</span>

		<span class="c1">//Set the background to fill up the entire view of the camera</span>
		<span class="n">ABackground</span><span class="o">*</span> <span class="n">background</span> <span class="o">=</span> <span class="n">World</span><span class="o">-&gt;</span><span class="n">SpawnActor</span><span class="o">&lt;</span><span class="n">ABackground</span><span class="o">&gt;</span><span class="p">(</span> <span class="n">ABackground</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">()</span> <span class="p">);</span>
		<span class="n">FVector2D</span> <span class="n">dimensions</span> <span class="o">=</span> <span class="n">camera</span><span class="o">-&gt;</span><span class="n">GetViewDimensions</span><span class="p">();</span>
		<span class="n">background</span><span class="o">-&gt;</span><span class="n">SetDimensions</span><span class="p">(</span> <span class="n">dimensions</span> <span class="p">);</span>

		<span class="c1">//Spawn the Ball into the World</span>
		<span class="n">World</span><span class="o">-&gt;</span><span class="n">SpawnActor</span><span class="o">&lt;</span><span class="n">ABall</span><span class="o">&gt;</span><span class="p">(</span> <span class="n">ABall</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">()</span> <span class="p">);</span>
	<span class="p">}</span>

	<span class="n">Super</span><span class="o">::</span><span class="n">StartMatch</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
<p>Play the game and you should see a Pong game in the works!  There should be a paddle, a ball, and a background in your view.
</p>
<h2><span class="mw-headline" id="Moving_the_Paddle">Moving the Paddle</span></h2>
<p>So, now we need to make it where we can move the paddle up and down.  To do this, we are going to bind the up and down arrow keys to call a function within the Paddle class.  So, lets set this up.
</p>
<ol><li>In the editor, go to Edit -&gt; Project Settings</li>
<li>Under Engine go to Input</li>
<li>Create a new Axis Mapping and Call it "Move"</li>
<li>Create two mappings under the group</li>
<li>For the first one, select the Up key and set the scale to 1.0</li>
<li>For the second one, select the Down Key and set the scale to -1.0</li>
<li>Exit out of the Settings</li></ol>
<p>Go back to Visual Studio and open up Paddle.cpp.  We are going to modify this class to handle the input.  Now, it may be the case where you want to create your own custom movement component and custom player controller.  We are not going to do this because the paddle has very basic movement functionality that can be handled with ease inside the paddle class.  I am mentioning this because if you are going to create more complex handling of the Player's will, then you might want your own playercontroller.  You can read more on it here: <a rel="nofollow" class="external free" href="https://docs.unrealengine.com/latest/INT/Gameplay/Framework/Controller/PlayerController/">https://docs.unrealengine.com/latest/INT/Gameplay/Framework/Controller/PlayerController/</a>
</p><p>Ok, now lets bind the input key to our paddle and update the movement of the paddle within the Tick function, please read the comments in the code to see how this is working.
</p>
<h3><span class="mw-headline" id="Paddle.h_3">Paddle.h</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/Pawn.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Paddle.generated.h&quot;</span><span class="cp"></span>

<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">APaddle</span> <span class="p">:</span> <span class="k">public</span> <span class="n">APawn</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>

<span class="k">public</span><span class="o">:</span>
	<span class="c1">// Sets default values for this pawn&#39;s properties</span>
	<span class="n">APaddle</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>

	<span class="c1">// Called when the game starts or when spawned</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">BeginPlay</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>
	
	<span class="c1">// Called every frame</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaSeconds</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// Called to bind functionality to input</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">SetupPlayerInputComponent</span><span class="p">(</span><span class="k">class</span> <span class="nc">UInputComponent</span><span class="o">*</span> <span class="n">InputComponent</span><span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// Function called to move the paddle.  Scale represents up/down</span>
	<span class="kt">void</span> <span class="nf">MovePaddle</span><span class="p">(</span> <span class="kt">float</span> <span class="n">Scale</span> <span class="p">);</span>

<span class="k">private</span><span class="o">:</span>

	<span class="c1">//Reference to the Sprite Component which contains the paddle sprite</span>
	<span class="k">class</span> <span class="nc">UPaperSpriteComponent</span><span class="o">*</span> <span class="n">Sprite</span><span class="p">;</span>
	
<span class="p">};</span>
</pre></div>
<h3><span class="mw-headline" id="Paddle.cpp_3">Paddle.cpp</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Paddle.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PaperSpriteComponent.h&quot;</span><span class="cp"></span>


<span class="c1">// Sets default values</span>
<span class="n">APaddle</span><span class="o">::</span><span class="n">APaddle</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
 	<span class="c1">// Set this pawn to call Tick() every frame.  You can turn this off to improve performance if you don&#39;t need it.</span>
	<span class="n">PrimaryActorTick</span><span class="p">.</span><span class="n">bCanEverTick</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

	<span class="c1">//Find the Paddle Sprite -- Right click on your sprite in the editor and click copy reference to get the path to it</span>
	<span class="n">ConstructorHelpers</span><span class="o">::</span><span class="n">FObjectFinder</span><span class="o">&lt;</span><span class="n">UPaperSprite</span><span class="o">&gt;</span> <span class="n">PaddleSpriteRef</span><span class="p">(</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;PaperSprite&#39;/Game/Sprites/Paddle&#39;&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Create a default UPaperSpriteComponent and register it to this Actor</span>
	<span class="n">Sprite</span> <span class="o">=</span> <span class="n">ObjectInitializer</span><span class="p">.</span><span class="n">CreateDefaultSubobject</span><span class="o">&lt;</span><span class="n">UPaperSpriteComponent</span><span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;SpriteComp&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Set the Sprite to render for the UPaperSpriteComponent to the PaddleSprite Reference we grabbed</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetSprite</span><span class="p">(</span> <span class="n">PaddleSpriteRef</span><span class="p">.</span><span class="n">Object</span> <span class="p">);</span>

	<span class="n">ObjectInitializer</span><span class="p">.</span><span class="n">CreateDefaultSubobject</span><span class="o">&lt;</span><span class="n">UPawnMovementComponent</span><span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;MovementComp&quot;</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Called when the game starts or when spawned</span>
<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">();</span>
	
	<span class="c1">//Set the location of the Paddle to the Left</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeLocation</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="o">-</span><span class="mf">200.0f</span><span class="p">,</span> <span class="mf">10.f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeRotation</span><span class="p">(</span> <span class="n">FRotator</span><span class="p">(</span> <span class="mf">0.f</span><span class="p">,</span> <span class="mf">0.f</span><span class="p">,</span> <span class="mf">0.f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeScale3D</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.1f</span><span class="p">,</span> <span class="mf">1.0f</span><span class="p">,</span> <span class="mf">0.1f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetAbsolute</span><span class="p">(</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">true</span> <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Called every frame</span>
<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="n">DeltaTime</span> <span class="p">);</span>
	
	<span class="c1">// Update the sprites location based on the movement input</span>
	<span class="n">FVector</span> <span class="n">move</span> <span class="o">=</span> <span class="n">GetMovementInputVector</span><span class="p">();</span>
	<span class="n">FVector</span> <span class="n">location</span> <span class="o">=</span> <span class="n">GetActorLocation</span><span class="p">();</span>
	<span class="n">location</span> <span class="o">+=</span> <span class="n">move</span><span class="o">*</span><span class="n">DeltaTime</span><span class="p">;</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeLocation</span><span class="p">(</span> <span class="n">location</span> <span class="p">);</span>
	
<span class="p">}</span>

<span class="c1">// Called to bind functionality to input</span>
<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">SetupPlayerInputComponent</span><span class="p">(</span><span class="k">class</span> <span class="nc">UInputComponent</span><span class="o">*</span> <span class="n">InputComponent</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">SetupPlayerInputComponent</span><span class="p">(</span><span class="n">InputComponent</span><span class="p">);</span>

	<span class="k">const</span> <span class="n">UInputSettings</span><span class="o">*</span> <span class="n">settings</span> <span class="o">=</span> <span class="n">GetDefault</span><span class="o">&lt;</span><span class="n">UInputSettings</span><span class="o">&gt;</span><span class="p">(</span> <span class="p">);</span>

	<span class="c1">//Create movement mappings for upwards and downwards movement, the float value tells if we are moving the paddle up or down</span>
	<span class="k">const</span> <span class="n">FInputAxisKeyMapping</span> <span class="nf">upKey</span><span class="p">(</span><span class="s">&quot;Move&quot;</span><span class="p">,</span> <span class="n">EKeys</span><span class="o">::</span><span class="n">Up</span><span class="p">,</span> <span class="mf">1.0f</span><span class="p">);</span>
	<span class="k">const</span> <span class="n">FInputAxisKeyMapping</span> <span class="nf">downKey</span><span class="p">(</span> <span class="s">&quot;Move&quot;</span><span class="p">,</span> <span class="n">EKeys</span><span class="o">::</span><span class="n">Down</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0f</span> <span class="p">);</span>

	<span class="c1">// Add the axis mappings</span>
	<span class="c1">// Once this code is executed, these mappings will be added in the editors Input Settings!</span>
	<span class="p">((</span><span class="n">UInputSettings</span><span class="o">*</span><span class="p">)</span><span class="n">settings</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">AddAxisMapping</span><span class="p">(</span> <span class="n">upKey</span> <span class="p">);</span>
	<span class="p">((</span><span class="n">UInputSettings</span><span class="o">*</span><span class="p">)</span><span class="n">settings</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">AddAxisMapping</span><span class="p">(</span> <span class="n">downKey</span> <span class="p">);</span>

	<span class="c1">// Bind the axis - if we press up, the function is called with 1.0.  if we press down, the function is called with -1.0.</span>
	<span class="c1">// if we do nothing, the function is called with 0.0f</span>
	<span class="n">InputComponent</span><span class="o">-&gt;</span><span class="n">BindAxis</span><span class="p">(</span> <span class="s">&quot;Move&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">APaddle</span><span class="o">::</span><span class="n">MovePaddle</span> <span class="p">);</span>

<span class="p">}</span>

<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">MovePaddle</span><span class="p">(</span> <span class="kt">float</span> <span class="n">Scale</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//Add a movement input, hardcoding in 75.0f for the vector</span>
	<span class="n">FVector</span> <span class="n">direction</span> <span class="o">=</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">75.0f</span> <span class="p">);</span>
	<span class="n">GetMovementComponent</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">ConsumeInputVector</span><span class="p">();</span>
	<span class="n">AddMovementInput</span><span class="p">(</span> <span class="n">direction</span><span class="p">,</span> <span class="n">Scale</span> <span class="p">);</span>
<span class="p">}</span>
</pre></div>
<p>Running this, you'll notice that the paddle moves up and down but there is a problem!  It can go straight off the screen.  This is the next issue that we'll have to fix.
</p>
<h2><span class="mw-headline" id="Adding_Bounds">Adding Bounds</span></h2>
<p>There are three different bounds that need to be added to the Pong game.  Bounds for encompassing the border of the gameboard - you don't want the ball to go off screen ever.  Also there need to be bounds for the goals when the pong ball counts as a score for the player or AI.  
</p><p>There are many ways to go about implementing this and I chose to use some sprites in order to handle collisions/overlap events.  This seemed like the easiest way to me to create the necessary data to handle collision.  Now we are going to go back into some of the classes created earlier and modify them to handle/generate events that we want.
</p>
<h3><span class="mw-headline" id="Bounds">Bounds</span></h3>
<p>The Bounds Class was modified to have a function to set it's scale (Since the bounds are being generated from a Sprite that is relative to the background Sprite, we want these two Objects to have the same scale).  We also want the bounds to be set up for collision correctly.  It should Block everything.  The position of the Bounds should also be the same as the paddle/ball in the world - This is hardcoded to 50.0 units.
</p><p>Before we go in and modify the code, we need to set the collision to be correct on the sprite itself.  
</p>
<ol><li>Go to the Bounds Sprite in the editor and double click on it</li>
<li>Click on Edit Collision</li>
<li>You will notice that the collision is set to be a filled rectangle.  We DO NOT want this.  In order to fix this, we are going to have to modify the collision data of the sprite.</li>
<li>Under Collision/Collision Shapes on the right hand side, delete the current collision shape, we do not want it</li>
<li>Add Four new collision shapes - Each a rectangle that covers one edge of the sprite.  Use the tips in the top-left of the editor for help with how to insert/remove vertices.</li></ol>
<p>Once your finished, your collision is probably not going to be perfect, but it will be decent.  You can get a feel for working visually with the collision geometry.  Now, lets go edit the Bounds Class.
</p>
<h4><span class="mw-headline" id="Bounds.h_2">Bounds.h</span></h4>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/Actor.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Bounds.generated.h&quot;</span><span class="cp"></span>

<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">ABounds</span> <span class="p">:</span> <span class="k">public</span> <span class="n">AActor</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>
	
<span class="k">public</span><span class="o">:</span>	
	<span class="c1">// Sets default values for this actor&#39;s properties</span>
	<span class="n">ABounds</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>

	<span class="c1">// Called when the game starts or when spawned</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">BeginPlay</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>
	
	<span class="c1">// Called every frame</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaSeconds</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// Set the X,Y, and Z scale for the sprite</span>
	<span class="kt">void</span> <span class="nf">SetScale</span><span class="p">(</span> <span class="n">FVector</span><span class="o">&amp;</span> <span class="n">vector</span> <span class="p">);</span>

<span class="k">private</span><span class="o">:</span>

	<span class="c1">//Reference to the Component that holds the Bounds Sprite.</span>
	<span class="k">class</span> <span class="nc">UPaperSpriteComponent</span><span class="o">*</span> <span class="n">Sprite</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
<h4><span class="mw-headline" id="Bounds.cpp_2">Bounds.cpp</span></h4>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Bounds.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PaperSpriteComponent.h&quot;</span><span class="cp"></span>

<span class="c1">// Sets default values</span>
<span class="n">ABounds</span><span class="o">::</span><span class="n">ABounds</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
 	<span class="c1">// Set this actor to call Tick() every frame.  You can turn this off to improve performance if you don&#39;t need it.</span>
	<span class="n">PrimaryActorTick</span><span class="p">.</span><span class="n">bCanEverTick</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

	<span class="c1">//Find the Bounds Sprite -- Right click on your sprite in the editor and click copy reference to get the path to it</span>
	<span class="n">ConstructorHelpers</span><span class="o">::</span><span class="n">FObjectFinder</span><span class="o">&lt;</span><span class="n">UPaperSprite</span><span class="o">&gt;</span> <span class="n">BoundsSpriteRef</span><span class="p">(</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;PaperSprite&#39;/Game/Sprites/Bounds&#39;&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Create a default UPaperSpriteComponent and register it to this Actor</span>
	<span class="n">Sprite</span> <span class="o">=</span> <span class="n">ObjectInitializer</span><span class="p">.</span><span class="n">CreateDefaultSubobject</span><span class="o">&lt;</span><span class="n">UPaperSpriteComponent</span><span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;Bounds&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Set the Sprite to render for the UPaperSpriteComponent to the BoundsSprite Reference we grabbed</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetSprite</span><span class="p">(</span> <span class="n">BoundsSpriteRef</span><span class="p">.</span><span class="n">Object</span> <span class="p">);</span>

	<span class="c1">//Make sure that this component blocks everything</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetCollisionEnabled</span><span class="p">(</span> <span class="n">ECollisionEnabled</span><span class="o">::</span><span class="n">QueryAndPhysics</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetObjectType</span><span class="p">(</span> <span class="n">ECollisionChannel</span><span class="o">::</span><span class="n">ECC_WorldStatic</span> <span class="p">);</span>

	<span class="c1">//Don&#39;t draw this sprite</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetVisibility</span><span class="p">(</span> <span class="nb">false</span> <span class="p">);</span>

<span class="p">}</span>

<span class="c1">// Called when the game starts or when spawned</span>
<span class="kt">void</span> <span class="n">ABounds</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">();</span>

	<span class="c1">//Set the location of the Bounds to be the same as the paddle - This is just hardcoded to 50 units</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeLocation</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">50.f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetAbsolute</span><span class="p">(</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">true</span> <span class="p">);</span>

	<span class="c1">//Ensure that this component&#39;s name is &quot;Bounds&quot;</span>
	<span class="n">Rename</span><span class="p">(</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;Bounds&quot;</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Called every frame</span>
<span class="kt">void</span> <span class="n">ABounds</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="n">DeltaTime</span> <span class="p">);</span>

<span class="p">}</span>

<span class="c1">// Set the X,Y, and Z scale for the sprite</span>
<span class="kt">void</span> <span class="n">ABounds</span><span class="o">::</span><span class="n">SetScale</span><span class="p">(</span> <span class="n">FVector</span><span class="o">&amp;</span> <span class="n">vector</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeScale3D</span><span class="p">(</span> <span class="n">vector</span> <span class="p">);</span>
<span class="p">}</span>
</pre></div>
<p><br />
The Background class was also modified to add in an accessor for the Scale.  The GameMode was also updated to spawn the bounds.
</p>
<h3><span class="mw-headline" id="Background.h_3">Background.h</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/Actor.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Background.generated.h&quot;</span><span class="cp"></span>

<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">ABackground</span> <span class="p">:</span> <span class="k">public</span> <span class="n">AActor</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>
	
<span class="k">public</span><span class="o">:</span>	
	<span class="c1">// Sets default values for this actor&#39;s properties</span>
	<span class="n">ABackground</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>

	<span class="c1">// Called when the game starts or when spawned</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">BeginPlay</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>
	
	<span class="c1">// Called every frame</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaSeconds</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// Set the Width of this sprite</span>
	<span class="kt">void</span> <span class="nf">SetWidth</span><span class="p">(</span> <span class="kt">float</span> <span class="n">Width</span> <span class="p">);</span>

	<span class="c1">// Set the Height of this sprite</span>
	<span class="kt">void</span> <span class="nf">SetHeight</span><span class="p">(</span> <span class="kt">float</span> <span class="n">Height</span> <span class="p">);</span>

	<span class="c1">// Set the Width and Height of this sprite via a FVector2D</span>
	<span class="kt">void</span> <span class="nf">SetDimensions</span><span class="p">(</span> <span class="n">FVector2D</span><span class="o">&amp;</span> <span class="n">Dimensions</span> <span class="p">);</span>
	
	<span class="c1">// Get the scale</span>
	<span class="n">FVector</span><span class="o">&amp;</span> <span class="n">GetScale</span><span class="p">();</span>

<span class="k">private</span><span class="o">:</span>

	<span class="c1">//Reference to the Background Sprite</span>
	<span class="k">class</span> <span class="nc">UPaperSpriteComponent</span><span class="o">*</span> <span class="n">Sprite</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
<h3><span class="mw-headline" id="Background.cpp_3">Background.cpp</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Background.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PaperSpriteComponent.h&quot;</span><span class="cp"></span>

<span class="c1">// Sets default values</span>
<span class="n">ABackground</span><span class="o">::</span><span class="n">ABackground</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
 	<span class="c1">// Set this actor to call Tick() every frame.  You can turn this off to improve performance if you don&#39;t need it.</span>
	<span class="n">PrimaryActorTick</span><span class="p">.</span><span class="n">bCanEverTick</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	
	<span class="c1">//Find the Background Sprite -- Right click on your sprite in the editor and click copy reference to get the path to it</span>
	<span class="n">ConstructorHelpers</span><span class="o">::</span><span class="n">FObjectFinder</span><span class="o">&lt;</span><span class="n">UPaperSprite</span><span class="o">&gt;</span> <span class="n">BackgroundSpriteRef</span><span class="p">(</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;PaperSprite&#39;/Game/Sprites/Background&#39;&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Create a default UPaperSpriteComponent and register it to this Actor</span>
	<span class="n">Sprite</span> <span class="o">=</span> <span class="n">ObjectInitializer</span><span class="p">.</span><span class="n">CreateDefaultSubobject</span><span class="o">&lt;</span><span class="n">UPaperSpriteComponent</span><span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;SpriteComp&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Set the Sprite to render for the UPaperSpriteComponent to the BackgroundSprite Reference we grabbed</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetSprite</span><span class="p">(</span> <span class="n">BackgroundSpriteRef</span><span class="p">.</span><span class="n">Object</span> <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Called when the game starts or when spawned</span>
<span class="kt">void</span> <span class="n">ABackground</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">();</span>
	
<span class="p">}</span>

<span class="c1">// Called every frame</span>
<span class="kt">void</span> <span class="n">ABackground</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="n">DeltaTime</span> <span class="p">);</span>

<span class="p">}</span>

<span class="c1">// Set the Width of this sprite</span>
<span class="kt">void</span> <span class="n">ABackground</span><span class="o">::</span><span class="n">SetWidth</span><span class="p">(</span> <span class="kt">float</span> <span class="n">Width</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//calculate the new X scale value</span>
	<span class="kt">float</span> <span class="n">sourceWidth</span> <span class="o">=</span> <span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetSprite</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetSourceSize</span><span class="p">().</span><span class="n">X</span><span class="p">;</span>
	<span class="kt">float</span> <span class="n">scale</span><span class="p">;</span>

	<span class="c1">//Scale must be &gt; 1 is the sourceWidth &lt; Width and &lt; 1 in the other case</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">Width</span> <span class="o">&lt;=</span> <span class="n">sourceWidth</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">scale</span> <span class="o">=</span> <span class="n">sourceWidth</span> <span class="o">/</span> <span class="n">Width</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span>
	<span class="p">{</span>
		<span class="n">scale</span> <span class="o">=</span> <span class="n">Width</span> <span class="o">/</span> <span class="n">sourceWidth</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="c1">//Update the current scale with the new value</span>
	<span class="n">FVector</span> <span class="n">scaleV</span> <span class="o">=</span> <span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">RelativeScale3D</span><span class="p">;</span>
	<span class="n">scaleV</span><span class="p">.</span><span class="n">X</span> <span class="o">=</span> <span class="n">scale</span><span class="p">;</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeScale3D</span><span class="p">(</span> <span class="n">scaleV</span> <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Set the Height of this sprite</span>
<span class="kt">void</span> <span class="n">ABackground</span><span class="o">::</span><span class="n">SetHeight</span><span class="p">(</span> <span class="kt">float</span> <span class="n">Height</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//calculate the new Z scale value (Camera is orientated so that Z is up/down)</span>
	<span class="kt">float</span> <span class="n">sourceHeight</span> <span class="o">=</span> <span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetSprite</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetSourceSize</span><span class="p">().</span><span class="n">Y</span><span class="p">;</span>
	<span class="kt">float</span> <span class="n">scale</span><span class="p">;</span>

	<span class="c1">//Scale must be &gt; 1 is the sourceHeight &lt; Height and &lt; 1 in the other case</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">Height</span> <span class="o">&lt;=</span> <span class="n">sourceHeight</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">scale</span> <span class="o">=</span> <span class="n">sourceHeight</span> <span class="o">/</span> <span class="n">Height</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span>
	<span class="p">{</span>
		<span class="n">scale</span> <span class="o">=</span> <span class="n">Height</span> <span class="o">/</span> <span class="n">sourceHeight</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="c1">//Update the current scale with the new value</span>
	<span class="n">FVector</span> <span class="n">scaleV</span> <span class="o">=</span> <span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">RelativeScale3D</span><span class="p">;</span>
	<span class="n">scaleV</span><span class="p">.</span><span class="n">Z</span> <span class="o">=</span> <span class="n">scale</span><span class="p">;</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeScale3D</span><span class="p">(</span> <span class="n">scaleV</span> <span class="p">);</span>
<span class="p">}</span>

<span class="c1">//Wrapper around SetHeight and SetWidth for a FVector2D</span>
<span class="kt">void</span> <span class="n">ABackground</span><span class="o">::</span><span class="n">SetDimensions</span><span class="p">(</span> <span class="n">FVector2D</span><span class="o">&amp;</span> <span class="n">Dimensions</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">SetWidth</span><span class="p">(</span> <span class="n">Dimensions</span><span class="p">.</span><span class="n">X</span> <span class="p">);</span>
	<span class="n">SetHeight</span><span class="p">(</span> <span class="n">Dimensions</span><span class="p">.</span><span class="n">Y</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">FVector</span><span class="o">&amp;</span> <span class="n">ABackground</span><span class="o">::</span><span class="n">GetScale</span><span class="p">()</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">RelativeScale3D</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<h3><span class="mw-headline" id="PongGameMode.h_3">PongGameMode.h</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/GameMode.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongGameMode.generated.h&quot;</span><span class="cp"></span>

<span class="cm">/**</span>
<span class="cm"> * </span>
<span class="cm"> */</span>
<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">APongGameMode</span> <span class="p">:</span> <span class="k">public</span> <span class="n">AGameMode</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>

<span class="k">public</span><span class="o">:</span>
	<span class="c1">//Constructor where we set the default classes to initialize</span>
	<span class="n">APongGameMode</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>
	
	<span class="c1">//Function called to spawn our pawn objects into the world</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">StartPlay</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
<h3><span class="mw-headline" id="PongGameMode.cpp_3">PongGameMode.cpp</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongGameMode.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Paddle.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongCamera.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Background.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Ball.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Bounds.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Goal.h&quot;</span><span class="cp"></span>

<span class="n">APongGameMode</span><span class="o">::</span><span class="n">APongGameMode</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">DefaultPawnClass</span> <span class="o">=</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">();</span>
	
<span class="p">}</span>


<span class="kt">void</span> <span class="n">APongGameMode</span><span class="o">::</span><span class="n">StartPlay</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">StartPlay</span><span class="p">(</span> <span class="p">);</span>
	<span class="n">UWorld</span><span class="o">*</span> <span class="k">const</span> <span class="n">World</span> <span class="o">=</span> <span class="n">GetWorld</span><span class="p">();</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">World</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">APongCamera</span><span class="o">*</span> <span class="n">camera</span> <span class="o">=</span> <span class="n">World</span><span class="o">-&gt;</span><span class="n">SpawnActor</span><span class="o">&lt;</span><span class="n">APongCamera</span><span class="o">&gt;</span><span class="p">(</span> <span class="n">APongCamera</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">()</span> <span class="p">);</span>
		
		<span class="c1">//Camera is set to the CameraActor created</span>
		<span class="n">World</span><span class="o">-&gt;</span><span class="n">GetFirstPlayerController</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetViewTarget</span><span class="p">(</span> <span class="n">camera</span> <span class="p">);</span>

		<span class="c1">//Set the background to fill up the entire view of the camera</span>
		<span class="n">ABackground</span><span class="o">*</span> <span class="n">background</span> <span class="o">=</span> <span class="n">World</span><span class="o">-&gt;</span><span class="n">SpawnActor</span><span class="o">&lt;</span><span class="n">ABackground</span><span class="o">&gt;</span><span class="p">(</span> <span class="n">ABackground</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">()</span> <span class="p">);</span>
		<span class="n">FVector2D</span> <span class="n">dimensions</span> <span class="o">=</span> <span class="n">camera</span><span class="o">-&gt;</span><span class="n">GetViewDimensions</span><span class="p">();</span>
		<span class="n">background</span><span class="o">-&gt;</span><span class="n">SetDimensions</span><span class="p">(</span> <span class="n">dimensions</span> <span class="p">);</span>

		<span class="c1">//Spawn the Ball into the World</span>
		<span class="n">World</span><span class="o">-&gt;</span><span class="n">SpawnActor</span><span class="o">&lt;</span><span class="n">ABall</span><span class="o">&gt;</span><span class="p">(</span> <span class="n">ABall</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">()</span> <span class="p">);</span>

		<span class="n">FVector</span> <span class="n">scale</span> <span class="o">=</span> <span class="n">background</span><span class="o">-&gt;</span><span class="n">GetScale</span><span class="p">();</span>

		<span class="c1">//Spawn the Bounds into the World</span>
		<span class="n">ABounds</span><span class="o">*</span> <span class="n">bounds</span> <span class="o">=</span> <span class="n">World</span><span class="o">-&gt;</span><span class="n">SpawnActor</span><span class="o">&lt;</span><span class="n">ABounds</span><span class="o">&gt;</span><span class="p">(</span> <span class="n">ABounds</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">()</span> <span class="p">);</span>
		<span class="n">bounds</span><span class="o">-&gt;</span><span class="n">SetScale</span><span class="p">(</span> <span class="n">scale</span> <span class="p">);</span>
	<span class="p">}</span>

	<span class="n">Super</span><span class="o">::</span><span class="n">StartMatch</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
<p>Finally, we want to make it so that the Paddle is unable to move once it hits the bounds.  In order to do this, two booleans will be added to the Paddle header - MoveUp and MoveDown.  These will represent when the paddle is able to move up and when the paddle is able to move down.  In order to set these values, two functions will need to be overridden - NotifyActorBeginOverlap and NotifyActorEndOverlap.  These two functions will be called when the Actor Overlaps with another Actor.  In this case, we will be waiting for when the paddle starts to overlap with the bounds and we will force the paddle to stop moving.
</p>
<h3><span class="mw-headline" id="Paddle.h_4">Paddle.h</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/Pawn.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Paddle.generated.h&quot;</span><span class="cp"></span>

<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">APaddle</span> <span class="p">:</span> <span class="k">public</span> <span class="n">APawn</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>

<span class="k">public</span><span class="o">:</span>
	<span class="c1">// Sets default values for this pawn&#39;s properties</span>
	<span class="n">APaddle</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>

	<span class="c1">// Called when the game starts or when spawned</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">BeginPlay</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>
	
	<span class="c1">// Called every frame</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaSeconds</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// Called to bind functionality to input</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">SetupPlayerInputComponent</span><span class="p">(</span><span class="k">class</span> <span class="nc">UInputComponent</span><span class="o">*</span> <span class="n">InputComponent</span><span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// Function called to move the paddle.  Scale represents up/down</span>
	<span class="kt">void</span> <span class="nf">MovePaddle</span><span class="p">(</span> <span class="kt">float</span> <span class="n">Scale</span> <span class="p">);</span>

	<span class="c1">// Notification when the paddle begins to overlap another Actor</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">NotifyActorBeginOverlap</span><span class="p">(</span> <span class="n">AActor</span><span class="o">*</span> <span class="n">OtherActor</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// Notification when the paddle ends overlap</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">NotifyActorEndOverlap</span><span class="p">(</span> <span class="n">AActor</span><span class="o">*</span> <span class="n">OtherActor</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

<span class="k">protected</span><span class="o">:</span>

	<span class="c1">//Reference to the Sprite Component which contains the paddle sprite</span>
	<span class="n">UPROPERTY</span><span class="p">(</span> <span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span> <span class="o">=</span> <span class="n">Paddle</span> <span class="p">)</span>
	<span class="k">class</span> <span class="nc">UPaperSpriteComponent</span><span class="o">*</span> <span class="n">Sprite</span><span class="p">;</span>

<span class="k">private</span><span class="o">:</span>

	<span class="c1">//Booleans for keeping track of valid movement directions</span>
	<span class="kt">bool</span> <span class="n">MoveUp</span><span class="p">;</span>
	<span class="kt">bool</span> <span class="n">MoveDown</span><span class="p">;</span>
	
<span class="p">};</span>
</pre></div>
<h3><span class="mw-headline" id="Paddle.cpp_4">Paddle.cpp</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Paddle.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PaperSpriteComponent.h&quot;</span><span class="cp"></span>


<span class="c1">// Sets default values</span>
<span class="n">APaddle</span><span class="o">::</span><span class="n">APaddle</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
 	<span class="c1">// Set this pawn to call Tick() every frame.  You can turn this off to improve performance if you don&#39;t need it.</span>
	<span class="n">PrimaryActorTick</span><span class="p">.</span><span class="n">bCanEverTick</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

	<span class="c1">//Find the Paddle Sprite -- Right click on your sprite in the editor and click copy reference to get the path to it</span>
	<span class="n">ConstructorHelpers</span><span class="o">::</span><span class="n">FObjectFinder</span><span class="o">&lt;</span><span class="n">UPaperSprite</span><span class="o">&gt;</span> <span class="n">PaddleSpriteRef</span><span class="p">(</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;PaperSprite&#39;/Game/Sprites/Paddle&#39;&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Create a default UPaperSpriteComponent and register it to this Actor</span>
	<span class="n">Sprite</span> <span class="o">=</span> <span class="n">ObjectInitializer</span><span class="p">.</span><span class="n">CreateDefaultSubobject</span><span class="o">&lt;</span><span class="n">UPaperSpriteComponent</span><span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;SpriteComp&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Set the Sprite to render for the UPaperSpriteComponent to the PaddleSprite Reference we grabbed</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetSprite</span><span class="p">(</span> <span class="n">PaddleSpriteRef</span><span class="p">.</span><span class="n">Object</span> <span class="p">);</span>

	<span class="n">ObjectInitializer</span><span class="p">.</span><span class="n">CreateDefaultSubobject</span><span class="o">&lt;</span><span class="n">UPawnMovementComponent</span><span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;MovementComp&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Can initially move in all directions</span>
	<span class="n">MoveUp</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="n">MoveDown</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

<span class="p">}</span>

<span class="c1">// Called when the game starts or when spawned</span>
<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">();</span>
	
	<span class="c1">//Set the location of the Paddle to the Left</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeLocation</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="o">-</span><span class="mf">200.0f</span><span class="p">,</span> <span class="mf">50.f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeRotation</span><span class="p">(</span> <span class="n">FRotator</span><span class="p">(</span> <span class="mf">0.f</span><span class="p">,</span> <span class="mf">0.f</span><span class="p">,</span> <span class="mf">0.f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeScale3D</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.1f</span><span class="p">,</span> <span class="mf">1.0f</span><span class="p">,</span> <span class="mf">0.1f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetAbsolute</span><span class="p">(</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">true</span> <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Called every frame</span>
<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="n">DeltaTime</span> <span class="p">);</span>
	
	<span class="c1">// Update the sprites location based on the movement input</span>
	<span class="n">FVector</span> <span class="n">move</span> <span class="o">=</span> <span class="n">GetMovementInputVector</span><span class="p">();</span>
	<span class="k">if</span> <span class="p">(</span> <span class="p">(</span> <span class="n">MoveUp</span> <span class="o">&amp;&amp;</span> <span class="n">move</span><span class="p">.</span><span class="n">Z</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="o">||</span> <span class="p">(</span> <span class="n">MoveDown</span> <span class="o">&amp;&amp;</span> <span class="n">move</span><span class="p">.</span><span class="n">Z</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">FVector</span> <span class="n">location</span> <span class="o">=</span> <span class="n">GetActorLocation</span><span class="p">(</span> <span class="p">);</span>
		<span class="n">location</span> <span class="o">+=</span> <span class="n">move</span><span class="o">*</span><span class="n">DeltaTime</span><span class="p">;</span>
		<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeLocation</span><span class="p">(</span> <span class="n">location</span> <span class="p">);</span>
	<span class="p">}</span>

<span class="p">}</span>

<span class="c1">// Called to bind functionality to input</span>
<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">SetupPlayerInputComponent</span><span class="p">(</span><span class="k">class</span> <span class="nc">UInputComponent</span><span class="o">*</span> <span class="n">InputComponent</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">SetupPlayerInputComponent</span><span class="p">(</span><span class="n">InputComponent</span><span class="p">);</span>

	<span class="k">const</span> <span class="n">UInputSettings</span><span class="o">*</span> <span class="n">settings</span> <span class="o">=</span> <span class="n">GetDefault</span><span class="o">&lt;</span><span class="n">UInputSettings</span><span class="o">&gt;</span><span class="p">(</span> <span class="p">);</span>

	<span class="c1">//Create movement mappings for upwards and downwards movement, the float value tells if we are moving the paddle up or down</span>
	<span class="k">const</span> <span class="n">FInputAxisKeyMapping</span> <span class="nf">upKey</span><span class="p">(</span><span class="s">&quot;Move&quot;</span><span class="p">,</span> <span class="n">EKeys</span><span class="o">::</span><span class="n">Up</span><span class="p">,</span> <span class="mf">1.0f</span><span class="p">);</span>
	<span class="k">const</span> <span class="n">FInputAxisKeyMapping</span> <span class="nf">downKey</span><span class="p">(</span> <span class="s">&quot;Move&quot;</span><span class="p">,</span> <span class="n">EKeys</span><span class="o">::</span><span class="n">Down</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0f</span> <span class="p">);</span>

	<span class="c1">// Add the axis mappings</span>
	<span class="c1">// Once this code is executed, these mappings will be added in the editors Input Settings!</span>
	<span class="p">((</span><span class="n">UInputSettings</span><span class="o">*</span><span class="p">)</span><span class="n">settings</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">AddAxisMapping</span><span class="p">(</span> <span class="n">upKey</span> <span class="p">);</span>
	<span class="p">((</span><span class="n">UInputSettings</span><span class="o">*</span><span class="p">)</span><span class="n">settings</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">AddAxisMapping</span><span class="p">(</span> <span class="n">downKey</span> <span class="p">);</span>

	<span class="c1">// Bind the axis - if we press up, the function is called with 1.0.  if we press down, the function is called with -1.0.</span>
	<span class="c1">// if we do nothing, the function is called with 0.0f</span>
	<span class="n">InputComponent</span><span class="o">-&gt;</span><span class="n">BindAxis</span><span class="p">(</span> <span class="s">&quot;Move&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">APaddle</span><span class="o">::</span><span class="n">MovePaddle</span> <span class="p">);</span>

	<span class="c1">//Set the sprite to generate overlap events for world-static objects -&gt; The Bounds is set to World Static, so this should generate an overlap event now</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetCollisionEnabled</span><span class="p">(</span> <span class="n">ECollisionEnabled</span><span class="o">::</span><span class="n">QueryAndPhysics</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetObjectType</span><span class="p">(</span> <span class="n">ECollisionChannel</span><span class="o">::</span><span class="n">ECC_Pawn</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetResponseToChannel</span><span class="p">(</span> <span class="n">ECollisionChannel</span><span class="o">::</span><span class="n">ECC_WorldStatic</span><span class="p">,</span> <span class="n">ECollisionResponse</span><span class="o">::</span><span class="n">ECR_Overlap</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">MovePaddle</span><span class="p">(</span> <span class="kt">float</span> <span class="n">Scale</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//Add a movement input, hardcoding in 75.0f for the vector</span>
	<span class="n">FVector</span> <span class="n">direction</span> <span class="o">=</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">75.0f</span> <span class="p">);</span>
	<span class="n">GetMovementComponent</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">ConsumeInputVector</span><span class="p">();</span>
	<span class="n">AddMovementInput</span><span class="p">(</span> <span class="n">direction</span><span class="p">,</span> <span class="n">Scale</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">NotifyActorBeginOverlap</span><span class="p">(</span> <span class="n">AActor</span><span class="o">*</span> <span class="n">OtherActor</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">OtherActor</span><span class="o">-&gt;</span><span class="n">GetName</span><span class="p">().</span><span class="n">Equals</span><span class="p">(</span> <span class="s">&quot;Bounds&quot;</span> <span class="p">)</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">FVector</span> <span class="n">prev</span> <span class="o">=</span> <span class="n">GetMovementComponent</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetLastInputVector</span><span class="p">();</span>

		<span class="c1">//If moving into a bound, set the movement in that direction to false</span>
		<span class="k">if</span> <span class="p">(</span> <span class="n">prev</span><span class="p">.</span><span class="n">Z</span> <span class="o">&gt;</span> <span class="mf">0.0f</span> <span class="p">)</span>
		<span class="p">{</span>
			<span class="n">MoveUp</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="n">prev</span><span class="p">.</span><span class="n">Z</span> <span class="o">&lt;</span> <span class="mf">0.0f</span> <span class="p">)</span>
		<span class="p">{</span>
			<span class="n">MoveDown</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
		<span class="p">}</span>

	<span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">NotifyActorEndOverlap</span><span class="p">(</span> <span class="n">AActor</span><span class="o">*</span> <span class="n">OtherActor</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">OtherActor</span><span class="o">-&gt;</span><span class="n">GetName</span><span class="p">().</span><span class="n">Equals</span><span class="p">(</span> <span class="s">&quot;Bounds&quot;</span> <span class="p">)</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//Out of the bounds so enable all movement inputs</span>
		<span class="n">MoveUp</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
		<span class="n">MoveDown</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p><br />
</p>
<h2><span class="mw-headline" id="Creating_the_GameState">Creating the GameState</span></h2>
<p>Next, a game state will be added.  This is a state machine will handle the custom states that the pong game goes through.  Before the game starts and you can move your paddle around, we are going to make it so that you must press the spacebar first.  This will be handled in the GameState class as a specific state.  We will define custom states in the header of the class.
</p>
<ol><li>In the Editor Add a New C++ Class</li>
<li>Select Game State as the Class to Extend</li>
<li>Name the new Class "PongGameState" and Create</li></ol>
<p>Some states that will be added will be as follows:
</p>
<dl><dd>WAITING_TO_START</dd>
<dd>PUSH_BALL</dd>
<dd>PLAYING</dd>
<dd>UPDATE_SCORE</dd></dl>
<p>These are all personally chosen and you can make whatever you desire.  The GameMode will also need to be updated to set this as the default gamestate to use.
</p>
<h3><span class="mw-headline" id="PongGameState.h">PongGameState.h</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/GameState.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongGameState.generated.h&quot;</span><span class="cp"></span>

<span class="cm">/**</span>
<span class="cm"> * </span>
<span class="cm"> */</span>
<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">APongGameState</span> <span class="p">:</span> <span class="k">public</span> <span class="n">AGameState</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>

	<span class="k">enum</span> <span class="n">PONG_STATES</span>
	<span class="p">{</span>
		<span class="n">WAITING_TO_START</span><span class="p">,</span>
		<span class="n">PUSH_BALL</span><span class="p">,</span>
		<span class="n">PLAYING</span><span class="p">,</span>
		<span class="n">UPDATE_SCORE</span>
	<span class="p">};</span>

<span class="k">public</span><span class="o">:</span>

	<span class="n">APongGameState</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>
	
	<span class="c1">//Tick called every frame</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

<span class="k">private</span><span class="o">:</span>

	<span class="c1">//The current state the game is in</span>
	<span class="n">PONG_STATES</span> <span class="n">CurrentState</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>
<h3><span class="mw-headline" id="PongGameState.cpp">PongGameState.cpp</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongGameState.h&quot;</span><span class="cp"></span>

<span class="n">APongGameState</span><span class="o">::</span><span class="n">APongGameState</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">PrimaryActorTick</span><span class="p">.</span><span class="n">bCanEverTick</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="n">CurrentState</span> <span class="o">=</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="n">WAITING_TO_START</span><span class="p">;</span>
<span class="p">}</span>


<span class="kt">void</span> <span class="n">APongGameState</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="n">DeltaTime</span> <span class="p">);</span>

	<span class="c1">// If match is in progress, run the custom state machine</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">IsMatchInProgress</span><span class="p">(</span> <span class="p">)</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="k">switch</span> <span class="p">(</span> <span class="n">CurrentState</span> <span class="p">)</span>
		<span class="p">{</span>
		<span class="k">case</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="nl">WAITING_TO_START</span><span class="p">:</span>
			<span class="n">CurrentState</span> <span class="o">=</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="n">PUSH_BALL</span><span class="p">;</span>
			<span class="k">break</span><span class="p">;</span>

		<span class="k">case</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="nl">PUSH_BALL</span><span class="p">:</span>
			<span class="n">CurrentState</span> <span class="o">=</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="n">PLAYING</span><span class="p">;</span>
			<span class="k">break</span><span class="p">;</span>

		<span class="k">case</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="nl">PLAYING</span><span class="p">:</span>
			<span class="k">break</span><span class="p">;</span>

		<span class="k">case</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="nl">UPDATE_SCORE</span><span class="p">:</span>
			<span class="n">CurrentState</span> <span class="o">=</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="n">WAITING_TO_START</span><span class="p">;</span>
			<span class="k">break</span><span class="p">;</span>

		<span class="k">default</span><span class="o">:</span>
			<span class="n">CurrentState</span> <span class="o">=</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="n">WAITING_TO_START</span><span class="p">;</span>
			<span class="k">break</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></div>
<h3><span class="mw-headline" id="PongGameMode.h_4">PongGameMode.h</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/GameMode.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongGameMode.generated.h&quot;</span><span class="cp"></span>

<span class="cm">/**</span>
<span class="cm"> * </span>
<span class="cm"> */</span>
<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">APongGameMode</span> <span class="p">:</span> <span class="k">public</span> <span class="n">AGameMode</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>

<span class="k">public</span><span class="o">:</span>
	<span class="c1">//Constructor where we set the default classes to initialize</span>
	<span class="n">APongGameMode</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>
	
	<span class="c1">//Function called to spawn our pawn objects into the world</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">StartPlay</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
<h3><span class="mw-headline" id="PongGameMode.cpp_4">PongGameMode.cpp</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongGameMode.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Paddle.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongCamera.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Background.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Ball.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Bounds.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Goal.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongGameState.h&quot;</span><span class="cp"></span>

<span class="n">APongGameMode</span><span class="o">::</span><span class="n">APongGameMode</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//Set Default Classes</span>
	<span class="n">DefaultPawnClass</span> <span class="o">=</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">();</span>
	<span class="n">GameStateClass</span> <span class="o">=</span> <span class="n">APongGameState</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">();</span>
<span class="p">}</span>


<span class="kt">void</span> <span class="n">APongGameMode</span><span class="o">::</span><span class="n">StartPlay</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">StartPlay</span><span class="p">(</span> <span class="p">);</span>
	<span class="n">UWorld</span><span class="o">*</span> <span class="k">const</span> <span class="n">World</span> <span class="o">=</span> <span class="n">GetWorld</span><span class="p">();</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">World</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">APongCamera</span><span class="o">*</span> <span class="n">camera</span> <span class="o">=</span> <span class="n">World</span><span class="o">-&gt;</span><span class="n">SpawnActor</span><span class="o">&lt;</span><span class="n">APongCamera</span><span class="o">&gt;</span><span class="p">(</span> <span class="n">APongCamera</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">()</span> <span class="p">);</span>
		
		<span class="c1">//Camera is set to the CameraActor created</span>
		<span class="n">World</span><span class="o">-&gt;</span><span class="n">GetFirstPlayerController</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetViewTarget</span><span class="p">(</span> <span class="n">camera</span> <span class="p">);</span>

		<span class="c1">//Set the background to fill up the entire view of the camera</span>
		<span class="n">ABackground</span><span class="o">*</span> <span class="n">background</span> <span class="o">=</span> <span class="n">World</span><span class="o">-&gt;</span><span class="n">SpawnActor</span><span class="o">&lt;</span><span class="n">ABackground</span><span class="o">&gt;</span><span class="p">(</span> <span class="n">ABackground</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">()</span> <span class="p">);</span>
		<span class="n">FVector2D</span> <span class="n">dimensions</span> <span class="o">=</span> <span class="n">camera</span><span class="o">-&gt;</span><span class="n">GetViewDimensions</span><span class="p">();</span>
		<span class="n">background</span><span class="o">-&gt;</span><span class="n">SetDimensions</span><span class="p">(</span> <span class="n">dimensions</span> <span class="p">);</span>

		<span class="c1">//Spawn the Ball into the World</span>
		<span class="n">World</span><span class="o">-&gt;</span><span class="n">SpawnActor</span><span class="o">&lt;</span><span class="n">ABall</span><span class="o">&gt;</span><span class="p">(</span> <span class="n">ABall</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">()</span> <span class="p">);</span>

		<span class="n">FVector</span> <span class="n">scale</span> <span class="o">=</span> <span class="n">background</span><span class="o">-&gt;</span><span class="n">GetScale</span><span class="p">();</span>

		<span class="c1">//Spawn the Bounds into the World</span>
		<span class="n">ABounds</span><span class="o">*</span> <span class="n">bounds</span> <span class="o">=</span> <span class="n">World</span><span class="o">-&gt;</span><span class="n">SpawnActor</span><span class="o">&lt;</span><span class="n">ABounds</span><span class="o">&gt;</span><span class="p">(</span> <span class="n">ABounds</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">()</span> <span class="p">);</span>
		<span class="n">bounds</span><span class="o">-&gt;</span><span class="n">SetScale</span><span class="p">(</span> <span class="n">scale</span> <span class="p">);</span>
	<span class="p">}</span>

	<span class="n">Super</span><span class="o">::</span><span class="n">StartMatch</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
<p><br />
</p>
<h2><span class="mw-headline" id="Adding_Movement_to_the_Ball">Adding Movement to the Ball</span></h2>
<p>Movement needs to be added to the ball.  The ball should start out by shooting off in one direction (Towards the player in this game).  In order to do this, the PongGameState class will be modified to cause the ball to shoot off to the left upon reaching the PUSH_BALL state.  Also, collision will have to be updated for the Ball so that it interacts with the paddle and the Bounds correctly.
</p><p>The Ball needs to generate Hit Events, so physics must be simulated.  Direction and Speed need to be kept track of for the ball.  When a Hit Event Occurs, the direction should be updated so that the Ball is reflected in the right direction.  Not only this, but the ball should also gain some velocity moving up/down if it hits the paddle.
</p><p><b>Note: There may be updates to some classes that I did not catch.  I changed quite a few things.  Make sure that in all the custom Classes with sprites that you add "RootComponent = Sprite;" in the constructor.  I may have changed some of the initialization around for some of the classes as well</b>
</p><p>Some changes that need to be made to get this all working are as follows:
</p>
<dl><dd>Add a accessor for the Z velocity in the paddle class</dd>
<dd>Add velocity/direction to the Ball class</dd>
<dd>Add movement updates in the tick function of the Ball class</dd>
<dd>Override the NotifyHit event in the Ball class to update the direction/velocity</dd>
<dd>Update the GameState to shoot off the ball - A function will be added to the Ball Class to start movement</dd></dl>
<p><br />
</p>
<h3><span class="mw-headline" id="Ball.h_3">Ball.h</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/Actor.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Ball.generated.h&quot;</span><span class="cp"></span>

<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">ABall</span> <span class="p">:</span> <span class="k">public</span> <span class="n">AActor</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>
	
<span class="k">public</span><span class="o">:</span>	
	<span class="c1">// Sets default values for this actor&#39;s properties</span>
	<span class="n">ABall</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>

	<span class="c1">// Called when the game starts or when spawned</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">BeginPlay</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>
	
	<span class="c1">// Called every frame</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaSeconds</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// Called to start moving the Ball</span>
	<span class="kt">void</span> <span class="nf">StartMove</span><span class="p">();</span>

	<span class="c1">// notify hit</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">NotifyHit</span><span class="p">(</span> <span class="n">UPrimitiveComponent</span><span class="o">*</span> <span class="n">MyComp</span><span class="p">,</span> <span class="n">AActor</span><span class="o">*</span> <span class="n">Other</span><span class="p">,</span> <span class="n">UPrimitiveComponent</span><span class="o">*</span> <span class="n">OtherComp</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">bSelfMoved</span><span class="p">,</span> <span class="n">FVector</span> <span class="n">HitLocation</span><span class="p">,</span> <span class="n">FVector</span> <span class="n">HitNormal</span><span class="p">,</span> <span class="n">FVector</span> <span class="n">NormalImpulse</span><span class="p">,</span> <span class="k">const</span> <span class="n">FHitResult</span><span class="o">&amp;</span> <span class="n">Hit</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

<span class="k">protected</span><span class="o">:</span>

	<span class="c1">//Reference to the Sprite Component which contains the ball sprite</span>
	<span class="n">UPROPERTY</span><span class="p">(</span> <span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span> <span class="o">=</span> <span class="n">Ball</span> <span class="p">)</span>
	<span class="k">class</span> <span class="nc">UPaperSpriteComponent</span><span class="o">*</span> <span class="n">Sprite</span><span class="p">;</span>
	
<span class="k">private</span><span class="o">:</span>

	<span class="c1">//The direction the ball is traveling in</span>
	<span class="n">FVector</span> <span class="n">Direction</span><span class="p">;</span>

	<span class="c1">//Velocity of the ball.  How Fast it is travelling. Distance/Time</span>
	<span class="kt">float</span> <span class="n">Velocity</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
<h3><span class="mw-headline" id="Ball.cpp_3">Ball.cpp</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Ball.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PaperSpriteComponent.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Paddle.h&quot;</span><span class="cp"></span>

<span class="c1">// Sets default values</span>
<span class="n">ABall</span><span class="o">::</span><span class="n">ABall</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
 	<span class="c1">// Set this actor to call Tick() every frame.  You can turn this off to improve performance if you don&#39;t need it.</span>
	<span class="n">PrimaryActorTick</span><span class="p">.</span><span class="n">bCanEverTick</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

	<span class="c1">//Find the Ball Sprite -- Right click on your sprite in the editor and click copy reference to get the path to it</span>
	<span class="n">ConstructorHelpers</span><span class="o">::</span><span class="n">FObjectFinder</span><span class="o">&lt;</span><span class="n">UPaperSprite</span><span class="o">&gt;</span> <span class="n">BallSpriteRef</span><span class="p">(</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;PaperSprite&#39;/Game/Sprites/Ball&#39;&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Find the Material we want to set this ball to: Note, you should have created this in the Editor</span>
	<span class="c1">//ConstructorHelpers::FObjectFinder&lt;UPhysicalMaterial&gt; BallPhysicsRef( TEXT( &quot;PhysicalMaterial&#39;/Game/Materials/BallMaterial&#39;&quot; ) );</span>

	<span class="c1">//Create a default UPaperSpriteComponent and register it to this Actor</span>
	<span class="n">Sprite</span> <span class="o">=</span> <span class="n">ObjectInitializer</span><span class="p">.</span><span class="n">CreateDefaultSubobject</span><span class="o">&lt;</span><span class="n">UPaperSpriteComponent</span><span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;SpriteComp&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Set the Sprite to render for the UPaperSpriteComponent to the BallSprite Reference we grabbed</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetSprite</span><span class="p">(</span> <span class="n">BallSpriteRef</span><span class="p">.</span><span class="n">Object</span> <span class="p">);</span>

	<span class="n">RootComponent</span> <span class="o">=</span> <span class="n">Sprite</span><span class="p">;</span>

	<span class="c1">//Set the physics properties</span>
	<span class="c1">//Restrict the translation/rotation axis</span>
	<span class="n">SetActorEnableCollision</span><span class="p">(</span> <span class="nb">true</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetEnableGravity</span><span class="p">(</span> <span class="nb">false</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetConstraintMode</span><span class="p">(</span> <span class="n">EDOFMode</span><span class="o">::</span><span class="n">SixDOF</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">bLockXRotation</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">bLockYRotation</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">bLockZRotation</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">bLockXTranslation</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">bLockYTranslation</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">bLockZTranslation</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	
	<span class="c1">//Enable Hit Notifies</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetNotifyRigidBodyCollision</span><span class="p">(</span> <span class="nb">true</span> <span class="p">);</span>

	<span class="c1">//Set the ball to spawn in the middle of the Board and scale its size down</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeLocation</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">50.0f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeScale3D</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.07f</span><span class="p">,</span> <span class="mf">1.0f</span><span class="p">,</span> <span class="mf">0.07f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetAbsolute</span><span class="p">(</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">true</span> <span class="p">);</span>

	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetLinearDamping</span><span class="p">(</span> <span class="mf">0.0f</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetSimulatePhysics</span><span class="p">(</span> <span class="nb">true</span> <span class="p">);</span>

	<span class="n">Direction</span> <span class="o">=</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">);</span>
	<span class="n">Velocity</span> <span class="o">=</span> <span class="mf">0.0f</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Called when the game starts or when spawned</span>
<span class="kt">void</span> <span class="n">ABall</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// Called every frame</span>
<span class="kt">void</span> <span class="n">ABall</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="n">DeltaTime</span> <span class="p">);</span>

	<span class="c1">//Set a time variable to be &lt; one hundreth of a second</span>
	<span class="kt">float</span> <span class="n">time</span> <span class="o">=</span> <span class="p">(</span><span class="n">DeltaTime</span> <span class="o">&gt;</span> <span class="mf">0.01f</span> <span class="o">?</span> <span class="mf">0.0083f</span> <span class="o">:</span> <span class="n">DeltaTime</span><span class="p">);</span>

	<span class="c1">//Update the translation based on the time variable</span>
	<span class="n">FTransform</span> <span class="n">transform</span> <span class="o">=</span> <span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetRelativeTransform</span><span class="p">();</span>
	<span class="n">transform</span><span class="p">.</span><span class="n">AddToTranslation</span><span class="p">(</span> <span class="n">Direction</span> <span class="o">*</span> <span class="n">Velocity</span> <span class="o">*</span> <span class="n">time</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeTransform</span><span class="p">(</span> <span class="n">transform</span> <span class="p">);</span>
	
<span class="p">}</span>

<span class="kt">void</span> <span class="n">ABall</span><span class="o">::</span><span class="n">StartMove</span><span class="p">()</span>
<span class="p">{</span>
	<span class="c1">// Move the ball via setting the Direction and Velocity</span>
	<span class="n">Direction</span> <span class="o">=</span> <span class="n">FVector</span><span class="p">(</span> <span class="o">-</span><span class="mf">1.0f</span><span class="p">,</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">);</span>
	<span class="n">Velocity</span> <span class="o">=</span> <span class="mf">250.0f</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">//The Ball has hit something</span>
<span class="kt">void</span> <span class="n">ABall</span><span class="o">::</span><span class="n">NotifyHit</span><span class="p">(</span> <span class="n">UPrimitiveComponent</span><span class="o">*</span> <span class="n">MyComp</span><span class="p">,</span> <span class="n">AActor</span><span class="o">*</span> <span class="n">Other</span><span class="p">,</span> <span class="n">UPrimitiveComponent</span><span class="o">*</span> <span class="n">OtherComp</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">bSelfMoved</span><span class="p">,</span> <span class="n">FVector</span> <span class="n">HitLocation</span><span class="p">,</span> <span class="n">FVector</span> <span class="n">HitNormal</span><span class="p">,</span> <span class="n">FVector</span> <span class="n">NormalImpulse</span><span class="p">,</span> <span class="k">const</span> <span class="n">FHitResult</span><span class="o">&amp;</span> <span class="n">Hit</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//Make sure that the physics velocities are set to 0.  We are keeping track of direction/speed.  We want this hit event so that we can easily mirror the direction</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetAllPhysicsAngularVelocity</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetAllPhysicsLinearVelocity</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Mirror the Direction so that we can get the new trajectory of the ball</span>
	<span class="n">Direction</span> <span class="o">=</span> <span class="n">Direction</span><span class="p">.</span><span class="n">MirrorByVector</span><span class="p">(</span> <span class="n">HitNormal</span> <span class="p">);</span>

	<span class="c1">//If the ball hits the paddle, add Z velocity to the ball (This can become very fast)</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">Other</span><span class="o">-&gt;</span><span class="n">GetName</span><span class="p">().</span><span class="n">Equals</span><span class="p">(</span> <span class="s">&quot;Paddle&quot;</span> <span class="p">)</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">APaddle</span><span class="o">*</span> <span class="n">paddle</span> <span class="o">=</span> <span class="p">(</span><span class="n">APaddle</span><span class="o">*</span><span class="p">)</span><span class="n">Other</span><span class="p">;</span>
		<span class="n">Direction</span><span class="p">.</span><span class="n">Z</span> <span class="o">+=</span> <span class="p">(</span><span class="n">paddle</span><span class="o">-&gt;</span><span class="n">GetZVelocity</span><span class="p">()</span> <span class="o">/</span> <span class="n">Velocity</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></div>
<h3><span class="mw-headline" id="Paddle.h_5">Paddle.h</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/Pawn.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Paddle.generated.h&quot;</span><span class="cp"></span>

<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">APaddle</span> <span class="p">:</span> <span class="k">public</span> <span class="n">APawn</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>

<span class="k">public</span><span class="o">:</span>
	<span class="c1">// Sets default values for this pawn&#39;s properties</span>
	<span class="n">APaddle</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>

	<span class="c1">// Called when the game starts or when spawned</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">BeginPlay</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>
	
	<span class="c1">// Called every frame</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaSeconds</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// Called to bind functionality to input</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">SetupPlayerInputComponent</span><span class="p">(</span><span class="k">class</span> <span class="nc">UInputComponent</span><span class="o">*</span> <span class="n">InputComponent</span><span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// Function called to move the paddle.  Scale represents up/down</span>
	<span class="kt">void</span> <span class="nf">MovePaddle</span><span class="p">(</span> <span class="kt">float</span> <span class="n">Scale</span> <span class="p">);</span>

	<span class="c1">// Notification when the paddle begins to overlap another Actor</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">NotifyActorBeginOverlap</span><span class="p">(</span> <span class="n">AActor</span><span class="o">*</span> <span class="n">OtherActor</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// Notification when the paddle ends overlap</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">NotifyActorEndOverlap</span><span class="p">(</span> <span class="n">AActor</span><span class="o">*</span> <span class="n">OtherActor</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// How fast the paddle is moving up or down</span>
	<span class="kt">float</span> <span class="nf">GetZVelocity</span><span class="p">();</span>

<span class="k">protected</span><span class="o">:</span>

	<span class="c1">//Reference to the Sprite Component which contains the paddle sprite</span>
	<span class="n">UPROPERTY</span><span class="p">(</span> <span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span> <span class="o">=</span> <span class="n">Paddle</span> <span class="p">)</span>
	<span class="k">class</span> <span class="nc">UPaperSpriteComponent</span><span class="o">*</span> <span class="n">Sprite</span><span class="p">;</span>

<span class="k">private</span><span class="o">:</span>

	<span class="c1">//Booleans for keeping track of valid movement directions</span>
	<span class="kt">bool</span> <span class="n">MoveUp</span><span class="p">;</span>
	<span class="kt">bool</span> <span class="n">MoveDown</span><span class="p">;</span>

	<span class="c1">//How fast the paddle is moving</span>
	<span class="kt">float</span> <span class="n">Velocity</span><span class="p">;</span>
	
<span class="p">};</span>
</pre></div>
<h3><span class="mw-headline" id="Paddle.cpp_5">Paddle.cpp</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Paddle.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PaperSpriteComponent.h&quot;</span><span class="cp"></span>


<span class="c1">// Sets default values</span>
<span class="n">APaddle</span><span class="o">::</span><span class="n">APaddle</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
 	<span class="c1">// Set this pawn to call Tick() every frame.  You can turn this off to improve performance if you don&#39;t need it.</span>
	<span class="n">PrimaryActorTick</span><span class="p">.</span><span class="n">bCanEverTick</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

	<span class="c1">//Find the Paddle Sprite -- Right click on your sprite in the editor and click copy reference to get the path to it</span>
	<span class="n">ConstructorHelpers</span><span class="o">::</span><span class="n">FObjectFinder</span><span class="o">&lt;</span><span class="n">UPaperSprite</span><span class="o">&gt;</span> <span class="n">PaddleSpriteRef</span><span class="p">(</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;PaperSprite&#39;/Game/Sprites/Paddle&#39;&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Create a default UPaperSpriteComponent and register it to this Actor</span>
	<span class="n">Sprite</span> <span class="o">=</span> <span class="n">ObjectInitializer</span><span class="p">.</span><span class="n">CreateDefaultSubobject</span><span class="o">&lt;</span><span class="n">UPaperSpriteComponent</span><span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;SpriteComp&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Set the Sprite to render for the UPaperSpriteComponent to the PaddleSprite Reference we grabbed</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetSprite</span><span class="p">(</span> <span class="n">PaddleSpriteRef</span><span class="p">.</span><span class="n">Object</span> <span class="p">);</span>

	<span class="n">RootComponent</span> <span class="o">=</span> <span class="n">Sprite</span><span class="p">;</span>

	<span class="n">ObjectInitializer</span><span class="p">.</span><span class="n">CreateDefaultSubobject</span><span class="o">&lt;</span><span class="n">UPawnMovementComponent</span><span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;MovementComp&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Can initially move in all directions</span>
	<span class="n">MoveUp</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="n">MoveDown</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

	<span class="c1">//Set the sprite to generate overlap events for world-static objects -&gt; The Bounds is set to World Static, so this should generate an overlap event now</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetCollisionEnabled</span><span class="p">(</span> <span class="n">ECollisionEnabled</span><span class="o">::</span><span class="n">QueryAndPhysics</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetObjectType</span><span class="p">(</span> <span class="n">ECollisionChannel</span><span class="o">::</span><span class="n">ECC_Pawn</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetResponseToChannel</span><span class="p">(</span> <span class="n">ECollisionChannel</span><span class="o">::</span><span class="n">ECC_WorldStatic</span><span class="p">,</span> <span class="n">ECollisionResponse</span><span class="o">::</span><span class="n">ECR_Overlap</span> <span class="p">);</span>
	
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetSimulatePhysics</span><span class="p">(</span> <span class="nb">false</span> <span class="p">);</span>

	<span class="c1">//Set the location of the Paddle to the Left</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeLocation</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="o">-</span><span class="mf">200.0f</span><span class="p">,</span> <span class="mf">50.f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeRotation</span><span class="p">(</span> <span class="n">FRotator</span><span class="p">(</span> <span class="mf">0.f</span><span class="p">,</span> <span class="mf">0.f</span><span class="p">,</span> <span class="mf">0.f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeScale3D</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.1f</span><span class="p">,</span> <span class="mf">1.0f</span><span class="p">,</span> <span class="mf">0.1f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetAbsolute</span><span class="p">(</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">true</span> <span class="p">);</span>

	

<span class="p">}</span>

<span class="c1">// Called when the game starts or when spawned</span>
<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">();</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeLocation</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="o">-</span><span class="mf">200.0f</span><span class="p">,</span> <span class="mf">50.f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeRotation</span><span class="p">(</span> <span class="n">FRotator</span><span class="p">(</span> <span class="mf">0.f</span><span class="p">,</span> <span class="mf">0.f</span><span class="p">,</span> <span class="mf">0.f</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Ensure that this component&#39;s name is &quot;Paddle&quot;</span>
	<span class="n">Rename</span><span class="p">(</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;Paddle&quot;</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Called every frame</span>
<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="n">DeltaTime</span> <span class="p">);</span>
	
	<span class="c1">// Update the sprites location based on the movement input</span>
	<span class="n">FVector</span> <span class="n">move</span> <span class="o">=</span> <span class="n">GetMovementInputVector</span><span class="p">();</span>
	<span class="k">if</span> <span class="p">(</span> <span class="p">(</span> <span class="n">MoveUp</span> <span class="o">&amp;&amp;</span> <span class="n">move</span><span class="p">.</span><span class="n">Z</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="o">||</span> <span class="p">(</span> <span class="n">MoveDown</span> <span class="o">&amp;&amp;</span> <span class="n">move</span><span class="p">.</span><span class="n">Z</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">FTransform</span> <span class="n">loc</span> <span class="o">=</span> <span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetRelativeTransform</span><span class="p">();</span>
		<span class="n">loc</span><span class="p">.</span><span class="n">AddToTranslation</span><span class="p">(</span> <span class="n">move</span><span class="o">*</span><span class="n">DeltaTime</span> <span class="p">);</span>
		<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeTransform</span><span class="p">(</span> <span class="n">loc</span> <span class="p">);</span>
	<span class="p">}</span>

<span class="p">}</span>

<span class="c1">// Called to bind functionality to input</span>
<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">SetupPlayerInputComponent</span><span class="p">(</span><span class="k">class</span> <span class="nc">UInputComponent</span><span class="o">*</span> <span class="n">InputComponent</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">SetupPlayerInputComponent</span><span class="p">(</span><span class="n">InputComponent</span><span class="p">);</span>

	<span class="k">const</span> <span class="n">UInputSettings</span><span class="o">*</span> <span class="n">settings</span> <span class="o">=</span> <span class="n">GetDefault</span><span class="o">&lt;</span><span class="n">UInputSettings</span><span class="o">&gt;</span><span class="p">(</span> <span class="p">);</span>

	<span class="c1">//Create movement mappings for upwards and downwards movement, the float value tells if we are moving the paddle up or down</span>
	<span class="k">const</span> <span class="n">FInputAxisKeyMapping</span> <span class="nf">upKey</span><span class="p">(</span><span class="s">&quot;Move&quot;</span><span class="p">,</span> <span class="n">EKeys</span><span class="o">::</span><span class="n">Up</span><span class="p">,</span> <span class="mf">1.0f</span><span class="p">);</span>
	<span class="k">const</span> <span class="n">FInputAxisKeyMapping</span> <span class="nf">downKey</span><span class="p">(</span> <span class="s">&quot;Move&quot;</span><span class="p">,</span> <span class="n">EKeys</span><span class="o">::</span><span class="n">Down</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0f</span> <span class="p">);</span>

	<span class="c1">// Add the axis mappings</span>
	<span class="c1">// Once this code is executed, these mappings will be added in the editors Input Settings!</span>
	<span class="p">((</span><span class="n">UInputSettings</span><span class="o">*</span><span class="p">)</span><span class="n">settings</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">AddAxisMapping</span><span class="p">(</span> <span class="n">upKey</span> <span class="p">);</span>
	<span class="p">((</span><span class="n">UInputSettings</span><span class="o">*</span><span class="p">)</span><span class="n">settings</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">AddAxisMapping</span><span class="p">(</span> <span class="n">downKey</span> <span class="p">);</span>

	<span class="c1">// Bind the axis - if we press up, the function is called with 1.0.  if we press down, the function is called with -1.0.</span>
	<span class="c1">// if we do nothing, the function is called with 0.0f</span>
	<span class="n">InputComponent</span><span class="o">-&gt;</span><span class="n">BindAxis</span><span class="p">(</span> <span class="s">&quot;Move&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">APaddle</span><span class="o">::</span><span class="n">MovePaddle</span> <span class="p">);</span>

	<span class="n">Velocity</span> <span class="o">=</span> <span class="mf">0.0f</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">MovePaddle</span><span class="p">(</span> <span class="kt">float</span> <span class="n">Scale</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//Add a movement input, hardcoding in 75.0f for the vector</span>
	<span class="n">FVector</span> <span class="n">direction</span> <span class="o">=</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">75.0f</span> <span class="p">);</span>
	<span class="n">GetMovementComponent</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">ConsumeInputVector</span><span class="p">();</span>
	<span class="n">AddMovementInput</span><span class="p">(</span> <span class="n">direction</span><span class="p">,</span> <span class="n">Scale</span> <span class="p">);</span>
	<span class="n">Velocity</span> <span class="o">=</span> <span class="n">Scale</span> <span class="o">*</span> <span class="mf">75.0f</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">NotifyActorBeginOverlap</span><span class="p">(</span> <span class="n">AActor</span><span class="o">*</span> <span class="n">OtherActor</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">OtherActor</span><span class="o">-&gt;</span><span class="n">GetName</span><span class="p">().</span><span class="n">Equals</span><span class="p">(</span> <span class="s">&quot;Bounds&quot;</span> <span class="p">)</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">FVector</span> <span class="n">prev</span> <span class="o">=</span> <span class="n">GetMovementComponent</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetLastInputVector</span><span class="p">();</span>

		<span class="c1">//If moving into a bound, set the movement in that direction to false</span>
		<span class="k">if</span> <span class="p">(</span> <span class="n">prev</span><span class="p">.</span><span class="n">Z</span> <span class="o">&gt;</span> <span class="mf">0.0f</span> <span class="p">)</span>
		<span class="p">{</span>
			<span class="n">MoveUp</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="n">prev</span><span class="p">.</span><span class="n">Z</span> <span class="o">&lt;</span> <span class="mf">0.0f</span> <span class="p">)</span>
		<span class="p">{</span>
			<span class="n">MoveDown</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
		<span class="p">}</span>

	<span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">NotifyActorEndOverlap</span><span class="p">(</span> <span class="n">AActor</span><span class="o">*</span> <span class="n">OtherActor</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">OtherActor</span><span class="o">-&gt;</span><span class="n">GetName</span><span class="p">().</span><span class="n">Equals</span><span class="p">(</span> <span class="s">&quot;Bounds&quot;</span> <span class="p">)</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//Out of the bounds so enable all movement inputs</span>
		<span class="n">MoveUp</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
		<span class="n">MoveDown</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="c1">//Get the ZVelocity (How fast the paddle is moving up or down)</span>
<span class="kt">float</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">GetZVelocity</span><span class="p">()</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">Velocity</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<h3><span class="mw-headline" id="PongGameState.h_2">PongGameState.h</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/GameState.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongGameState.generated.h&quot;</span><span class="cp"></span>

<span class="cm">/**</span>
<span class="cm"> * </span>
<span class="cm"> */</span>
<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">APongGameState</span> <span class="p">:</span> <span class="k">public</span> <span class="n">AGameState</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>

	<span class="k">enum</span> <span class="n">PONG_STATES</span>
	<span class="p">{</span>
		<span class="n">WAITING_TO_START</span><span class="p">,</span>
		<span class="n">PUSH_BALL</span><span class="p">,</span>
		<span class="n">PLAYING</span><span class="p">,</span>
		<span class="n">UPDATE_SCORE</span>
	<span class="p">};</span>

<span class="k">public</span><span class="o">:</span>

	<span class="n">APongGameState</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>
	
	<span class="c1">//Tick called every frame</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">//Mutator for the reference to the Ball</span>
	<span class="kt">void</span> <span class="nf">SetBall</span><span class="p">(</span> <span class="k">class</span> <span class="nc">ABall</span><span class="o">*</span> <span class="n">Ball</span> <span class="p">);</span>

<span class="k">private</span><span class="o">:</span>

	<span class="c1">//The current state the game is in</span>
	<span class="n">PONG_STATES</span> <span class="n">CurrentState</span><span class="p">;</span>

	<span class="c1">//Reference to the Ball</span>
	<span class="k">class</span> <span class="nc">ABall</span><span class="o">*</span> <span class="n">Ball</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>
<h3><span class="mw-headline" id="PongGameState.cpp_2">PongGameState.cpp</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongGameState.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Ball.h&quot;</span><span class="cp"></span>

<span class="n">APongGameState</span><span class="o">::</span><span class="n">APongGameState</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">PrimaryActorTick</span><span class="p">.</span><span class="n">bCanEverTick</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="n">CurrentState</span> <span class="o">=</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="n">WAITING_TO_START</span><span class="p">;</span>
<span class="p">}</span>


<span class="kt">void</span> <span class="n">APongGameState</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="n">DeltaTime</span> <span class="p">);</span>

	<span class="c1">// If match is in progress, run the custom state machine</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">IsMatchInProgress</span><span class="p">(</span> <span class="p">)</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="k">switch</span> <span class="p">(</span> <span class="n">CurrentState</span> <span class="p">)</span>
		<span class="p">{</span>
		<span class="k">case</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="nl">WAITING_TO_START</span><span class="p">:</span>
			<span class="n">CurrentState</span> <span class="o">=</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="n">PUSH_BALL</span><span class="p">;</span>
			<span class="k">break</span><span class="p">;</span>

		<span class="k">case</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="nl">PUSH_BALL</span><span class="p">:</span>
			<span class="n">Ball</span><span class="o">-&gt;</span><span class="n">StartMove</span><span class="p">();</span>
			<span class="n">CurrentState</span> <span class="o">=</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="n">PLAYING</span><span class="p">;</span>
			<span class="k">break</span><span class="p">;</span>

		<span class="k">case</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="nl">PLAYING</span><span class="p">:</span>
			<span class="k">break</span><span class="p">;</span>

		<span class="k">case</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="nl">UPDATE_SCORE</span><span class="p">:</span>
			<span class="n">CurrentState</span> <span class="o">=</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="n">WAITING_TO_START</span><span class="p">;</span>
			<span class="k">break</span><span class="p">;</span>

		<span class="k">default</span><span class="o">:</span>
			<span class="n">CurrentState</span> <span class="o">=</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="n">WAITING_TO_START</span><span class="p">;</span>
			<span class="k">break</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APongGameState</span><span class="o">::</span><span class="n">SetBall</span><span class="p">(</span> <span class="n">ABall</span><span class="o">*</span> <span class="n">Ball</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="k">this</span><span class="o">-&gt;</span><span class="n">Ball</span> <span class="o">=</span> <span class="n">Ball</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p><br />
The Ball should now move around in the world and collide/bounce off of everything.  If you move the paddle and hit the ball, the ball should move up/down in the direction that you hit it.
</p>
<h2><span class="mw-headline" id="Goals.2FPaddle_AI">Goals/Paddle AI</span></h2>
<p>The next step will be to add in the goals.  A way to know when the Ball is overlapping a goal will also need to be known in the gamestate in order to move the state forwards when a goal is made.  In order to do this, an overlap event will be added that will be called with the overlap happens.
</p><p>Also, a PaddleAI class will be made that extends the Paddle Class.  This will control the AI for the paddle.
</p>
<ol><li>Create a new C++ Class</li>
<li>Select the Paddle Class as the class to extend</li>
<li>Name the new Class "PaddleAI" and create</li></ol>
<h3><span class="mw-headline" id="Paddle_2">Paddle</span></h3>
<p>A GetPosition Function has been added to this class in order to get where the paddle currently is.  This is used when setting the locations of the Goals because we want the goals to be located behind the paddles.  The renaming in the BeginPlay() method was also moved to the GameMode as part of initialization there due to double renaming once the PaddleAI class was created.
</p>
<h4><span class="mw-headline" id="Paddle.h_6">Paddle.h</span></h4>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/Pawn.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Paddle.generated.h&quot;</span><span class="cp"></span>

<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">APaddle</span> <span class="p">:</span> <span class="k">public</span> <span class="n">APawn</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>

<span class="k">public</span><span class="o">:</span>
	<span class="c1">// Sets default values for this pawn&#39;s properties</span>
	<span class="n">APaddle</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>

	<span class="c1">// Called when the game starts or when spawned</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">BeginPlay</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>
	
	<span class="c1">// Called every frame</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaSeconds</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// Called to bind functionality to input</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">SetupPlayerInputComponent</span><span class="p">(</span><span class="k">class</span> <span class="nc">UInputComponent</span><span class="o">*</span> <span class="n">InputComponent</span><span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// Function called to move the paddle.  Scale represents up/down</span>
	<span class="kt">void</span> <span class="nf">MovePaddle</span><span class="p">(</span> <span class="kt">float</span> <span class="n">Scale</span> <span class="p">);</span>

	<span class="c1">// Notification when the paddle begins to overlap another Actor</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">NotifyActorBeginOverlap</span><span class="p">(</span> <span class="n">AActor</span><span class="o">*</span> <span class="n">OtherActor</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// Notification when the paddle ends overlap</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">NotifyActorEndOverlap</span><span class="p">(</span> <span class="n">AActor</span><span class="o">*</span> <span class="n">OtherActor</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// How fast the paddle is moving up or down</span>
	<span class="kt">float</span> <span class="nf">GetZVelocity</span><span class="p">();</span>

	<span class="c1">// Get the location of the sprite</span>
	<span class="n">FVector2D</span> <span class="nf">GetPosition</span><span class="p">();</span>

<span class="k">protected</span><span class="o">:</span>

	<span class="c1">//Reference to the Sprite Component which contains the paddle sprite</span>
	<span class="n">UPROPERTY</span><span class="p">(</span> <span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span> <span class="o">=</span> <span class="n">Paddle</span> <span class="p">)</span>
	<span class="k">class</span> <span class="nc">UPaperSpriteComponent</span><span class="o">*</span> <span class="n">Sprite</span><span class="p">;</span>

<span class="k">private</span><span class="o">:</span>

	<span class="c1">//Booleans for keeping track of valid movement directions</span>
	<span class="kt">bool</span> <span class="n">MoveUp</span><span class="p">;</span>
	<span class="kt">bool</span> <span class="n">MoveDown</span><span class="p">;</span>

	<span class="c1">//How fast the paddle is moving</span>
	<span class="kt">float</span> <span class="n">Velocity</span><span class="p">;</span>
	
<span class="p">};</span>
</pre></div>
<h4><span class="mw-headline" id="Paddle.cpp_6">Paddle.cpp</span></h4>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Paddle.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PaperSpriteComponent.h&quot;</span><span class="cp"></span>


<span class="c1">// Sets default values</span>
<span class="n">APaddle</span><span class="o">::</span><span class="n">APaddle</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
 	<span class="c1">// Set this pawn to call Tick() every frame.  You can turn this off to improve performance if you don&#39;t need it.</span>
	<span class="n">PrimaryActorTick</span><span class="p">.</span><span class="n">bCanEverTick</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

	<span class="c1">//Find the Paddle Sprite -- Right click on your sprite in the editor and click copy reference to get the path to it</span>
	<span class="n">ConstructorHelpers</span><span class="o">::</span><span class="n">FObjectFinder</span><span class="o">&lt;</span><span class="n">UPaperSprite</span><span class="o">&gt;</span> <span class="n">PaddleSpriteRef</span><span class="p">(</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;PaperSprite&#39;/Game/Sprites/Paddle&#39;&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Create a default UPaperSpriteComponent and register it to this Actor</span>
	<span class="n">Sprite</span> <span class="o">=</span> <span class="n">ObjectInitializer</span><span class="p">.</span><span class="n">CreateDefaultSubobject</span><span class="o">&lt;</span><span class="n">UPaperSpriteComponent</span><span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;SpriteComp&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Set the Sprite to render for the UPaperSpriteComponent to the PaddleSprite Reference we grabbed</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetSprite</span><span class="p">(</span> <span class="n">PaddleSpriteRef</span><span class="p">.</span><span class="n">Object</span> <span class="p">);</span>

	<span class="n">RootComponent</span> <span class="o">=</span> <span class="n">Sprite</span><span class="p">;</span>

	<span class="n">ObjectInitializer</span><span class="p">.</span><span class="n">CreateDefaultSubobject</span><span class="o">&lt;</span><span class="n">UPawnMovementComponent</span><span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;MovementComp&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Can initially move in all directions</span>
	<span class="n">MoveUp</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="n">MoveDown</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

	<span class="c1">//Set the sprite to generate overlap events for world-static objects -&gt; The Bounds is set to World Static, so this should generate an overlap event now</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetCollisionEnabled</span><span class="p">(</span> <span class="n">ECollisionEnabled</span><span class="o">::</span><span class="n">QueryAndPhysics</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetObjectType</span><span class="p">(</span> <span class="n">ECollisionChannel</span><span class="o">::</span><span class="n">ECC_Pawn</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetResponseToChannel</span><span class="p">(</span> <span class="n">ECollisionChannel</span><span class="o">::</span><span class="n">ECC_WorldStatic</span><span class="p">,</span> <span class="n">ECollisionResponse</span><span class="o">::</span><span class="n">ECR_Overlap</span> <span class="p">);</span>
	
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetSimulatePhysics</span><span class="p">(</span> <span class="nb">false</span> <span class="p">);</span>

	<span class="c1">//Set the location of the Paddle to the Left</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeLocation</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="o">-</span><span class="mf">200.0f</span><span class="p">,</span> <span class="mf">50.f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeRotation</span><span class="p">(</span> <span class="n">FRotator</span><span class="p">(</span> <span class="mf">0.f</span><span class="p">,</span> <span class="mf">0.f</span><span class="p">,</span> <span class="mf">0.f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeScale3D</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.1f</span><span class="p">,</span> <span class="mf">1.0f</span><span class="p">,</span> <span class="mf">0.1f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetAbsolute</span><span class="p">(</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">true</span> <span class="p">);</span>

	

<span class="p">}</span>

<span class="c1">// Called when the game starts or when spawned</span>
<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">();</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeLocation</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="o">-</span><span class="mf">200.0f</span><span class="p">,</span> <span class="mf">50.f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeRotation</span><span class="p">(</span> <span class="n">FRotator</span><span class="p">(</span> <span class="mf">0.f</span><span class="p">,</span> <span class="mf">0.f</span><span class="p">,</span> <span class="mf">0.f</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Called every frame</span>
<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="n">DeltaTime</span> <span class="p">);</span>
	
	<span class="c1">// Update the sprites location based on the movement input</span>
	<span class="n">FVector</span> <span class="n">move</span> <span class="o">=</span> <span class="n">GetMovementInputVector</span><span class="p">();</span>
	<span class="k">if</span> <span class="p">(</span> <span class="p">(</span> <span class="n">MoveUp</span> <span class="o">&amp;&amp;</span> <span class="n">move</span><span class="p">.</span><span class="n">Z</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="o">||</span> <span class="p">(</span> <span class="n">MoveDown</span> <span class="o">&amp;&amp;</span> <span class="n">move</span><span class="p">.</span><span class="n">Z</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">FTransform</span> <span class="n">loc</span> <span class="o">=</span> <span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetRelativeTransform</span><span class="p">();</span>
		<span class="n">loc</span><span class="p">.</span><span class="n">AddToTranslation</span><span class="p">(</span> <span class="n">move</span><span class="o">*</span><span class="n">DeltaTime</span> <span class="p">);</span>
		<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeTransform</span><span class="p">(</span> <span class="n">loc</span> <span class="p">);</span>
	<span class="p">}</span>

<span class="p">}</span>

<span class="c1">// Called to bind functionality to input</span>
<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">SetupPlayerInputComponent</span><span class="p">(</span><span class="k">class</span> <span class="nc">UInputComponent</span><span class="o">*</span> <span class="n">InputComponent</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">SetupPlayerInputComponent</span><span class="p">(</span><span class="n">InputComponent</span><span class="p">);</span>

	<span class="k">const</span> <span class="n">UInputSettings</span><span class="o">*</span> <span class="n">settings</span> <span class="o">=</span> <span class="n">GetDefault</span><span class="o">&lt;</span><span class="n">UInputSettings</span><span class="o">&gt;</span><span class="p">(</span> <span class="p">);</span>

	<span class="c1">//Create movement mappings for upwards and downwards movement, the float value tells if we are moving the paddle up or down</span>
	<span class="k">const</span> <span class="n">FInputAxisKeyMapping</span> <span class="nf">upKey</span><span class="p">(</span><span class="s">&quot;Move&quot;</span><span class="p">,</span> <span class="n">EKeys</span><span class="o">::</span><span class="n">Up</span><span class="p">,</span> <span class="mf">1.0f</span><span class="p">);</span>
	<span class="k">const</span> <span class="n">FInputAxisKeyMapping</span> <span class="nf">downKey</span><span class="p">(</span> <span class="s">&quot;Move&quot;</span><span class="p">,</span> <span class="n">EKeys</span><span class="o">::</span><span class="n">Down</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0f</span> <span class="p">);</span>

	<span class="c1">// Add the axis mappings</span>
	<span class="c1">// Once this code is executed, these mappings will be added in the editors Input Settings!</span>
	<span class="p">((</span><span class="n">UInputSettings</span><span class="o">*</span><span class="p">)</span><span class="n">settings</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">AddAxisMapping</span><span class="p">(</span> <span class="n">upKey</span> <span class="p">);</span>
	<span class="p">((</span><span class="n">UInputSettings</span><span class="o">*</span><span class="p">)</span><span class="n">settings</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">AddAxisMapping</span><span class="p">(</span> <span class="n">downKey</span> <span class="p">);</span>

	<span class="c1">// Bind the axis - if we press up, the function is called with 1.0.  if we press down, the function is called with -1.0.</span>
	<span class="c1">// if we do nothing, the function is called with 0.0f</span>
	<span class="n">InputComponent</span><span class="o">-&gt;</span><span class="n">BindAxis</span><span class="p">(</span> <span class="s">&quot;Move&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">APaddle</span><span class="o">::</span><span class="n">MovePaddle</span> <span class="p">);</span>

	<span class="n">Velocity</span> <span class="o">=</span> <span class="mf">0.0f</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">MovePaddle</span><span class="p">(</span> <span class="kt">float</span> <span class="n">Scale</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//Add a movement input, hardcoding in 75.0f for the vector</span>
	<span class="n">FVector</span> <span class="n">direction</span> <span class="o">=</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">75.0f</span> <span class="p">);</span>
	<span class="n">GetMovementComponent</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">ConsumeInputVector</span><span class="p">();</span>
	<span class="n">AddMovementInput</span><span class="p">(</span> <span class="n">direction</span><span class="p">,</span> <span class="n">Scale</span> <span class="p">);</span>
	<span class="n">Velocity</span> <span class="o">=</span> <span class="n">Scale</span> <span class="o">*</span> <span class="mf">75.0f</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">NotifyActorBeginOverlap</span><span class="p">(</span> <span class="n">AActor</span><span class="o">*</span> <span class="n">OtherActor</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">OtherActor</span><span class="o">-&gt;</span><span class="n">GetName</span><span class="p">().</span><span class="n">Equals</span><span class="p">(</span> <span class="s">&quot;Bounds&quot;</span> <span class="p">)</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">FVector</span> <span class="n">prev</span> <span class="o">=</span> <span class="n">GetMovementComponent</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetLastInputVector</span><span class="p">();</span>

		<span class="c1">//If moving into a bound, set the movement in that direction to false</span>
		<span class="k">if</span> <span class="p">(</span> <span class="n">prev</span><span class="p">.</span><span class="n">Z</span> <span class="o">&gt;</span> <span class="mf">0.0f</span> <span class="p">)</span>
		<span class="p">{</span>
			<span class="n">MoveUp</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="n">prev</span><span class="p">.</span><span class="n">Z</span> <span class="o">&lt;</span> <span class="mf">0.0f</span> <span class="p">)</span>
		<span class="p">{</span>
			<span class="n">MoveDown</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
		<span class="p">}</span>

	<span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">NotifyActorEndOverlap</span><span class="p">(</span> <span class="n">AActor</span><span class="o">*</span> <span class="n">OtherActor</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">OtherActor</span><span class="o">-&gt;</span><span class="n">GetName</span><span class="p">().</span><span class="n">Equals</span><span class="p">(</span> <span class="s">&quot;Bounds&quot;</span> <span class="p">)</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//Out of the bounds so enable all movement inputs</span>
		<span class="n">MoveUp</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
		<span class="n">MoveDown</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="c1">//Get the ZVelocity (How fast the paddle is moving up or down)</span>
<span class="kt">float</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">GetZVelocity</span><span class="p">()</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">Velocity</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">FVector2D</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">GetPosition</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">FVector2D</span> <span class="n">location</span><span class="p">;</span>
	<span class="n">location</span><span class="p">.</span><span class="n">X</span> <span class="o">=</span> <span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetComponentLocation</span><span class="p">().</span><span class="n">X</span><span class="p">;</span>
	<span class="n">location</span><span class="p">.</span><span class="n">Y</span> <span class="o">=</span> <span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetComponentLocation</span><span class="p">().</span><span class="n">Z</span><span class="p">;</span>

	<span class="k">return</span> <span class="n">location</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<h3><span class="mw-headline" id="PaddleAI">PaddleAI</span></h3>
<p>The AI Paddle class was created.  A SetBall Method was created in order to store a reference to the Ball.  This is used in the Tick function for some very simple ai.  If the ball is above the paddle, the paddle moves up.  If the ball is below the paddle, the paddle moves down.  If the paddle and the ball are at the same height, the paddle does not move.
</p>
<h4><span class="mw-headline" id="PaddleAI.h">PaddleAI.h</span></h4>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;Paddle.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PaddleAI.generated.h&quot;</span><span class="cp"></span>

<span class="cm">/**</span>
<span class="cm"> * </span>
<span class="cm"> */</span>
<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">APaddleAI</span> <span class="p">:</span> <span class="k">public</span> <span class="n">APaddle</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>
	
<span class="k">public</span><span class="o">:</span>
	<span class="c1">// Sets default values for this pawn&#39;s properties</span>
	<span class="n">APaddleAI</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>

	<span class="c1">// Called when the game starts or when spawned</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">BeginPlay</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// Called every frame</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaSeconds</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>
	
	<span class="c1">// Ball Reference</span>
	<span class="kt">void</span> <span class="nf">SetBall</span><span class="p">(</span> <span class="k">class</span> <span class="nc">ABall</span><span class="o">*</span> <span class="n">Ball</span> <span class="p">);</span>

<span class="k">private</span><span class="o">:</span>

	<span class="c1">//Reference to Ball</span>
	<span class="k">class</span> <span class="nc">ABall</span><span class="o">*</span> <span class="n">Ball</span><span class="p">;</span>
	
<span class="p">};</span>
</pre></div>
<h4><span class="mw-headline" id="PaddleAI.cpp">PaddleAI.cpp</span></h4>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PaddleAI.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Ball.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PaperSpriteComponent.h&quot;</span><span class="cp"></span>



<span class="c1">// Sets default values</span>
<span class="n">APaddleAI</span><span class="o">::</span><span class="n">APaddleAI</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="c1">// Set this pawn to call Tick() every frame.  You can turn this off to improve performance if you don&#39;t need it.</span>
	<span class="n">PrimaryActorTick</span><span class="p">.</span><span class="n">bCanEverTick</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

<span class="p">}</span>

<span class="c1">// Called when the game starts or when spawned</span>
<span class="kt">void</span> <span class="n">APaddleAI</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">(</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">();</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeLocation</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">200.0f</span><span class="p">,</span> <span class="mf">50.f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeRotation</span><span class="p">(</span> <span class="n">FRotator</span><span class="p">(</span> <span class="mf">0.f</span><span class="p">,</span> <span class="mf">0.f</span><span class="p">,</span> <span class="mf">0.f</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Called every frame</span>
<span class="kt">void</span> <span class="n">APaddleAI</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="n">DeltaTime</span> <span class="p">);</span>

	<span class="c1">// Update the direction the AI should move based on where the Ball is</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetComponentLocation</span><span class="p">().</span><span class="n">Z</span> <span class="o">&gt;</span> <span class="n">Ball</span><span class="o">-&gt;</span><span class="n">GetActorLocation</span><span class="p">().</span><span class="n">Z</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">MovePaddle</span><span class="p">(</span> <span class="o">-</span><span class="mf">1.0f</span> <span class="p">);</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetComponentLocation</span><span class="p">().</span><span class="n">Z</span> <span class="o">&lt;</span> <span class="n">Ball</span><span class="o">-&gt;</span><span class="n">GetActorLocation</span><span class="p">().</span><span class="n">Z</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">MovePaddle</span><span class="p">(</span> <span class="mf">1.0f</span> <span class="p">);</span>
	<span class="p">}</span>
	<span class="k">else</span>
	<span class="p">{</span>
		<span class="n">MovePaddle</span><span class="p">(</span> <span class="mf">0.0f</span> <span class="p">);</span>
	<span class="p">}</span>

<span class="p">}</span>

<span class="kt">void</span> <span class="n">APaddleAI</span><span class="o">::</span><span class="n">SetBall</span><span class="p">(</span> <span class="n">ABall</span><span class="o">*</span> <span class="n">Ball</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="k">this</span><span class="o">-&gt;</span><span class="n">Ball</span> <span class="o">=</span> <span class="n">Ball</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<h3><span class="mw-headline" id="Goal">Goal</span></h3>
<p>The goals were made so that a SetPosition function could be called to set the position of them.  There are two goals, the PlayerGoal and the AIGoal.  These were spawned and set in the GameMode class shown later on in this tutorial.  The goals need to be initialized so that they are not visible and they generate overlap events when a dynamic object(The Ball) collides with it.
</p>
<h4><span class="mw-headline" id="Goal.h_2">Goal.h</span></h4>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/Actor.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Goal.generated.h&quot;</span><span class="cp"></span>

<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">AGoal</span> <span class="p">:</span> <span class="k">public</span> <span class="n">AActor</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>
	
<span class="k">public</span><span class="o">:</span>	
	<span class="c1">// Sets default values for this actor&#39;s properties</span>
	<span class="n">AGoal</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>

	<span class="c1">// Called when the game starts or when spawned</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">BeginPlay</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>
	
	<span class="c1">// Called every frame</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaSeconds</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// Set the X,Y, and Z scale for the sprite</span>
	<span class="kt">void</span> <span class="nf">SetScale</span><span class="p">(</span> <span class="n">FVector</span><span class="o">&amp;</span> <span class="n">vector</span> <span class="p">);</span>

	<span class="c1">// Set the position of the Goal</span>
	<span class="kt">void</span> <span class="nf">SetPosition</span><span class="p">(</span> <span class="n">FVector</span><span class="o">&amp;</span> <span class="n">position</span> <span class="p">);</span>

	<span class="c1">// Accessor for the width</span>
	<span class="kt">float</span> <span class="nf">GetWidth</span><span class="p">();</span>

<span class="k">private</span><span class="o">:</span>

	<span class="c1">//Reference to the Sprite that represents a pong goal area</span>
	<span class="k">class</span> <span class="nc">UPaperSpriteComponent</span><span class="o">*</span> <span class="n">Sprite</span><span class="p">;</span>
	
<span class="p">};</span>
</pre></div>
<h4><span class="mw-headline" id="Goal.cpp_2">Goal.cpp</span></h4>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Goal.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PaperSpriteComponent.h&quot;</span><span class="cp"></span>

<span class="c1">// Sets default values</span>
<span class="n">AGoal</span><span class="o">::</span><span class="n">AGoal</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="c1">// Set this actor to call Tick() every frame.  You can turn this off to improve performance if you don&#39;t need it.</span>
	<span class="n">PrimaryActorTick</span><span class="p">.</span><span class="n">bCanEverTick</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

	<span class="c1">//Find the Goal Sprite -- Right click on your sprite in the editor and click copy reference to get the path to it</span>
	<span class="n">ConstructorHelpers</span><span class="o">::</span><span class="n">FObjectFinder</span><span class="o">&lt;</span><span class="n">UPaperSprite</span><span class="o">&gt;</span> <span class="n">GoalSpriteRef</span><span class="p">(</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;PaperSprite&#39;/Game/Sprites/Goal&#39;&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Create a default UPaperSpriteComponent and register it to this Actor</span>
	<span class="n">Sprite</span> <span class="o">=</span> <span class="n">ObjectInitializer</span><span class="p">.</span><span class="n">CreateDefaultSubobject</span><span class="o">&lt;</span><span class="n">UPaperSpriteComponent</span><span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;SpriteComp&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Set the Sprite to render for the UPaperSpriteComponent to the GoalSprite Reference we grabbed</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetSprite</span><span class="p">(</span> <span class="n">GoalSpriteRef</span><span class="p">.</span><span class="n">Object</span> <span class="p">);</span>

	<span class="n">RootComponent</span> <span class="o">=</span> <span class="n">Sprite</span><span class="p">;</span>

	<span class="c1">//Make sure that this component overlaps</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetCollisionEnabled</span><span class="p">(</span> <span class="n">ECollisionEnabled</span><span class="o">::</span><span class="n">QueryOnly</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetObjectType</span><span class="p">(</span> <span class="n">ECollisionChannel</span><span class="o">::</span><span class="n">ECC_WorldStatic</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetResponseToAllChannels</span><span class="p">(</span> <span class="n">ECollisionResponse</span><span class="o">::</span><span class="n">ECR_Overlap</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetVisibility</span><span class="p">(</span> <span class="nb">false</span> <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Called when the game starts or when spawned</span>
<span class="kt">void</span> <span class="n">AGoal</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">();</span>
	
<span class="p">}</span>

<span class="c1">// Called every frame</span>
<span class="kt">void</span> <span class="n">AGoal</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="n">DeltaTime</span> <span class="p">);</span>

<span class="p">}</span>

<span class="c1">// Set the X,Y, and Z scale for the sprite</span>
<span class="kt">void</span> <span class="n">AGoal</span><span class="o">::</span><span class="n">SetScale</span><span class="p">(</span> <span class="n">FVector</span><span class="o">&amp;</span> <span class="n">vector</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeScale3D</span><span class="p">(</span> <span class="n">vector</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">AGoal</span><span class="o">::</span><span class="n">SetPosition</span><span class="p">(</span> <span class="n">FVector</span><span class="o">&amp;</span> <span class="n">position</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeLocation</span><span class="p">(</span> <span class="n">position</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">float</span> <span class="n">AGoal</span><span class="o">::</span><span class="n">GetWidth</span><span class="p">()</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetSprite</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetSourceSize</span><span class="p">().</span><span class="n">X</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<h3><span class="mw-headline" id="GameMode">GameMode</span></h3>
<p>The gamemode was updated to spawn an AIPaddle, spawn the Goals, rename the paddles/goals, set the positions of the goals, and update the state/aipaddle with references to the Ball.  Just a bunch of initialization stuff here.
</p>
<h4><span class="mw-headline" id="PongGameMode.h_5">PongGameMode.h</span></h4>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/GameMode.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongGameMode.generated.h&quot;</span><span class="cp"></span>

<span class="cm">/**</span>
<span class="cm"> * </span>
<span class="cm"> */</span>
<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">APongGameMode</span> <span class="p">:</span> <span class="k">public</span> <span class="n">AGameMode</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>

<span class="k">public</span><span class="o">:</span>
	<span class="c1">//Constructor where we set the default classes to initialize</span>
	<span class="n">APongGameMode</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>
	
	<span class="c1">//Function called to spawn our pawn objects into the world</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">StartPlay</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
<h4><span class="mw-headline" id="PongGameMode.cpp_5">PongGameMode.cpp</span></h4>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongGameMode.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Paddle.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongCamera.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Background.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Ball.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Bounds.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Goal.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongGameState.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PaddleAI.h&quot;</span><span class="cp"></span>

<span class="n">APongGameMode</span><span class="o">::</span><span class="n">APongGameMode</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//Set Default Classes</span>
	<span class="n">DefaultPawnClass</span> <span class="o">=</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">();</span>
	<span class="n">GameStateClass</span> <span class="o">=</span> <span class="n">APongGameState</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">();</span>
<span class="p">}</span>


<span class="kt">void</span> <span class="n">APongGameMode</span><span class="o">::</span><span class="n">StartPlay</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">StartPlay</span><span class="p">(</span> <span class="p">);</span>
	<span class="n">UWorld</span><span class="o">*</span> <span class="k">const</span> <span class="n">World</span> <span class="o">=</span> <span class="n">GetWorld</span><span class="p">();</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">World</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">APongGameState</span><span class="o">*</span> <span class="n">gameState</span> <span class="o">=</span> <span class="n">GetGameState</span><span class="o">&lt;</span><span class="n">APongGameState</span><span class="o">&gt;</span><span class="p">();</span>
		<span class="n">APongCamera</span><span class="o">*</span> <span class="n">camera</span> <span class="o">=</span> <span class="n">World</span><span class="o">-&gt;</span><span class="n">SpawnActor</span><span class="o">&lt;</span><span class="n">APongCamera</span><span class="o">&gt;</span><span class="p">(</span> <span class="n">APongCamera</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">()</span> <span class="p">);</span>
		
		<span class="c1">//Camera is set to the CameraActor created</span>
		<span class="n">World</span><span class="o">-&gt;</span><span class="n">GetFirstPlayerController</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetViewTarget</span><span class="p">(</span> <span class="n">camera</span> <span class="p">);</span>

		<span class="c1">//Set the background to fill up the entire view of the camera</span>
		<span class="n">ABackground</span><span class="o">*</span> <span class="n">background</span> <span class="o">=</span> <span class="n">World</span><span class="o">-&gt;</span><span class="n">SpawnActor</span><span class="o">&lt;</span><span class="n">ABackground</span><span class="o">&gt;</span><span class="p">(</span> <span class="n">ABackground</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">()</span> <span class="p">);</span>
		<span class="n">FVector2D</span> <span class="n">dimensions</span> <span class="o">=</span> <span class="n">camera</span><span class="o">-&gt;</span><span class="n">GetViewDimensions</span><span class="p">();</span>
		<span class="n">background</span><span class="o">-&gt;</span><span class="n">SetDimensions</span><span class="p">(</span> <span class="n">dimensions</span> <span class="p">);</span>

		<span class="c1">//Spawn the Ball into the World</span>
		<span class="n">ABall</span><span class="o">*</span> <span class="n">ball</span> <span class="o">=</span> <span class="n">World</span><span class="o">-&gt;</span><span class="n">SpawnActor</span><span class="o">&lt;</span><span class="n">ABall</span><span class="o">&gt;</span><span class="p">(</span> <span class="n">ABall</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">()</span> <span class="p">);</span>

		<span class="n">FVector</span> <span class="n">scale</span> <span class="o">=</span> <span class="n">background</span><span class="o">-&gt;</span><span class="n">GetScale</span><span class="p">();</span>

		<span class="c1">//Spawn the Bounds into the World</span>
		<span class="n">ABounds</span><span class="o">*</span> <span class="n">bounds</span> <span class="o">=</span> <span class="n">World</span><span class="o">-&gt;</span><span class="n">SpawnActor</span><span class="o">&lt;</span><span class="n">ABounds</span><span class="o">&gt;</span><span class="p">(</span> <span class="n">ABounds</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">()</span> <span class="p">);</span>
		<span class="n">bounds</span><span class="o">-&gt;</span><span class="n">SetScale</span><span class="p">(</span> <span class="n">scale</span> <span class="p">);</span>

		<span class="c1">//Spawn the Player and AI Goals</span>
		<span class="n">AGoal</span><span class="o">*</span> <span class="n">playerGoal</span> <span class="o">=</span> <span class="n">World</span><span class="o">-&gt;</span><span class="n">SpawnActor</span><span class="o">&lt;</span><span class="n">AGoal</span><span class="o">&gt;</span><span class="p">(</span> <span class="n">AGoal</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">()</span> <span class="p">);</span>
		<span class="n">AGoal</span><span class="o">*</span> <span class="n">aiGoal</span> <span class="o">=</span> <span class="n">World</span><span class="o">-&gt;</span><span class="n">SpawnActor</span><span class="o">&lt;</span><span class="n">AGoal</span><span class="o">&gt;</span><span class="p">(</span> <span class="n">AGoal</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">()</span> <span class="p">);</span>

		<span class="n">playerGoal</span><span class="o">-&gt;</span><span class="n">SetScale</span><span class="p">(</span> <span class="n">scale</span> <span class="p">);</span>
		<span class="n">aiGoal</span><span class="o">-&gt;</span><span class="n">SetScale</span><span class="p">(</span> <span class="n">scale</span> <span class="p">);</span>

		<span class="n">playerGoal</span><span class="o">-&gt;</span><span class="n">Rename</span><span class="p">(</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;PlayerGoal&quot;</span> <span class="p">)</span> <span class="p">);</span>
		<span class="n">aiGoal</span><span class="o">-&gt;</span><span class="n">Rename</span><span class="p">(</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;AIGoal&quot;</span> <span class="p">)</span> <span class="p">);</span>

		<span class="c1">//Get a reference to the paddles and rename them</span>
		<span class="n">APaddle</span><span class="o">*</span> <span class="n">playerPaddle</span> <span class="o">=</span> <span class="p">(</span><span class="n">APaddle</span><span class="o">*</span><span class="p">)</span><span class="n">World</span><span class="o">-&gt;</span><span class="n">GetFirstPlayerController</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetPawn</span><span class="p">();</span>
		<span class="n">APaddleAI</span><span class="o">*</span> <span class="n">aiPaddle</span> <span class="o">=</span> <span class="n">World</span><span class="o">-&gt;</span><span class="n">SpawnActor</span><span class="o">&lt;</span><span class="n">APaddleAI</span><span class="o">&gt;</span><span class="p">(</span> <span class="n">APaddleAI</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">(</span> <span class="p">)</span> <span class="p">);</span>
		<span class="n">playerPaddle</span><span class="o">-&gt;</span><span class="n">Rename</span><span class="p">(</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;PlayerPaddle&quot;</span> <span class="p">)</span> <span class="p">);</span>
		<span class="n">aiPaddle</span><span class="o">-&gt;</span><span class="n">Rename</span><span class="p">(</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;AIPaddle&quot;</span> <span class="p">)</span> <span class="p">);</span>

		<span class="c1">//playerGoal spawns on the left, aiGoal on the right</span>
		<span class="n">FVector</span> <span class="n">playerPos</span><span class="p">,</span> <span class="n">aiPos</span><span class="p">;</span>
		<span class="n">playerPos</span><span class="p">.</span><span class="n">Y</span> <span class="o">=</span> <span class="mf">50.f</span><span class="p">;</span>
		<span class="n">aiPos</span><span class="p">.</span><span class="n">Y</span> <span class="o">=</span> <span class="mf">50.f</span><span class="p">;</span>
		<span class="n">playerPos</span><span class="p">.</span><span class="n">X</span> <span class="o">=</span> <span class="n">playerPaddle</span><span class="o">-&gt;</span><span class="n">GetPosition</span><span class="p">().</span><span class="n">X</span> <span class="o">-</span> <span class="p">(</span> <span class="n">playerGoal</span><span class="o">-&gt;</span><span class="n">GetWidth</span><span class="p">()</span> <span class="o">*</span> <span class="n">scale</span><span class="p">.</span><span class="n">X</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
		<span class="n">aiPos</span><span class="p">.</span><span class="n">X</span> <span class="o">=</span> <span class="mf">5.0f</span> <span class="o">+</span> <span class="n">aiPaddle</span><span class="o">-&gt;</span><span class="n">GetPosition</span><span class="p">().</span><span class="n">X</span> <span class="o">+</span> <span class="p">(</span> <span class="n">playerGoal</span><span class="o">-&gt;</span><span class="n">GetWidth</span><span class="p">()</span> <span class="o">*</span> <span class="n">scale</span><span class="p">.</span><span class="n">X</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
		<span class="n">playerPos</span><span class="p">.</span><span class="n">Z</span> <span class="o">=</span> <span class="mf">0.f</span><span class="p">;</span>
		<span class="n">aiPos</span><span class="p">.</span><span class="n">Z</span> <span class="o">=</span> <span class="mf">0.f</span><span class="p">;</span>

		<span class="n">playerGoal</span><span class="o">-&gt;</span><span class="n">SetPosition</span><span class="p">(</span> <span class="n">playerPos</span> <span class="p">);</span>
		<span class="n">aiGoal</span><span class="o">-&gt;</span><span class="n">SetPosition</span><span class="p">(</span> <span class="n">aiPos</span> <span class="p">);</span>

		<span class="n">gameState</span><span class="o">-&gt;</span><span class="n">SetBall</span><span class="p">(</span> <span class="n">ball</span> <span class="p">);</span>
		<span class="n">aiPaddle</span><span class="o">-&gt;</span><span class="n">SetBall</span><span class="p">(</span> <span class="n">ball</span> <span class="p">);</span>
	<span class="p">}</span>

	<span class="n">Super</span><span class="o">::</span><span class="n">StartMatch</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
<h3><span class="mw-headline" id="GameState">GameState</span></h3>
<p>The PongGameState was updated majorly for some of these changes made.  A UFUNCTION() BallOVerlap function was created.  This function was created and registered such that it is called whenever the Ball overlaps with another Actor.  Private variables for the score were added in order to keep track of when a score was made.  A ResetBoard helper function was also made so that the state machine can call it to reset everything back to initial states after a goal has been scored.
</p>
<h4><span class="mw-headline" id="PongGameState.h_3">PongGameState.h</span></h4>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/GameState.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongGameState.generated.h&quot;</span><span class="cp"></span>

<span class="cm">/**</span>
<span class="cm"> * </span>
<span class="cm"> */</span>
<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">APongGameState</span> <span class="p">:</span> <span class="k">public</span> <span class="n">AGameState</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>

	<span class="k">enum</span> <span class="n">PONG_STATES</span>
	<span class="p">{</span>
		<span class="n">WAITING_TO_START</span><span class="p">,</span>
		<span class="n">PUSH_BALL</span><span class="p">,</span>
		<span class="n">PLAYING</span><span class="p">,</span>
		<span class="n">UPDATE_SCORE</span>
	<span class="p">};</span>

<span class="k">public</span><span class="o">:</span>

	<span class="n">APongGameState</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>
	
	<span class="c1">//Tick called every frame</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">//Mutator for the reference to the Ball</span>
	<span class="kt">void</span> <span class="nf">SetBall</span><span class="p">(</span> <span class="k">class</span> <span class="nc">ABall</span><span class="o">*</span> <span class="n">Ball</span> <span class="p">);</span>

	<span class="c1">//Overlap event for when the ball overlaps</span>
	<span class="n">UFUNCTION</span><span class="p">()</span>
	<span class="kt">void</span> <span class="n">BallOverlap</span><span class="p">(</span> <span class="n">AActor</span><span class="o">*</span> <span class="n">OtherActor</span> <span class="p">);</span>

<span class="k">private</span><span class="o">:</span>
	<span class="c1">//Helper function to Reset the Board to it&#39;s initial state</span>
	<span class="kt">void</span> <span class="n">ResetBoard</span><span class="p">();</span>

<span class="k">private</span><span class="o">:</span>

	<span class="c1">//The current state the game is in</span>
	<span class="n">PONG_STATES</span> <span class="n">CurrentState</span><span class="p">;</span>

	<span class="c1">//Reference to the Ball</span>
	<span class="k">class</span> <span class="nc">ABall</span><span class="o">*</span> <span class="n">Ball</span><span class="p">;</span>

	<span class="c1">//booleans to keep track of when a goal is scored</span>
	<span class="kt">bool</span> <span class="n">AIScored</span><span class="p">;</span>
	<span class="kt">bool</span> <span class="n">PlayerScored</span><span class="p">;</span>

	<span class="c1">//values to store to the current score</span>
	<span class="kt">int</span> <span class="n">AIScore</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">PlayerScore</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>
<h4><span class="mw-headline" id="PongGameState.cpp_3">PongGameState.cpp</span></h4>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongGameState.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Ball.h&quot;</span><span class="cp"></span>

<span class="n">APongGameState</span><span class="o">::</span><span class="n">APongGameState</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">PrimaryActorTick</span><span class="p">.</span><span class="n">bCanEverTick</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="n">PlayerScore</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">AIScore</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">CurrentState</span> <span class="o">=</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="n">WAITING_TO_START</span><span class="p">;</span>
<span class="p">}</span>


<span class="kt">void</span> <span class="n">APongGameState</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="n">DeltaTime</span> <span class="p">);</span>

	<span class="c1">// If match is in progress, run the custom state machine</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">IsMatchInProgress</span><span class="p">(</span> <span class="p">)</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="k">switch</span> <span class="p">(</span> <span class="n">CurrentState</span> <span class="p">)</span>
		<span class="p">{</span>
		<span class="k">case</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="nl">WAITING_TO_START</span><span class="p">:</span>
			<span class="n">ResetBoard</span><span class="p">();</span>
			<span class="n">CurrentState</span> <span class="o">=</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="n">PUSH_BALL</span><span class="p">;</span>
			<span class="k">break</span><span class="p">;</span>

		<span class="k">case</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="nl">PUSH_BALL</span><span class="p">:</span>
			<span class="n">Ball</span><span class="o">-&gt;</span><span class="n">StartMove</span><span class="p">();</span>
			<span class="n">CurrentState</span> <span class="o">=</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="n">PLAYING</span><span class="p">;</span>
			<span class="k">break</span><span class="p">;</span>

		<span class="k">case</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="nl">PLAYING</span><span class="p">:</span>
			<span class="k">if</span> <span class="p">(</span> <span class="n">PlayerScored</span> <span class="o">||</span> <span class="n">AIScored</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">CurrentState</span> <span class="o">=</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="n">WAITING_TO_START</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="k">break</span><span class="p">;</span>

		<span class="k">case</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="nl">UPDATE_SCORE</span><span class="p">:</span>
			<span class="n">CurrentState</span> <span class="o">=</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="n">WAITING_TO_START</span><span class="p">;</span>
			<span class="k">break</span><span class="p">;</span>

		<span class="k">default</span><span class="o">:</span>
			<span class="n">CurrentState</span> <span class="o">=</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="n">WAITING_TO_START</span><span class="p">;</span>
			<span class="k">break</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APongGameState</span><span class="o">::</span><span class="n">SetBall</span><span class="p">(</span> <span class="n">ABall</span><span class="o">*</span> <span class="n">Ball</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="k">this</span><span class="o">-&gt;</span><span class="n">Ball</span> <span class="o">=</span> <span class="n">Ball</span><span class="p">;</span>
	<span class="n">Ball</span><span class="o">-&gt;</span><span class="n">OnActorBeginOverlap</span><span class="p">.</span><span class="n">AddDynamic</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">APongGameState</span><span class="o">::</span><span class="n">BallOverlap</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APongGameState</span><span class="o">::</span><span class="n">BallOverlap</span><span class="p">(</span> <span class="n">AActor</span><span class="o">*</span> <span class="n">OtherActor</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">OtherActor</span><span class="o">-&gt;</span><span class="n">GetName</span><span class="p">().</span><span class="n">Equals</span><span class="p">(</span> <span class="s">&quot;PlayerGoal&quot;</span> <span class="p">)</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">AIScored</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
		<span class="n">AIScore</span><span class="o">++</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span> <span class="n">OtherActor</span><span class="o">-&gt;</span><span class="n">GetName</span><span class="p">().</span><span class="n">Equals</span><span class="p">(</span> <span class="s">&quot;AIGoal&quot;</span> <span class="p">)</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">PlayerScored</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
		<span class="n">PlayerScore</span><span class="o">++</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APongGameState</span><span class="o">::</span><span class="n">ResetBoard</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">PlayerScored</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	<span class="n">AIScored</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p><br />
</p>
<h2><span class="mw-headline" id="Creating_the_HUD_.2F_Finishing_up">Creating the HUD / Finishing up</span></h2>
<p>Collision should be working now.  The score should be updating. All that is needed now is a way to display the score and to polish up the states.  In order to display the score, a HUD is going to be created.  The HUD is going to be used to draw test to the canvas.  In our case, we are going to draw the current score of the Pong Game and maybe an Initial text to start the game, something like "Press space to Begin.".
</p>
<h3><span class="mw-headline" id="Pong_HUD">Pong HUD</span></h3>
<ol><li>Create a new c++ class in the editor</li>
<li>Extend the HUD class</li>
<li>call the new class "PongHUD" and click create</li></ol>
<p>The HUD is going to go through a Draw Function where it will constantly draw the HUD.  Some functions are made for different components to be drawn.  The Score is set to always be drawn, and a boolean value controls when the Score is drawn.
</p><p><br />
</p>
<h4><span class="mw-headline" id="PongHUD.h">PongHUD.h</span></h4>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/HUD.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongHUD.generated.h&quot;</span><span class="cp"></span>

<span class="cm">/**</span>
<span class="cm">*</span>
<span class="cm">*/</span>
<span class="n">UCLASS</span><span class="p">(</span> <span class="p">)</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">APongHUD</span> <span class="p">:</span> <span class="k">public</span> <span class="n">AHUD</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">(</span> <span class="p">)</span>


<span class="k">public</span><span class="o">:</span>

	<span class="n">APongHUD</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>

	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">DrawHUD</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">//Display the current Pong Score on the screen</span>
	<span class="kt">void</span> <span class="nf">DisplayScore</span><span class="p">(</span> <span class="p">);</span>

	<span class="c1">//Display The text waiting for space</span>
	<span class="kt">void</span> <span class="nf">DisplaySpaceText</span><span class="p">();</span>

	<span class="c1">//Set if the waiting for space text should be displayed</span>
	<span class="kt">void</span> <span class="nf">DisplayWaitingForSpace</span><span class="p">(</span> <span class="kt">bool</span> <span class="n">bSpace</span> <span class="p">);</span>

	<span class="c1">//Set the score to be displayed</span>
	<span class="kt">void</span> <span class="nf">SetScore</span><span class="p">(</span> <span class="kt">int</span> <span class="n">PlayerScore</span><span class="p">,</span> <span class="kt">int</span> <span class="n">AIScore</span> <span class="p">);</span>

<span class="k">private</span><span class="o">:</span>

	<span class="c1">//The score of the game</span>
	<span class="kt">int</span> <span class="n">Score</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>

	<span class="c1">//Display space text?</span>
	<span class="kt">bool</span> <span class="n">bWaitingForSpace</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
<h4><span class="mw-headline" id="PongHUD.cpp">PongHUD.cpp</span></h4>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongHUD.h&quot;</span><span class="cp"></span>




<span class="n">APongHUD</span><span class="o">::</span><span class="n">APongHUD</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Score</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">Score</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">bWaitingForSpace</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APongHUD</span><span class="o">::</span><span class="n">DrawHUD</span><span class="p">(</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">DrawHUD</span><span class="p">();</span>

	<span class="n">DisplayScore</span><span class="p">();</span>

	<span class="k">if</span> <span class="p">(</span> <span class="n">bWaitingForSpace</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">DisplaySpaceText</span><span class="p">();</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APongHUD</span><span class="o">::</span><span class="n">DisplaySpaceText</span><span class="p">(</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">FVector2D</span> <span class="n">sLoc</span><span class="p">;</span>
	<span class="n">GetOwningPlayerController</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">ProjectWorldLocationToScreen</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="o">-</span><span class="mf">50.0f</span><span class="p">,</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">),</span> <span class="n">sLoc</span> <span class="p">);</span>
	<span class="n">FString</span> <span class="n">s</span> <span class="o">=</span> <span class="s">&quot;Press Space to Begin.&quot;</span><span class="p">;</span>
	<span class="n">DrawText</span><span class="p">(</span> <span class="n">s</span><span class="p">,</span> <span class="n">FLinearColor</span><span class="o">::</span><span class="n">Blue</span><span class="p">,</span> <span class="n">sLoc</span><span class="p">.</span><span class="n">X</span><span class="p">,</span> <span class="n">sLoc</span><span class="p">.</span><span class="n">Y</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APongHUD</span><span class="o">::</span><span class="n">DisplayScore</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">FVector2D</span> <span class="n">sLoc</span><span class="p">;</span>
	<span class="n">GetOwningPlayerController</span><span class="p">(</span> <span class="p">)</span><span class="o">-&gt;</span><span class="n">ProjectWorldLocationToScreen</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="o">-</span><span class="mf">50.0f</span><span class="p">,</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">150.0f</span> <span class="p">),</span> <span class="n">sLoc</span> <span class="p">);</span>
	<span class="n">FString</span> <span class="n">s</span> <span class="o">=</span> <span class="s">&quot;Score: &quot;</span> <span class="o">+</span> <span class="n">FString</span><span class="o">::</span><span class="n">FromInt</span><span class="p">(</span> <span class="n">Score</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span> <span class="o">+</span> <span class="s">&quot; - &quot;</span> <span class="o">+</span> <span class="n">FString</span><span class="o">::</span><span class="n">FromInt</span><span class="p">(</span> <span class="n">Score</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">);</span>
	<span class="n">DrawText</span><span class="p">(</span> <span class="n">s</span><span class="p">,</span> <span class="n">FLinearColor</span><span class="o">::</span><span class="n">Blue</span><span class="p">,</span> <span class="n">sLoc</span><span class="p">.</span><span class="n">X</span><span class="p">,</span> <span class="n">sLoc</span><span class="p">.</span><span class="n">Y</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APongHUD</span><span class="o">::</span><span class="n">SetScore</span><span class="p">(</span> <span class="kt">int</span> <span class="n">PlayerScore</span><span class="p">,</span> <span class="kt">int</span> <span class="n">AIScore</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">Score</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">PlayerScore</span><span class="p">;</span>
	<span class="n">Score</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">AIScore</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APongHUD</span><span class="o">::</span><span class="n">DisplayWaitingForSpace</span><span class="p">(</span> <span class="kt">bool</span> <span class="n">bSpace</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">bWaitingForSpace</span> <span class="o">=</span> <span class="n">bSpace</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p>Helper functions were added to the Ball and Paddle in order to Reset them.  This is called from the PongGameState when we go into the RESET state.  A boolean, bMoveable was also added to the paddle in order to control when the paddle can move. 
</p>
<h3><span class="mw-headline" id="Paddle.h_7">Paddle.h</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/Pawn.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Paddle.generated.h&quot;</span><span class="cp"></span>

<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">APaddle</span> <span class="p">:</span> <span class="k">public</span> <span class="n">APawn</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>

<span class="k">public</span><span class="o">:</span>
	<span class="c1">// Sets default values for this pawn&#39;s properties</span>
	<span class="n">APaddle</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>

	<span class="c1">// Called when the game starts or when spawned</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">BeginPlay</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>
	
	<span class="c1">// Called every frame</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaSeconds</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// Called to bind functionality to input</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">SetupPlayerInputComponent</span><span class="p">(</span><span class="k">class</span> <span class="nc">UInputComponent</span><span class="o">*</span> <span class="n">InputComponent</span><span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// Function called to move the paddle.  Scale represents up/down</span>
	<span class="kt">void</span> <span class="nf">MovePaddle</span><span class="p">(</span> <span class="kt">float</span> <span class="n">Scale</span> <span class="p">);</span>

	<span class="c1">// Notification when the paddle begins to overlap another Actor</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">NotifyActorBeginOverlap</span><span class="p">(</span> <span class="n">AActor</span><span class="o">*</span> <span class="n">OtherActor</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// Notification when the paddle ends overlap</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">NotifyActorEndOverlap</span><span class="p">(</span> <span class="n">AActor</span><span class="o">*</span> <span class="n">OtherActor</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// How fast the paddle is moving up or down</span>
	<span class="kt">float</span> <span class="nf">GetZVelocity</span><span class="p">();</span>

	<span class="c1">// Get the location of the sprite</span>
	<span class="n">FVector2D</span> <span class="nf">GetPosition</span><span class="p">();</span>

	<span class="c1">// Reset the paddles location</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Reset</span><span class="p">();</span>

	<span class="c1">// Sets if the paddle can be moved</span>
	<span class="kt">void</span> <span class="nf">SetMoveable</span><span class="p">(</span> <span class="kt">bool</span> <span class="n">bMoveable</span> <span class="p">);</span>

<span class="k">protected</span><span class="o">:</span>

	<span class="c1">//Reference to the Sprite Component which contains the paddle sprite</span>
	<span class="n">UPROPERTY</span><span class="p">(</span> <span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span> <span class="o">=</span> <span class="n">Paddle</span> <span class="p">)</span>
	<span class="k">class</span> <span class="nc">UPaperSpriteComponent</span><span class="o">*</span> <span class="n">Sprite</span><span class="p">;</span>

	<span class="c1">//Booleans for keeping track of valid movement directions</span>
	<span class="kt">bool</span> <span class="n">bMoveUp</span><span class="p">;</span>
	<span class="kt">bool</span> <span class="n">bMoveDown</span><span class="p">;</span>

<span class="k">private</span><span class="o">:</span>

	<span class="c1">//How fast the paddle is moving</span>
	<span class="kt">float</span> <span class="n">Velocity</span><span class="p">;</span>

	<span class="c1">//Is the paddle moveable, can it move?</span>
	<span class="kt">bool</span> <span class="n">bMoveable</span><span class="p">;</span>
	
<span class="p">};</span>
</pre></div>
<h3><span class="mw-headline" id="Paddle.cpp_7">Paddle.cpp</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Paddle.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PaperSpriteComponent.h&quot;</span><span class="cp"></span>


<span class="c1">// Sets default values</span>
<span class="n">APaddle</span><span class="o">::</span><span class="n">APaddle</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
 	<span class="c1">// Set this pawn to call Tick() every frame.  You can turn this off to improve performance if you don&#39;t need it.</span>
	<span class="n">PrimaryActorTick</span><span class="p">.</span><span class="n">bCanEverTick</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

	<span class="c1">//Find the Paddle Sprite -- Right click on your sprite in the editor and click copy reference to get the path to it</span>
	<span class="n">ConstructorHelpers</span><span class="o">::</span><span class="n">FObjectFinder</span><span class="o">&lt;</span><span class="n">UPaperSprite</span><span class="o">&gt;</span> <span class="n">PaddleSpriteRef</span><span class="p">(</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;PaperSprite&#39;/Game/Sprites/Paddle&#39;&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Create a default UPaperSpriteComponent and register it to this Actor</span>
	<span class="n">Sprite</span> <span class="o">=</span> <span class="n">ObjectInitializer</span><span class="p">.</span><span class="n">CreateDefaultSubobject</span><span class="o">&lt;</span><span class="n">UPaperSpriteComponent</span><span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;SpriteComp&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Set the Sprite to render for the UPaperSpriteComponent to the PaddleSprite Reference we grabbed</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetSprite</span><span class="p">(</span> <span class="n">PaddleSpriteRef</span><span class="p">.</span><span class="n">Object</span> <span class="p">);</span>

	<span class="n">RootComponent</span> <span class="o">=</span> <span class="n">Sprite</span><span class="p">;</span>

	<span class="n">ObjectInitializer</span><span class="p">.</span><span class="n">CreateDefaultSubobject</span><span class="o">&lt;</span><span class="n">UPawnMovementComponent</span><span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;MovementComp&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Can initially move in all directions</span>
	<span class="n">bMoveUp</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="n">bMoveDown</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

	<span class="c1">//Set the sprite to generate overlap events for world-static objects -&gt; The Bounds is set to World Static, so this should generate an overlap event now</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetCollisionEnabled</span><span class="p">(</span> <span class="n">ECollisionEnabled</span><span class="o">::</span><span class="n">QueryAndPhysics</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetObjectType</span><span class="p">(</span> <span class="n">ECollisionChannel</span><span class="o">::</span><span class="n">ECC_Pawn</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetResponseToChannel</span><span class="p">(</span> <span class="n">ECollisionChannel</span><span class="o">::</span><span class="n">ECC_WorldStatic</span><span class="p">,</span> <span class="n">ECollisionResponse</span><span class="o">::</span><span class="n">ECR_Overlap</span> <span class="p">);</span>
	
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetSimulatePhysics</span><span class="p">(</span> <span class="nb">false</span> <span class="p">);</span>

	<span class="c1">//Set the location of the Paddle to the Left</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeLocation</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="o">-</span><span class="mf">200.0f</span><span class="p">,</span> <span class="mf">50.f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeRotation</span><span class="p">(</span> <span class="n">FRotator</span><span class="p">(</span> <span class="mf">0.f</span><span class="p">,</span> <span class="mf">0.f</span><span class="p">,</span> <span class="mf">0.f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeScale3D</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.1f</span><span class="p">,</span> <span class="mf">1.0f</span><span class="p">,</span> <span class="mf">0.1f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetAbsolute</span><span class="p">(</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">true</span> <span class="p">);</span>

	

<span class="p">}</span>

<span class="c1">// Called when the game starts or when spawned</span>
<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">();</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeLocation</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="o">-</span><span class="mf">200.0f</span><span class="p">,</span> <span class="mf">50.f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeRotation</span><span class="p">(</span> <span class="n">FRotator</span><span class="p">(</span> <span class="mf">0.f</span><span class="p">,</span> <span class="mf">0.f</span><span class="p">,</span> <span class="mf">0.f</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Called every frame</span>
<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="n">DeltaTime</span> <span class="p">);</span>
	
	<span class="c1">// Update the sprites location based on the movement input</span>
	<span class="n">FVector</span> <span class="n">move</span> <span class="o">=</span> <span class="n">GetMovementInputVector</span><span class="p">();</span>
	<span class="k">if</span> <span class="p">(</span> <span class="p">(</span> <span class="p">(</span> <span class="n">bMoveUp</span> <span class="o">&amp;&amp;</span> <span class="n">move</span><span class="p">.</span><span class="n">Z</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="o">||</span> <span class="p">(</span> <span class="n">bMoveDown</span> <span class="o">&amp;&amp;</span> <span class="n">move</span><span class="p">.</span><span class="n">Z</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">bMoveable</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">FTransform</span> <span class="n">loc</span> <span class="o">=</span> <span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetRelativeTransform</span><span class="p">();</span>
		<span class="n">loc</span><span class="p">.</span><span class="n">AddToTranslation</span><span class="p">(</span> <span class="n">move</span><span class="o">*</span><span class="n">DeltaTime</span> <span class="p">);</span>
		<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeTransform</span><span class="p">(</span> <span class="n">loc</span> <span class="p">);</span>
	<span class="p">}</span>

<span class="p">}</span>

<span class="c1">// Called to bind functionality to input</span>
<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">SetupPlayerInputComponent</span><span class="p">(</span><span class="k">class</span> <span class="nc">UInputComponent</span><span class="o">*</span> <span class="n">InputComponent</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">SetupPlayerInputComponent</span><span class="p">(</span><span class="n">InputComponent</span><span class="p">);</span>

	<span class="k">const</span> <span class="n">UInputSettings</span><span class="o">*</span> <span class="n">settings</span> <span class="o">=</span> <span class="n">GetDefault</span><span class="o">&lt;</span><span class="n">UInputSettings</span><span class="o">&gt;</span><span class="p">(</span> <span class="p">);</span>

	<span class="c1">//Create movement mappings for upwards and downwards movement, the float value tells if we are moving the paddle up or down</span>
	<span class="k">const</span> <span class="n">FInputAxisKeyMapping</span> <span class="nf">upKey</span><span class="p">(</span><span class="s">&quot;Move&quot;</span><span class="p">,</span> <span class="n">EKeys</span><span class="o">::</span><span class="n">Up</span><span class="p">,</span> <span class="mf">1.0f</span><span class="p">);</span>
	<span class="k">const</span> <span class="n">FInputAxisKeyMapping</span> <span class="nf">downKey</span><span class="p">(</span> <span class="s">&quot;Move&quot;</span><span class="p">,</span> <span class="n">EKeys</span><span class="o">::</span><span class="n">Down</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0f</span> <span class="p">);</span>

	<span class="c1">// Add the axis mappings</span>
	<span class="c1">// Once this code is executed, these mappings will be added in the editors Input Settings!</span>
	<span class="p">((</span><span class="n">UInputSettings</span><span class="o">*</span><span class="p">)</span><span class="n">settings</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">AddAxisMapping</span><span class="p">(</span> <span class="n">upKey</span> <span class="p">);</span>
	<span class="p">((</span><span class="n">UInputSettings</span><span class="o">*</span><span class="p">)</span><span class="n">settings</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">AddAxisMapping</span><span class="p">(</span> <span class="n">downKey</span> <span class="p">);</span>

	<span class="c1">// Bind the axis - if we press up, the function is called with 1.0.  if we press down, the function is called with -1.0.</span>
	<span class="c1">// if we do nothing, the function is called with 0.0f</span>
	<span class="n">InputComponent</span><span class="o">-&gt;</span><span class="n">BindAxis</span><span class="p">(</span> <span class="s">&quot;Move&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">APaddle</span><span class="o">::</span><span class="n">MovePaddle</span> <span class="p">);</span>

	<span class="n">Velocity</span> <span class="o">=</span> <span class="mf">0.0f</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">MovePaddle</span><span class="p">(</span> <span class="kt">float</span> <span class="n">Scale</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//Add a movement input, hardcoding in 75.0f for the vector</span>
	<span class="n">FVector</span> <span class="n">direction</span> <span class="o">=</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">75.0f</span> <span class="p">);</span>
	<span class="n">GetMovementComponent</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">ConsumeInputVector</span><span class="p">();</span>
	<span class="n">AddMovementInput</span><span class="p">(</span> <span class="n">direction</span><span class="p">,</span> <span class="n">Scale</span> <span class="p">);</span>
	<span class="n">Velocity</span> <span class="o">=</span> <span class="n">Scale</span> <span class="o">*</span> <span class="mf">75.0f</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">NotifyActorBeginOverlap</span><span class="p">(</span> <span class="n">AActor</span><span class="o">*</span> <span class="n">OtherActor</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">OtherActor</span><span class="o">-&gt;</span><span class="n">GetName</span><span class="p">().</span><span class="n">Equals</span><span class="p">(</span> <span class="s">&quot;Bounds&quot;</span> <span class="p">)</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">FVector</span> <span class="n">prev</span> <span class="o">=</span> <span class="n">GetMovementComponent</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetLastInputVector</span><span class="p">();</span>

		<span class="c1">//If moving into a bound, set the movement in that direction to false</span>
		<span class="k">if</span> <span class="p">(</span> <span class="n">prev</span><span class="p">.</span><span class="n">Z</span> <span class="o">&gt;</span> <span class="mf">0.0f</span> <span class="p">)</span>
		<span class="p">{</span>
			<span class="n">bMoveUp</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="n">prev</span><span class="p">.</span><span class="n">Z</span> <span class="o">&lt;</span> <span class="mf">0.0f</span> <span class="p">)</span>
		<span class="p">{</span>
			<span class="n">bMoveDown</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
		<span class="p">}</span>

	<span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">NotifyActorEndOverlap</span><span class="p">(</span> <span class="n">AActor</span><span class="o">*</span> <span class="n">OtherActor</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">OtherActor</span><span class="o">-&gt;</span><span class="n">GetName</span><span class="p">().</span><span class="n">Equals</span><span class="p">(</span> <span class="s">&quot;Bounds&quot;</span> <span class="p">)</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//Out of the bounds so enable all movement inputs</span>
		<span class="n">bMoveUp</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
		<span class="n">bMoveDown</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="c1">//Get the ZVelocity (How fast the paddle is moving up or down)</span>
<span class="kt">float</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">GetZVelocity</span><span class="p">()</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">Velocity</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">FVector2D</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">GetPosition</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">FVector2D</span> <span class="n">location</span><span class="p">;</span>
	<span class="n">location</span><span class="p">.</span><span class="n">X</span> <span class="o">=</span> <span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetComponentLocation</span><span class="p">().</span><span class="n">X</span><span class="p">;</span>
	<span class="n">location</span><span class="p">.</span><span class="n">Y</span> <span class="o">=</span> <span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetComponentLocation</span><span class="p">().</span><span class="n">Z</span><span class="p">;</span>

	<span class="k">return</span> <span class="n">location</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Reset the paddles location</span>
<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">Reset</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeLocation</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="o">-</span><span class="mf">200.0f</span><span class="p">,</span> <span class="mf">50.f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeRotation</span><span class="p">(</span> <span class="n">FRotator</span><span class="p">(</span> <span class="mf">0.f</span><span class="p">,</span> <span class="mf">0.f</span><span class="p">,</span> <span class="mf">0.f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeScale3D</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.1f</span><span class="p">,</span> <span class="mf">1.0f</span><span class="p">,</span> <span class="mf">0.1f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">bMoveUp</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="n">bMoveDown</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APaddle</span><span class="o">::</span><span class="n">SetMoveable</span><span class="p">(</span> <span class="kt">bool</span> <span class="n">bMoveable</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="k">this</span><span class="o">-&gt;</span><span class="n">bMoveable</span> <span class="o">=</span> <span class="n">bMoveable</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<h3><span class="mw-headline" id="PaddleAI.h_2">PaddleAI.h</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;Paddle.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PaddleAI.generated.h&quot;</span><span class="cp"></span>

<span class="cm">/**</span>
<span class="cm"> * </span>
<span class="cm"> */</span>
<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">APaddleAI</span> <span class="p">:</span> <span class="k">public</span> <span class="n">APaddle</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>
	
<span class="k">public</span><span class="o">:</span>
	<span class="c1">// Sets default values for this pawn&#39;s properties</span>
	<span class="n">APaddleAI</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>

	<span class="c1">// Called when the game starts or when spawned</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">BeginPlay</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// Called every frame</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaSeconds</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>
	
	<span class="c1">// Ball Reference</span>
	<span class="kt">void</span> <span class="nf">SetBall</span><span class="p">(</span> <span class="k">class</span> <span class="nc">ABall</span><span class="o">*</span> <span class="n">Ball</span> <span class="p">);</span>

	<span class="c1">// AI Paddle Reset override</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Reset</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>

<span class="k">private</span><span class="o">:</span>

	<span class="c1">//Reference to Ball</span>
	<span class="k">class</span> <span class="nc">ABall</span><span class="o">*</span> <span class="n">Ball</span><span class="p">;</span>
	
<span class="p">};</span>
</pre></div>
<h3><span class="mw-headline" id="PaddleAI.cpp_2">PaddleAI.cpp</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PaddleAI.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Ball.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PaperSpriteComponent.h&quot;</span><span class="cp"></span>



<span class="c1">// Sets default values</span>
<span class="n">APaddleAI</span><span class="o">::</span><span class="n">APaddleAI</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="c1">// Set this pawn to call Tick() every frame.  You can turn this off to improve performance if you don&#39;t need it.</span>
	<span class="n">PrimaryActorTick</span><span class="p">.</span><span class="n">bCanEverTick</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

<span class="p">}</span>

<span class="c1">// Called when the game starts or when spawned</span>
<span class="kt">void</span> <span class="n">APaddleAI</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">(</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">();</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeLocation</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">200.0f</span><span class="p">,</span> <span class="mf">50.f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeRotation</span><span class="p">(</span> <span class="n">FRotator</span><span class="p">(</span> <span class="mf">0.f</span><span class="p">,</span> <span class="mf">0.f</span><span class="p">,</span> <span class="mf">0.f</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Called every frame</span>
<span class="kt">void</span> <span class="n">APaddleAI</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="n">DeltaTime</span> <span class="p">);</span>

	<span class="c1">//Paddle AI can always move</span>
	<span class="n">bMoveUp</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="n">bMoveDown</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

	<span class="c1">// Update the direction the AI should move based on where the Ball is</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetComponentLocation</span><span class="p">().</span><span class="n">Z</span> <span class="o">&gt;</span> <span class="n">Ball</span><span class="o">-&gt;</span><span class="n">GetActorLocation</span><span class="p">().</span><span class="n">Z</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">MovePaddle</span><span class="p">(</span> <span class="o">-</span><span class="mf">1.0f</span> <span class="p">);</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetComponentLocation</span><span class="p">().</span><span class="n">Z</span> <span class="o">&lt;</span> <span class="n">Ball</span><span class="o">-&gt;</span><span class="n">GetActorLocation</span><span class="p">().</span><span class="n">Z</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">MovePaddle</span><span class="p">(</span> <span class="mf">1.0f</span> <span class="p">);</span>
	<span class="p">}</span>
	<span class="k">else</span>
	<span class="p">{</span>
		<span class="n">MovePaddle</span><span class="p">(</span> <span class="mf">0.0f</span> <span class="p">);</span>
	<span class="p">}</span>

<span class="p">}</span>

<span class="kt">void</span> <span class="n">APaddleAI</span><span class="o">::</span><span class="n">SetBall</span><span class="p">(</span> <span class="n">ABall</span><span class="o">*</span> <span class="n">Ball</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="k">this</span><span class="o">-&gt;</span><span class="n">Ball</span> <span class="o">=</span> <span class="n">Ball</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Reset the paddles location</span>
<span class="kt">void</span> <span class="n">APaddleAI</span><span class="o">::</span><span class="n">Reset</span><span class="p">(</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeLocation</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">200.0f</span><span class="p">,</span> <span class="mf">50.f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeRotation</span><span class="p">(</span> <span class="n">FRotator</span><span class="p">(</span> <span class="mf">0.f</span><span class="p">,</span> <span class="mf">0.f</span><span class="p">,</span> <span class="mf">0.f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">bMoveUp</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="n">bMoveDown</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<h3><span class="mw-headline" id="Ball.h_4">Ball.h</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/Actor.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Ball.generated.h&quot;</span><span class="cp"></span>

<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">ABall</span> <span class="p">:</span> <span class="k">public</span> <span class="n">AActor</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>
	
<span class="k">public</span><span class="o">:</span>	
	<span class="c1">// Sets default values for this actor&#39;s properties</span>
	<span class="n">ABall</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>

	<span class="c1">// Called when the game starts or when spawned</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">BeginPlay</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>
	
	<span class="c1">// Called every frame</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaSeconds</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// Called to start moving the Ball</span>
	<span class="kt">void</span> <span class="nf">StartMove</span><span class="p">();</span>

	<span class="c1">// notify hit</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">NotifyHit</span><span class="p">(</span> <span class="n">UPrimitiveComponent</span><span class="o">*</span> <span class="n">MyComp</span><span class="p">,</span> <span class="n">AActor</span><span class="o">*</span> <span class="n">Other</span><span class="p">,</span> <span class="n">UPrimitiveComponent</span><span class="o">*</span> <span class="n">OtherComp</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">bSelfMoved</span><span class="p">,</span> <span class="n">FVector</span> <span class="n">HitLocation</span><span class="p">,</span> <span class="n">FVector</span> <span class="n">HitNormal</span><span class="p">,</span> <span class="n">FVector</span> <span class="n">NormalImpulse</span><span class="p">,</span> <span class="k">const</span> <span class="n">FHitResult</span><span class="o">&amp;</span> <span class="n">Hit</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">// Reset the Ball</span>
	<span class="kt">void</span> <span class="nf">Reset</span><span class="p">();</span>

<span class="k">protected</span><span class="o">:</span>

	<span class="c1">//Reference to the Sprite Component which contains the ball sprite</span>
	<span class="n">UPROPERTY</span><span class="p">(</span> <span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span> <span class="o">=</span> <span class="n">Ball</span> <span class="p">)</span>
	<span class="k">class</span> <span class="nc">UPaperSpriteComponent</span><span class="o">*</span> <span class="n">Sprite</span><span class="p">;</span>
	
<span class="k">private</span><span class="o">:</span>

	<span class="c1">//The direction the ball is traveling in</span>
	<span class="n">FVector</span> <span class="n">Direction</span><span class="p">;</span>

	<span class="c1">//Velocity of the ball.  How Fast it is travelling. Distance/Time</span>
	<span class="kt">float</span> <span class="n">Velocity</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
<h3><span class="mw-headline" id="Ball.cpp_4">Ball.cpp</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Ball.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PaperSpriteComponent.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Paddle.h&quot;</span><span class="cp"></span>

<span class="c1">// Sets default values</span>
<span class="n">ABall</span><span class="o">::</span><span class="n">ABall</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
 	<span class="c1">// Set this actor to call Tick() every frame.  You can turn this off to improve performance if you don&#39;t need it.</span>
	<span class="n">PrimaryActorTick</span><span class="p">.</span><span class="n">bCanEverTick</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

	<span class="c1">//Find the Ball Sprite -- Right click on your sprite in the editor and click copy reference to get the path to it</span>
	<span class="n">ConstructorHelpers</span><span class="o">::</span><span class="n">FObjectFinder</span><span class="o">&lt;</span><span class="n">UPaperSprite</span><span class="o">&gt;</span> <span class="n">BallSpriteRef</span><span class="p">(</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;PaperSprite&#39;/Game/Sprites/Ball&#39;&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Create a default UPaperSpriteComponent and register it to this Actor</span>
	<span class="n">Sprite</span> <span class="o">=</span> <span class="n">ObjectInitializer</span><span class="p">.</span><span class="n">CreateDefaultSubobject</span><span class="o">&lt;</span><span class="n">UPaperSpriteComponent</span><span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">TEXT</span><span class="p">(</span> <span class="s">&quot;SpriteComp&quot;</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Set the Sprite to render for the UPaperSpriteComponent to the BallSprite Reference we grabbed</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetSprite</span><span class="p">(</span> <span class="n">BallSpriteRef</span><span class="p">.</span><span class="n">Object</span> <span class="p">);</span>

	<span class="n">RootComponent</span> <span class="o">=</span> <span class="n">Sprite</span><span class="p">;</span>

	<span class="c1">//Set the physics properties</span>
	<span class="c1">//Restrict the translation/rotation axis</span>
	<span class="n">SetActorEnableCollision</span><span class="p">(</span> <span class="nb">true</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetEnableGravity</span><span class="p">(</span> <span class="nb">false</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetConstraintMode</span><span class="p">(</span> <span class="n">EDOFMode</span><span class="o">::</span><span class="n">SixDOF</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">bLockXRotation</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">bLockYRotation</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">bLockZRotation</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">bLockXTranslation</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">bLockYTranslation</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetBodyInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">bLockZTranslation</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	
	<span class="c1">//Enable Hit Notifies</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetNotifyRigidBodyCollision</span><span class="p">(</span> <span class="nb">true</span> <span class="p">);</span>

	<span class="c1">//Set the ball to spawn in the middle of the Board and scale its size down</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeLocation</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">50.0f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeScale3D</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.07f</span><span class="p">,</span> <span class="mf">1.0f</span><span class="p">,</span> <span class="mf">0.07f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetAbsolute</span><span class="p">(</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">true</span> <span class="p">);</span>

	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetLinearDamping</span><span class="p">(</span> <span class="mf">0.0f</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetSimulatePhysics</span><span class="p">(</span> <span class="nb">true</span> <span class="p">);</span>

	<span class="n">Direction</span> <span class="o">=</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">);</span>
	<span class="n">Velocity</span> <span class="o">=</span> <span class="mf">0.0f</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Called when the game starts or when spawned</span>
<span class="kt">void</span> <span class="n">ABall</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// Called every frame</span>
<span class="kt">void</span> <span class="n">ABall</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="n">DeltaTime</span> <span class="p">);</span>

	<span class="c1">//Set a time variable to be &lt; one hundreth of a second</span>
	<span class="kt">float</span> <span class="n">time</span> <span class="o">=</span> <span class="p">(</span><span class="n">DeltaTime</span> <span class="o">&gt;</span> <span class="mf">0.01f</span> <span class="o">?</span> <span class="mf">0.0083f</span> <span class="o">:</span> <span class="n">DeltaTime</span><span class="p">);</span>

	<span class="c1">//Update the translation based on the time variable</span>
	<span class="n">FTransform</span> <span class="n">transform</span> <span class="o">=</span> <span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">GetRelativeTransform</span><span class="p">();</span>
	<span class="n">transform</span><span class="p">.</span><span class="n">AddToTranslation</span><span class="p">(</span> <span class="n">Direction</span> <span class="o">*</span> <span class="n">Velocity</span> <span class="o">*</span> <span class="n">time</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeTransform</span><span class="p">(</span> <span class="n">transform</span> <span class="p">);</span>
	
<span class="p">}</span>

<span class="kt">void</span> <span class="n">ABall</span><span class="o">::</span><span class="n">StartMove</span><span class="p">()</span>
<span class="p">{</span>
	<span class="c1">// Move the ball via setting the Direction and Velocity</span>
	<span class="n">Direction</span> <span class="o">=</span> <span class="n">FVector</span><span class="p">(</span> <span class="o">-</span><span class="mf">1.0f</span><span class="p">,</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">);</span>
	<span class="n">Velocity</span> <span class="o">=</span> <span class="mf">250.0f</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">//The Ball has hit something</span>
<span class="kt">void</span> <span class="n">ABall</span><span class="o">::</span><span class="n">NotifyHit</span><span class="p">(</span> <span class="n">UPrimitiveComponent</span><span class="o">*</span> <span class="n">MyComp</span><span class="p">,</span> <span class="n">AActor</span><span class="o">*</span> <span class="n">Other</span><span class="p">,</span> <span class="n">UPrimitiveComponent</span><span class="o">*</span> <span class="n">OtherComp</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">bSelfMoved</span><span class="p">,</span> <span class="n">FVector</span> <span class="n">HitLocation</span><span class="p">,</span> <span class="n">FVector</span> <span class="n">HitNormal</span><span class="p">,</span> <span class="n">FVector</span> <span class="n">NormalImpulse</span><span class="p">,</span> <span class="k">const</span> <span class="n">FHitResult</span><span class="o">&amp;</span> <span class="n">Hit</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//Make sure that the physics velocities are set to 0.  We are keeping track of direction/speed.  We want this hit event so that we can easily mirror the direction</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetAllPhysicsAngularVelocity</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetAllPhysicsLinearVelocity</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">)</span> <span class="p">);</span>

	<span class="c1">//Mirror the Direction so that we can get the new trajectory of the ball</span>
	<span class="n">Direction</span> <span class="o">=</span> <span class="n">Direction</span><span class="p">.</span><span class="n">MirrorByVector</span><span class="p">(</span> <span class="n">HitNormal</span> <span class="p">);</span>

	<span class="c1">//If the ball hits the paddle, add Z velocity to the ball (This can become very fast)</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">Other</span><span class="o">-&gt;</span><span class="n">GetName</span><span class="p">().</span><span class="n">Contains</span><span class="p">(</span> <span class="s">&quot;Paddle&quot;</span> <span class="p">)</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">APaddle</span><span class="o">*</span> <span class="n">paddle</span> <span class="o">=</span> <span class="p">(</span><span class="n">APaddle</span><span class="o">*</span><span class="p">)</span><span class="n">Other</span><span class="p">;</span>
		<span class="n">Direction</span><span class="p">.</span><span class="n">Z</span> <span class="o">+=</span> <span class="p">(</span><span class="n">paddle</span><span class="o">-&gt;</span><span class="n">GetZVelocity</span><span class="p">()</span> <span class="o">/</span> <span class="n">Velocity</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">ABall</span><span class="o">::</span><span class="n">Reset</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeLocation</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">50.0f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Sprite</span><span class="o">-&gt;</span><span class="n">SetRelativeScale3D</span><span class="p">(</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.07f</span><span class="p">,</span> <span class="mf">1.0f</span><span class="p">,</span> <span class="mf">0.07f</span> <span class="p">)</span> <span class="p">);</span>
	<span class="n">Direction</span> <span class="o">=</span> <span class="n">FVector</span><span class="p">(</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">0.0f</span><span class="p">,</span> <span class="mf">0.0f</span> <span class="p">);</span>
	<span class="n">Velocity</span> <span class="o">=</span> <span class="mf">0.0f</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p>Finally, the GameState was updated significantly.  The states were all filled in.
</p>
<h3><span class="mw-headline" id="PongGameState.h_4">PongGameState.h</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&quot;GameFramework/GameState.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongGameState.generated.h&quot;</span><span class="cp"></span>

<span class="cm">/**</span>
<span class="cm"> * </span>
<span class="cm"> */</span>
<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">PONG_API</span> <span class="nl">APongGameState</span> <span class="p">:</span> <span class="k">public</span> <span class="n">AGameState</span>
<span class="p">{</span>
	<span class="n">GENERATED_BODY</span><span class="p">()</span>

	<span class="k">enum</span> <span class="n">PONG_STATES</span>
	<span class="p">{</span>
		<span class="n">RESET</span><span class="p">,</span>
		<span class="n">WAITING_TO_START</span><span class="p">,</span>
		<span class="n">PUSH_BALL</span><span class="p">,</span>
		<span class="n">PLAYING</span>
	<span class="p">};</span>

<span class="k">public</span><span class="o">:</span>

	<span class="n">APongGameState</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">);</span>
	
	<span class="c1">//Called when play begins</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">BeginPlay</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">//Tick called every frame</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span> <span class="k">override</span><span class="p">;</span>

	<span class="c1">//Mutator for the reference to the Ball</span>
	<span class="kt">void</span> <span class="nf">SetBall</span><span class="p">(</span> <span class="k">class</span> <span class="nc">ABall</span><span class="o">*</span> <span class="n">Ball</span> <span class="p">);</span>

	<span class="c1">//Overlap event for when the ball overlaps</span>
	<span class="n">UFUNCTION</span><span class="p">()</span>
	<span class="kt">void</span> <span class="n">BallOverlap</span><span class="p">(</span> <span class="n">AActor</span><span class="o">*</span> <span class="n">OtherActor</span> <span class="p">);</span>

<span class="k">private</span><span class="o">:</span>
	<span class="c1">//Helper function to Reset the Board to it&#39;s initial state</span>
	<span class="kt">void</span> <span class="n">ResetBoard</span><span class="p">();</span>

<span class="k">private</span><span class="o">:</span>

	<span class="c1">//The current state the game is in</span>
	<span class="n">PONG_STATES</span> <span class="n">CurrentState</span><span class="p">;</span>

	<span class="c1">//Reference to the Ball</span>
	<span class="k">class</span> <span class="nc">ABall</span><span class="o">*</span> <span class="n">Ball</span><span class="p">;</span>

	<span class="c1">//booleans to keep track of when a goal is scored</span>
	<span class="kt">bool</span> <span class="n">bAIScored</span><span class="p">;</span>
	<span class="kt">bool</span> <span class="n">bPlayerScored</span><span class="p">;</span>

	<span class="c1">//values to store to the current score</span>
	<span class="kt">int</span> <span class="n">AIScore</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">PlayerScore</span><span class="p">;</span>

	<span class="c1">//Reference to the controller used for the paddle</span>
	<span class="k">class</span> <span class="nc">APlayerController</span><span class="o">*</span> <span class="n">Controller</span><span class="p">;</span>
	<span class="k">class</span> <span class="nc">APongHUD</span><span class="o">*</span> <span class="n">HUD</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>
<h3><span class="mw-headline" id="PongGameState.cpp_4">PongGameState.cpp</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Fill out your copyright notice in the Description page of Project Settings.</span>

<span class="cp">#include</span> <span class="cpf">&quot;Pong.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongGameState.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Ball.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Paddle.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;PongHUD.h&quot;</span><span class="cp"></span>

<span class="n">APongGameState</span><span class="o">::</span><span class="n">APongGameState</span><span class="p">(</span> <span class="k">const</span> <span class="n">FObjectInitializer</span><span class="o">&amp;</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span> <span class="n">ObjectInitializer</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">PrimaryActorTick</span><span class="p">.</span><span class="n">bCanEverTick</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="n">PlayerScore</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">AIScore</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">CurrentState</span> <span class="o">=</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="n">WAITING_TO_START</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APongGameState</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">BeginPlay</span><span class="p">();</span>

	<span class="n">Controller</span> <span class="o">=</span> <span class="n">GetWorld</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetFirstPlayerController</span><span class="p">();</span>
	<span class="n">HUD</span> <span class="o">=</span> <span class="p">(</span><span class="n">APongHUD</span><span class="o">*</span><span class="p">)</span><span class="n">Controller</span><span class="o">-&gt;</span><span class="n">GetHUD</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APongGameState</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="kt">float</span> <span class="n">DeltaTime</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span> <span class="n">DeltaTime</span> <span class="p">);</span>

	<span class="c1">// If match is in progress, run the custom state machine</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">IsMatchInProgress</span><span class="p">(</span> <span class="p">)</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="k">switch</span> <span class="p">(</span> <span class="n">CurrentState</span> <span class="p">)</span>
		<span class="p">{</span>
		<span class="k">case</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="nl">RESET</span><span class="p">:</span>
			<span class="n">ResetBoard</span><span class="p">();</span>
			<span class="k">for</span> <span class="p">(</span> <span class="k">auto</span> <span class="n">it</span> <span class="o">=</span> <span class="n">GetWorld</span><span class="p">(</span> <span class="p">)</span><span class="o">-&gt;</span><span class="n">GetPawnIterator</span><span class="p">(</span> <span class="p">);</span> <span class="n">it</span><span class="p">.</span><span class="n">GetIndex</span><span class="p">(</span> <span class="p">)</span> <span class="o">&lt;</span> <span class="n">GetWorld</span><span class="p">(</span> <span class="p">)</span><span class="o">-&gt;</span><span class="n">GetNumPawns</span><span class="p">(</span> <span class="p">);</span> <span class="n">it</span><span class="o">++</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="p">(</span> <span class="p">(</span><span class="n">APaddle</span><span class="o">*</span><span class="p">)</span><span class="n">it</span><span class="o">-&gt;</span><span class="n">Get</span><span class="p">()</span> <span class="p">)</span><span class="o">-&gt;</span><span class="n">SetMoveable</span><span class="p">(</span> <span class="nb">false</span> <span class="p">);</span>
			<span class="p">}</span>
			<span class="n">CurrentState</span> <span class="o">=</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="n">WAITING_TO_START</span><span class="p">;</span>
			<span class="k">break</span><span class="p">;</span>

		<span class="k">case</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="nl">WAITING_TO_START</span><span class="p">:</span>
			<span class="n">HUD</span><span class="o">-&gt;</span><span class="n">DisplayWaitingForSpace</span><span class="p">(</span> <span class="nb">true</span> <span class="p">);</span>
			<span class="k">if</span> <span class="p">(</span> <span class="n">Controller</span><span class="o">-&gt;</span><span class="n">WasInputKeyJustReleased</span><span class="p">(</span> <span class="n">EKeys</span><span class="o">::</span><span class="n">SpaceBar</span> <span class="p">)</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">HUD</span><span class="o">-&gt;</span><span class="n">DisplayWaitingForSpace</span><span class="p">(</span> <span class="nb">false</span> <span class="p">);</span>
				<span class="k">for</span> <span class="p">(</span> <span class="k">auto</span> <span class="n">it</span> <span class="o">=</span> <span class="n">GetWorld</span><span class="p">(</span> <span class="p">)</span><span class="o">-&gt;</span><span class="n">GetPawnIterator</span><span class="p">(</span> <span class="p">);</span> <span class="n">it</span><span class="p">.</span><span class="n">GetIndex</span><span class="p">(</span> <span class="p">)</span> <span class="o">&lt;</span> <span class="n">GetWorld</span><span class="p">(</span> <span class="p">)</span><span class="o">-&gt;</span><span class="n">GetNumPawns</span><span class="p">(</span> <span class="p">);</span> <span class="n">it</span><span class="o">++</span> <span class="p">)</span>
				<span class="p">{</span>
					<span class="p">(</span> <span class="p">(</span><span class="n">APaddle</span><span class="o">*</span><span class="p">)</span><span class="n">it</span><span class="o">-&gt;</span><span class="n">Get</span><span class="p">()</span> <span class="p">)</span><span class="o">-&gt;</span><span class="n">SetMoveable</span><span class="p">(</span> <span class="nb">true</span> <span class="p">);</span>
				<span class="p">}</span>
				<span class="n">CurrentState</span> <span class="o">=</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="n">PUSH_BALL</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="k">break</span><span class="p">;</span>

		<span class="k">case</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="nl">PUSH_BALL</span><span class="p">:</span>
			<span class="n">Ball</span><span class="o">-&gt;</span><span class="n">StartMove</span><span class="p">();</span>
			<span class="n">CurrentState</span> <span class="o">=</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="n">PLAYING</span><span class="p">;</span>
			<span class="k">break</span><span class="p">;</span>

		<span class="k">case</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="nl">PLAYING</span><span class="p">:</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">bPlayerScored</span> <span class="o">||</span> <span class="n">bAIScored</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">HUD</span><span class="o">-&gt;</span><span class="n">SetScore</span><span class="p">(</span> <span class="n">PlayerScore</span><span class="p">,</span> <span class="n">AIScore</span> <span class="p">);</span>
				<span class="n">CurrentState</span> <span class="o">=</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="n">RESET</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="k">break</span><span class="p">;</span>

		<span class="k">default</span><span class="o">:</span>
			<span class="n">CurrentState</span> <span class="o">=</span> <span class="n">PONG_STATES</span><span class="o">::</span><span class="n">RESET</span><span class="p">;</span>
			<span class="k">break</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APongGameState</span><span class="o">::</span><span class="n">SetBall</span><span class="p">(</span> <span class="n">ABall</span><span class="o">*</span> <span class="n">Ball</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="k">this</span><span class="o">-&gt;</span><span class="n">Ball</span> <span class="o">=</span> <span class="n">Ball</span><span class="p">;</span>
	<span class="n">Ball</span><span class="o">-&gt;</span><span class="n">OnActorBeginOverlap</span><span class="p">.</span><span class="n">AddDynamic</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">APongGameState</span><span class="o">::</span><span class="n">BallOverlap</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APongGameState</span><span class="o">::</span><span class="n">BallOverlap</span><span class="p">(</span> <span class="n">AActor</span><span class="o">*</span> <span class="n">OtherActor</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">OtherActor</span><span class="o">-&gt;</span><span class="n">GetName</span><span class="p">().</span><span class="n">Equals</span><span class="p">(</span> <span class="s">&quot;PlayerGoal&quot;</span> <span class="p">)</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">bAIScored</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
		<span class="n">AIScore</span><span class="o">++</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span> <span class="n">OtherActor</span><span class="o">-&gt;</span><span class="n">GetName</span><span class="p">().</span><span class="n">Equals</span><span class="p">(</span> <span class="s">&quot;AIGoal&quot;</span> <span class="p">)</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">bPlayerScored</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
		<span class="n">PlayerScore</span><span class="o">++</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">APongGameState</span><span class="o">::</span><span class="n">ResetBoard</span><span class="p">()</span>
<span class="p">{</span>

	<span class="n">bPlayerScored</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	<span class="n">bAIScored</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>

	<span class="c1">// Reset the paddles</span>
	<span class="k">for</span> <span class="p">(</span> <span class="k">auto</span> <span class="n">it</span> <span class="o">=</span> <span class="n">GetWorld</span><span class="p">(</span> <span class="p">)</span><span class="o">-&gt;</span><span class="n">GetPawnIterator</span><span class="p">(</span> <span class="p">);</span> <span class="n">it</span><span class="p">.</span><span class="n">GetIndex</span><span class="p">(</span> <span class="p">)</span> <span class="o">&lt;</span> <span class="n">GetWorld</span><span class="p">(</span> <span class="p">)</span><span class="o">-&gt;</span><span class="n">GetNumPawns</span><span class="p">(</span> <span class="p">);</span> <span class="n">it</span><span class="o">++</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="p">(</span> <span class="p">(</span><span class="n">APaddle</span><span class="o">*</span><span class="p">)</span><span class="n">it</span><span class="o">-&gt;</span><span class="n">Get</span><span class="p">()</span> <span class="p">)</span><span class="o">-&gt;</span><span class="n">Reset</span><span class="p">(</span> <span class="p">);</span>
	<span class="p">}</span>

	<span class="n">Ball</span><span class="o">-&gt;</span><span class="n">Reset</span><span class="p">();</span>

<span class="p">}</span>
</pre></div>
<p><br />
</p>
<h2><span class="mw-headline" id="Finished">Finished</span></h2>
<p>And that is Pong, Congratulations!
</p><p><br />
</p>
<h2><span class="mw-headline" id="All_Source_Files">All Source Files</span></h2>
<p>Here are all of the final source files zipped up: <a href="index13c8.html?title=File:PongSource.zip" title="File:PongSource.zip">File:PongSource.zip</a>
</p><p><br />
<b>Author:</b> Igne<br />
</p>
<!-- 
NewPP limit report
Cached time: 20200401010625
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.228 seconds
Real time usage: 3.716 seconds
Preprocessor visited node count: 918/1000000
Preprocessor generated node count: 1606/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key wiki_pd05v2:pcache:idhash:309-0!canonical and timestamp 20200401010621 and revision id 619
 -->
</div>						<div class="printfooter">
							Retrieved from "<a dir="ltr" href="indexa6df.html?title=Pong_Tutorial&amp;oldid=619">https://mediawikiv2-website-prod05.ol.epicgames.net/index.php?title=Pong_Tutorial&amp;oldid=619</a>"						</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="indexecb1.html?title=Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="indexb3b2.html?title=Category:Tutorials&amp;action=edit&amp;redlink=1" class="new" title="Category:Tutorials (page does not exist)">Tutorials</a></li><li><a href="index1db6.html?title=Category:Community_Created_Content" title="Category:Community Created Content">Community Created Content</a></li></ul></div></div>					<div class="visualClear"></div>
									</div>
			</div>
		</div>
		<div id="eg-footer" role="contentinfo">
			<!DOCTYPE html><html data-baseurl="https://www.unrealengine.com"><head><meta charSet="UTF-8"><meta httpEquiv="X-UA-Compatible" content="IE=9;IE=10;IE=11;IE=Edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimal-ui"><meta name="host" content="ue-website-node-prod07-i-0d0405fab30c4bd94"><meta name="worker" content="98"><link rel="apple-touch-icon" sizes="180x180" href="indexfb0b.html"><link rel="icon" type="image/png" sizes="32x32" href="index4aa2.html"><link rel="icon" type="image/png" sizes="16x16" href="indexca83.html"><link rel="manifest" href="index38c2.html"><link rel="mask-icon" href="indexebf0.html" color="#2a2a2a"><meta name="apple-mobile-web-app-title" content="Unreal Engine"><meta name="application-name" content="Unreal Engine"><meta name="msapplication-TileColor" content="#0aaff1"><meta name="msapplication-TileImage" content="/mstile-144x144.png"><meta name="theme-color" content="#0aaff1"><title data-react-helmet="true"></title></head><body><div id="epicGamesFooter"></div><script>window._epicGamesFooter = {"serverUrl":"https://www.unrealengine.com","socialLinks":[{"_type":"Epic Footer Social Link","id":"twitter","href":"https://twitter.com/unrealengine"},{"_type":"Epic Footer Social Link","id":"facebook","href":"https://www.facebook.com/UnrealEngine"},{"_type":"Epic Footer Social Link","href":"http://www.twitch.tv/unrealengine","id":"twitch"},{"_type":"Epic Footer Social Link","id":"instagram","href":"http://instagram.com/UnrealEngine"},{"_type":"Epic Footer Social Link","href":"http://www.youtube.com/unrealengine","id":"youtube"},{"_type":"Epic Footer Social Link","href":"https://www.unrealengine.com/rss","id":"rss"}],"_currentVersion":"1.89","copyrights":["© 2004-{YEAR}, Epic Games, Inc. All rights reserved. Unreal and its logo are Epic’s trademarks or registered trademarks in the US and elsewhere."],"newsLetterConfigs":{"enableNewsLetterCMS":true,"titleMsg":"Sign up for Unreal Engine news!","btnTxt":"Subscribe","_type":"Epic Footer News Letter","logo":"https://cdn2.unrealengine.com/Unreal+Engine%2FUE-Logo-988x988-1dee3bc7f6714edf3c21ee71826ebab54ae02077.png","successMsg":"You have successfully subscribed to Unreal Engine Newsletter.","loginRequired":false},"legalTags":[],"_type":"Epic Games Footer","newLineCopyrights":false,"_lastModifiedBy":"tony.rossi","epicPropertyName":"unreal_engine","_createdBy":"tony.rossi","_uuid":"dbad9ee8-9ebd-49e5-a448-e930feda5b65","logos":[{"_type":"Epic Footer Logo","href":"https://www.epicgames.com?lang=en-US","id":"eg","title":"Epic Games"},{"_type":"Epic Footer Logo","id":"ue","href":"https://www.unrealengine.com"}],"callToAction":{"_type":"Epic Header Call To Action","useCustomCallback":false,"title":""},"_futureVersion":"none","_created":"2017-08-21T08:59:33.817Z","messages":{"_type":"Epic Footer Messages","tos":"Terms of Service","privacy":"Privacy Policy"},"links":[{"_type":"Epic Footer Link","useCustomCallback":true,"href":"http://unrealengine.com/features","title":"Features"},{"_type":"Epic Footer Link","useCustomCallback":true,"href":"http://unrealengine.com/branding","title":"Logo & Branding"},{"_type":"Epic Footer Link","useCustomCallback":false,"href":"https://trello.com/b/TTAVI7Ny/ue4-roadmap","title":"Roadmap"},{"_type":"Epic Footer Link","useCustomCallback":true,"href":"http://unrealengine.com/education","title":"Education"},{"_type":"Epic Footer Link","useCustomCallback":true,"href":"http://unrealengine.com/academic-partners-apply","title":"Academic Partners"},{"_type":"Epic Footer Link","useCustomCallback":true,"href":"http://unrealengine.com/resources","title":"More Resources"},{"_type":"Epic Footer Link","useCustomCallback":true,"href":"http://unrealengine.com/awards","title":"Awards"},{"_type":"Epic Footer Link","useCustomCallback":true,"href":"http://unrealengine.com/custom-licensing","title":"Custom License Terms"},{"_type":"Epic Footer Link","useCustomCallback":false,"href":"https://dev.epicgames.com","title":"Online Services"},{"_type":"Epic Footer Link","useCustomCallback":true,"href":"http://unrealengine.com/training-partners","title":"Training Partners"},{"_type":"Epic Footer Link","useCustomCallback":false,"href":"https://www.epicgames.com/site/community-rules","title":"Community Rules"}],"hideDefaultTermsPolicy":false,"_lastModified":"2020-03-20T13:39:17.770Z","_version":{"_comment":"Publish The Common Content Type to server ","_createdBy":"tony.rossi"},"_locale":"en_US","isEu":false,"useServerUrl":true};
window.__locale = '';
</script><link key="footer-css" rel="stylesheet" href="../static-assets-prod.epicgames.com/unrealengine/static/webpack/footer.epic-unreal-engine.5ace4ab88c6f6357685f.css"><script src="../static-assets-prod.epicgames.com/unrealengine/static/webpack/footer.epic-unreal-engine.5ace4ab88c6f6357685f.js"></script></body></html>		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.228","walltime":"3.716","ppvisitednodes":{"value":918,"limit":1000000},"ppgeneratednodes":{"value":1606,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20200401010625","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":107});});</script>
	<script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","licenseKey":"93a8bd5691","applicationID":"145396307","transactionName":"MlxXbUBZWkJUAkVQCgsWdFpGUVtfGgBSTQwKVxpPW11D","queueTime":0,"applicationTime":155,"atts":"HhtUGwhDSUw=","errorBeacon":"bam.nr-data.net","agent":""}</script></body>
</html>
