<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from mediawikiv2-website-prod05.ol.epicgames.net/index.php?title=Survival_Sample_Game:_Section_5&oldid=557 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 01 Apr 2020 01:16:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/><script type="text/javascript">(window.NREUM||(NREUM={})).loader_config={licenseKey:"93a8bd5691",applicationID:"145396307"};window.NREUM||(NREUM={}),__nr_require=function(e,n,t){function r(t){if(!n[t]){var i=n[t]={exports:{}};e[t][0].call(i.exports,function(n){var i=e[t][1][n];return r(i||n)},i,i.exports)}return n[t].exports}if("function"==typeof __nr_require)return __nr_require;for(var i=0;i<t.length;i++)r(t[i]);return r}({1:[function(e,n,t){function r(){}function i(e,n,t){return function(){return o(e,[u.now()].concat(f(arguments)),n?null:this,t),n?void 0:this}}var o=e("handle"),a=e(4),f=e(5),c=e("ee").get("tracer"),u=e("loader"),s=NREUM;"undefined"==typeof window.newrelic&&(newrelic=s);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],l="api-",d=l+"ixn-";a(p,function(e,n){s[n]=i(l+n,!0,"api")}),s.addPageAction=i(l+"addPageAction",!0),s.setCurrentRouteName=i(l+"routeName",!0),n.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(e,n){var t={},r=this,i="function"==typeof n;return o(d+"tracer",[u.now(),e,t],r),function(){if(c.emit((i?"":"no-")+"fn-start",[u.now(),r,i],t),i)try{return n.apply(this,arguments)}catch(e){throw c.emit("fn-err",[arguments,this,e],t),e}finally{c.emit("fn-end",[u.now()],t)}}}};a("actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,n){m[n]=i(d+n)}),newrelic.noticeError=function(e,n){"string"==typeof e&&(e=new Error(e)),o("err",[e,u.now(),!1,n])}},{}],2:[function(e,n,t){function r(e,n){var t=e.getEntries();t.forEach(function(e){"first-paint"===e.name?c("timing",["fp",Math.floor(e.startTime)]):"first-contentful-paint"===e.name&&c("timing",["fcp",Math.floor(e.startTime)])})}function i(e,n){var t=e.getEntries();t.length>0&&c("lcp",[t[t.length-1]])}function o(e){if(e instanceof s&&!l){var n,t=Math.round(e.timeStamp);n=t>1e12?Date.now()-t:u.now()-t,l=!0,c("timing",["fi",t,{type:e.type,fid:n}])}}if(!("init"in NREUM&&"page_view_timing"in NREUM.init&&"enabled"in NREUM.init.page_view_timing&&NREUM.init.page_view_timing.enabled===!1)){var a,f,c=e("handle"),u=e("loader"),s=NREUM.o.EV;if("PerformanceObserver"in window&&"function"==typeof window.PerformanceObserver){a=new PerformanceObserver(r),f=new PerformanceObserver(i);try{a.observe({entryTypes:["paint"]}),f.observe({entryTypes:["largest-contentful-paint"]})}catch(p){}}if("addEventListener"in document){var l=!1,d=["click","keydown","mousedown","pointerdown","touchstart"];d.forEach(function(e){document.addEventListener(e,o,!1)})}}},{}],3:[function(e,n,t){function r(e,n){if(!i)return!1;if(e!==i)return!1;if(!n)return!0;if(!o)return!1;for(var t=o.split("."),r=n.split("."),a=0;a<r.length;a++)if(r[a]!==t[a])return!1;return!0}var i=null,o=null,a=/Version\/(\S+)\s+Safari/;if(navigator.userAgent){var f=navigator.userAgent,c=f.match(a);c&&f.indexOf("Chrome")===-1&&f.indexOf("Chromium")===-1&&(i="Safari",o=c[1])}n.exports={agent:i,version:o,match:r}},{}],4:[function(e,n,t){function r(e,n){var t=[],r="",o=0;for(r in e)i.call(e,r)&&(t[o]=n(r,e[r]),o+=1);return t}var i=Object.prototype.hasOwnProperty;n.exports=r},{}],5:[function(e,n,t){function r(e,n,t){n||(n=0),"undefined"==typeof t&&(t=e?e.length:0);for(var r=-1,i=t-n||0,o=Array(i<0?0:i);++r<i;)o[r]=e[n+r];return o}n.exports=r},{}],6:[function(e,n,t){n.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(e,n,t){function r(){}function i(e){function n(e){return e&&e instanceof r?e:e?c(e,f,o):o()}function t(t,r,i,o){if(!l.aborted||o){e&&e(t,r,i);for(var a=n(i),f=v(t),c=f.length,u=0;u<c;u++)f[u].apply(a,r);var p=s[y[t]];return p&&p.push([b,t,r,a]),a}}function d(e,n){h[e]=v(e).concat(n)}function m(e,n){var t=h[e];if(t)for(var r=0;r<t.length;r++)t[r]===n&&t.splice(r,1)}function v(e){return h[e]||[]}function g(e){return p[e]=p[e]||i(t)}function w(e,n){u(e,function(e,t){n=n||"feature",y[t]=n,n in s||(s[n]=[])})}var h={},y={},b={on:d,addEventListener:d,removeEventListener:m,emit:t,get:g,listeners:v,context:n,buffer:w,abort:a,aborted:!1};return b}function o(){return new r}function a(){(s.api||s.feature)&&(l.aborted=!0,s=l.backlog={})}var f="nr@context",c=e("gos"),u=e(4),s={},p={},l=n.exports=i();l.backlog=s},{}],gos:[function(e,n,t){function r(e,n,t){if(i.call(e,n))return e[n];var r=t();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!1}),r}catch(o){}return e[n]=r,r}var i=Object.prototype.hasOwnProperty;n.exports=r},{}],handle:[function(e,n,t){function r(e,n,t,r){i.buffer([e],r),i.emit(e,n,t)}var i=e("ee").get("handle");n.exports=r,r.ee=i},{}],id:[function(e,n,t){function r(e){var n=typeof e;return!e||"object"!==n&&"function"!==n?-1:e===window?0:a(e,o,function(){return i++})}var i=1,o="nr@id",a=e("gos");n.exports=r},{}],loader:[function(e,n,t){function r(){if(!x++){var e=E.info=NREUM.info,n=d.getElementsByTagName("script")[0];if(setTimeout(s.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&n))return s.abort();u(y,function(n,t){e[n]||(e[n]=t)}),c("mark",["onload",a()+E.offset],null,"api");var t=d.createElement("script");t.src="https://"+e.agent,n.parentNode.insertBefore(t,n)}}function i(){"complete"===d.readyState&&o()}function o(){c("mark",["domContent",a()+E.offset],null,"api")}function a(){return O.exists&&performance.now?Math.round(performance.now()):(f=Math.max((new Date).getTime(),f))-E.offset}var f=(new Date).getTime(),c=e("handle"),u=e(4),s=e("ee"),p=e(3),l=window,d=l.document,m="addEventListener",v="attachEvent",g=l.XMLHttpRequest,w=g&&g.prototype;NREUM.o={ST:setTimeout,SI:l.setImmediate,CT:clearTimeout,XHR:g,REQ:l.Request,EV:l.Event,PR:l.Promise,MO:l.MutationObserver};var h=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1167.min.js"},b=g&&w&&w[m]&&!/CriOS/.test(navigator.userAgent),E=n.exports={offset:f,now:a,origin:h,features:{},xhrWrappable:b,userAgent:p};e(1),e(2),d[m]?(d[m]("DOMContentLoaded",o,!1),l[m]("load",r,!1)):(d[v]("onreadystatechange",i),l[v]("onload",r)),c("mark",["firstbyte",f],null,"api");var x=0,O=e(6)},{}],"wrap-function":[function(e,n,t){function r(e){return!(e&&e instanceof Function&&e.apply&&!e[a])}var i=e("ee"),o=e(5),a="nr@original",f=Object.prototype.hasOwnProperty,c=!1;n.exports=function(e,n){function t(e,n,t,i){function nrWrapper(){var r,a,f,c;try{a=this,r=o(arguments),f="function"==typeof t?t(r,a):t||{}}catch(u){l([u,"",[r,a,i],f])}s(n+"start",[r,a,i],f);try{return c=e.apply(a,r)}catch(p){throw s(n+"err",[r,a,p],f),p}finally{s(n+"end",[r,a,c],f)}}return r(e)?e:(n||(n=""),nrWrapper[a]=e,p(e,nrWrapper),nrWrapper)}function u(e,n,i,o){i||(i="");var a,f,c,u="-"===i.charAt(0);for(c=0;c<n.length;c++)f=n[c],a=e[f],r(a)||(e[f]=t(a,u?f+i:i,o,f))}function s(t,r,i){if(!c||n){var o=c;c=!0;try{e.emit(t,r,i,n)}catch(a){l([a,t,r,i])}c=o}}function p(e,n){if(Object.defineProperty&&Object.keys)try{var t=Object.keys(e);return t.forEach(function(t){Object.defineProperty(n,t,{get:function(){return e[t]},set:function(n){return e[t]=n,n}})}),n}catch(r){l([r])}for(var i in e)f.call(e,i)&&(n[i]=e[i]);return n}function l(n){try{e.emit("internal-error",n)}catch(t){}}return e||(e=i),t.inPlace=u,t.flag=a,t}},{}]},{},["loader"]);</script>
<title>Survival Sample Game: Section 5 - Epic Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Survival_Sample_Game:_Section_5","wgTitle":"Survival Sample Game: Section 5","wgCurRevisionId":557,"wgRevisionId":557,"wgArticleId":278,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Tutorials","SurvivalGameSeries","Code"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Survival_Sample_Game:_Section_5","wgRelevantArticleId":278,"wgRequestId":"b0c547032670301d1013c52e","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","user.tokens":"loading","ext.pygments":"ready","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.options@0bhc5ha",function($,jQuery,require,module){mw.user.options.set([]);});mw.loader.implement("user.tokens@071vexb",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/

});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="load9239.css?debug=false&amp;lang=en&amp;modules=ext.pygments%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="load2c8d.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<meta name="generator" content="MediaWiki 1.30.0"/>
<meta name="robots" content="noindex,nofollow"/>
<link rel="shortcut icon" href="https://mediawikiv2-website-prod05.ol.epicgames.net/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://mediawikiv2-website-prod05.ol.epicgames.net/opensearch_desc.php" title="Epic Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://mediawikiv2-website-prod05.ol.epicgames.net/api.php?action=rsd"/>
<link rel="license" href="https://www.epicgames.com/tos"/>
<link rel="alternate" type="application/atom+xml" title="Epic Wiki Atom feed" href="https://mediawikiv2-website-prod05.ol.epicgames.net/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/resources/lib/html5shiv/html5shiv.min.js?40bd4"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Survival_Sample_Game_Section_5 rootpage-Survival_Sample_Game_Section_5 skin-vector action-view"><!DOCTYPE html><html data-baseurl="https://www.unrealengine.com"><head><meta charSet="UTF-8"><meta httpEquiv="X-UA-Compatible" content="IE=9;IE=10;IE=11;IE=Edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimal-ui"><meta name="host" content="ue-website-node-prod07-i-0d0405fab30c4bd94"><meta name="worker" content="170"><link rel="apple-touch-icon" sizes="180x180" href="https://mediawikiv2-website-prod05.ol.epicgames.net/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://mediawikiv2-website-prod05.ol.epicgames.net/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://mediawikiv2-website-prod05.ol.epicgames.net/favicon-16x16.png"><link rel="manifest" href="https://mediawikiv2-website-prod05.ol.epicgames.net/manifest.json"><link rel="mask-icon" href="https://mediawikiv2-website-prod05.ol.epicgames.net/safari-pinned-tab.svg" color="#2a2a2a"><meta name="apple-mobile-web-app-title" content="Unreal Engine"><meta name="application-name" content="Unreal Engine"><meta name="msapplication-TileColor" content="#0aaff1"><meta name="msapplication-TileImage" content="/mstile-144x144.png"><meta name="theme-color" content="#0aaff1"><title data-react-helmet="true"></title></head><body><div id="epicGamesNavigation"></div><script>(function () {
    var config = {"serverUrl":"https://www.unrealengine.com","locale":"en-US","localeOptions":[{"lang":"en-US","name":"English"},{"lang":"ko","name":"한국어"},{"lang":"ja","name":"日本語"},{"lang":"zh-CN","name":"简体中文"}],"euCookieStrings":{"cookieString":"We use cookies to ensure the best experience on all Epic Games websites. To learn more, please see our {0}.","policyString":"privacy policy","closeString":"Close","policyUrl":"https://www.epicgames.com/privacypolicy"},"_currentVersion":"1.37.2.101.61.0.1","_type":"Epic Games Nav","hideSignIn":true,"_lastModifiedBy":"tony.rossi","epicPropertyName":"unreal_engine","pcDownloadUrl":"https://launcher-public-service-prod06.ol.epicgames.com/launcher/api/installer/download/EpicGamesLauncherInstaller.msi?productName=unrealengine","_createdBy":"tony.rossi","_uuid":"a0357fbf-1bd5-4eca-bbbf-48ea56e4ddb1","callToAction":{"_type":"Epic Header Call To Action","useCustomCallback":true,"href":"http://unrealengine.com/register","title":"Download"},"hideCallToAction":false,"hideLocale":true,"accountLinks":{"signOutLink":{"_type":"Epic Header Action Link","useCustomCallback":true,"href":"http://unrealengine.com/logout","key":"signout"},"dropdownLinks":[{"_type":"Epic Header Submenu Item","useCustomCallback":false,"href":"http://unrealengine.com/account/personal?lang=en-US","title":"Personal","key":"personal"},{"_type":"Epic Header Submenu Item","useCustomCallback":false,"href":"https://publish.unrealengine.com","title":"Seller","key":"seller"}],"signInLinks":[{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/id/login","title":"Sign In","key":"signin"}],"_type":"Epic Header Account Links"},"logoLink":{"_type":"Epic Header Action Link","useCustomCallback":true,"href":"http://unrealengine.com/","key":"logo"},"_futureVersion":"none","_created":"2017-08-21T08:59:33.648Z","_activeDate":"2019-05-31T08:22:43.049Z","macDownloadUrl":"https://launcher-public-service-prod06.ol.epicgames.com/launcher/api/installer/download/EpicGamesLauncher.dmg?productName=unrealengine","messages":{"search":"Search","default_download":"Get Epic Games","default_username":"Account","_type":"Epic Header Messages","locale":"English","sign_in":"Sign In","sign_out":"Sign Out"},"links":[{"isBarDivider":false,"_type":"Epic Header Link","useCustomCallback":true,"href":"http://unrealengine.com/blog","title":"News","key":"blog"},{"isBarDivider":false,"_type":"Epic Header Link","useCustomCallback":false,"title":"About","key":"about","kids":[{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/features","title":"Features"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/release-notes/","title":"What's New"},{"_type":"Epic Header Submenu Item","useCustomCallback":false,"href":"https://trello.com/b/TTAVI7Ny/ue4-roadmap","title":"Roadmap","target":"_blank"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/faq","title":"FAQ"}]},{"isBarDivider":false,"_type":"Epic Header Link","collapseTarget":"More","useCustomCallback":false,"title":"Industries","key":"industries","kids":[{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/industry/games","title":"Games"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/architecture-solution","title":"Architecture"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/industry/automotive-transportation","title":"Automotive & Transportation"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/industry/broadcast-live-events","title":"Broadcast & Live Events"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/industry/film-television","title":"Film & Television"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/industry/training-simulation","title":"Training & Simulation"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/industry/more-uses","title":"More Uses"}]},{"isBarDivider":false,"_type":"Epic Header Link","collapseTarget":"More","useCustomCallback":false,"title":"Learning & Support","key":"learn","kids":[{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/learn","title":"Get Started"},{"_type":"Epic Header Submenu Item","useCustomCallback":false,"href":"https://docs.unrealengine.com/","title":"Documentation"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/onlinelearning-courses","title":"Online Learning","key":""},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/events/webinar-series","title":"Webinars"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/education","title":"Education"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/support","title":"Support"},{"_type":"Epic Header Submenu Item","useCustomCallback":false,"href":"https://issues.unrealengine.com/","title":"Issues"}]},{"isBarDivider":false,"_type":"Epic Header Link","collapseTarget":"More","useCustomCallback":false,"title":"Community","key":"community","kids":[{"_type":"Epic Header Submenu Item","useCustomCallback":false,"href":"https://forums.unrealengine.com/","title":"Forums"},{"_type":"Epic Header Submenu Item","useCustomCallback":false,"href":"https://answers.unrealengine.com/","title":"AnswerHub"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/megagrants","title":"MegaGrants","key":""},{"_type":"Epic Header Submenu Item","useCustomCallback":false,"href":"https://communities.unrealengine.com","title":"User Groups"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/events","title":"Events"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/programs/nvidia-edge","title":"Nvidia Edge","key":"programs"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/programs/intel-unreal","title":"Intel + Unreal","key":""}]},{"isBarDivider":false,"_type":"Epic Header Link","collapseTarget":"More","useCustomCallback":false,"title":"Marketplace","key":"marketplace","kids":[{"_type":"Epic Header Submenu Item","useCustomCallback":false,"href":"http://unrealengine.com/marketplace","title":"Browse"},{"_type":"Epic Header Submenu Item","useCustomCallback":false,"href":"https://publish.unrealengine.com/","title":"Submit Content"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/marketplace-faq","title":"Marketplace FAQ"},{"_type":"Epic Header Submenu Item","useCustomCallback":true,"href":"http://unrealengine.com/marketplace-guidelines","title":"Marketplace Guidelines"},{"_type":"Epic Header Submenu Item","useCustomCallback":false,"href":"https://forums.unrealengine.com/forumdisplay.php?56-Marketplace","title":"Marketplace Forums"}]}],"hideSearch":false,"_lastModified":"2020-01-30T21:35:59.869Z","_version":{"_comment":"Publish to server UnrealEngine.com (Production)","_createdBy":"tony.rossi"},"_locale":"en_US","useServerUrl":true,"isEu":false};

    if (typeof window._egNavBeforeConfigSet === 'function') {
        window._egNavBeforeConfigSet();
        window._egNavBeforeConfigSetRun = true;
    }
    window._egNavBeforeConfigSetCalled = true;

    if (typeof window._epicGamesNav === 'undefined') {
        window._epicGamesNav = config;
    } else {
        var missingAssumeFalsey = ['hideLocale', 'hideSearch', 'hideSignIn', 'hideCallToAction'];
        for (var key in config) {
            if (typeof key === 'string') {
                if (!window._epicGamesNav[key] && config[key] !== null && missingAssumeFalsey.indexOf(key) === -1) {
                    window._epicGamesNav[key] = config[key];
                }
            }
        }
    }

    window._epicGamesNav.onSearch = function(query) {
        window.location.href = 'https://www.unrealengine.com' + '/bing-search?keyword=' + query;
    };

    if (typeof window._egNavAfterConfigSet === 'function') {
        window._egNavAfterConfigSet();
        window._egNavAfterConfigSetRun = true;
    }
    window._egNavAfterConfigSetCalled = true;
})();
window.__locale = '';
</script><link key="header-css" rel="stylesheet" href="https://static-assets-prod.epicgames.com/unrealengine/static/webpack/header.epic-unreal-engine.5ace4ab88c6f6357685f.css"><script src="https://static-assets-prod.epicgames.com/unrealengine/static/webpack/header.epic-unreal-engine.5ace4ab88c6f6357685f.js"></script></body>
<!-- Mirrored from mediawikiv2-website-prod05.ol.epicgames.net/index.php?title=Survival_Sample_Game:_Section_5&oldid=557 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 01 Apr 2020 01:16:38 GMT -->
</html>		<div class="container">
			<div id="mw-navigation">
				<h2>Navigation menu</h2>

				<div id="mw-head">
					<!-- 					<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="/index.php?title=Special:UserLogin&amp;returnto=Survival+Sample+Game%3A+Section+5&amp;returntoquery=oldid%3D557" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>						</ul>
					</div>
					 -->
					<div class="homelink_container">
                        <a href="https://mediawikiv2-website-prod05.ol.epicgames.net/" title="UE4 Wiki Home" class="homelink">HOME</a>
                    </div>
                    <div class="notice">
                    	We have temporarily disabled editing while we're working on a new Wiki!
                    </div>
					<div id="left-navigation">
											<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
														<li id="ca-nstab-main" class="selected"><span><a href="https://mediawikiv2-website-prod05.ol.epicgames.net/index.php?title=Survival_Sample_Game:_Section_5" title="View the content page [c]" accesskey="c">Page</a></span></li>
							<li id="ca-talk" class="new"><span><a href="https://mediawikiv2-website-prod05.ol.epicgames.net/index.php?title=Talk:Survival_Sample_Game:_Section_5&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										</div>
					<div id="right-navigation">
											<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
														<li id="ca-view" class="selected"><span><a href="https://mediawikiv2-website-prod05.ol.epicgames.net/index.php?title=Survival_Sample_Game:_Section_5">Read</a></span></li>
							<li id="ca-viewsource"><span><a href="https://mediawikiv2-website-prod05.ol.epicgames.net/index.php?title=Survival_Sample_Game:_Section_5&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
							<li id="ca-history" class="collapsible"><span><a href="https://mediawikiv2-website-prod05.ol.epicgames.net/index.php?title=Survival_Sample_Game:_Section_5&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<h3 id="p-cactions-label"><span>More</span></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>

						<form action="https://mediawikiv2-website-prod05.ol.epicgames.net/index.php" id="searchform">
							<div id="simpleSearch">
							<input type="search" name="search" placeholder="Search Epic Wiki" title="Search Epic Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
										</div>
				</div>
				
			</div>
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>

								<div class="mw-indicators mw-body-content">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Survival Sample Game: Section 5</h1>
												<div id="bodyContent" class="mw-body-content">
											<div id="siteSub" class="noprint">From Epic Wiki</div>
										
															<div id="jump-to-nav" class="mw-jump">
						Jump to:						<a href="#mw-head">navigation</a>, 						<a href="#p-search">search</a>
					</div>
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p><a href="https://mediawikiv2-website-prod05.ol.epicgames.net/index.php?title=Template:Rating&amp;action=edit&amp;redlink=1" class="new" title="Template:Rating (page does not exist)">Template:Rating</a>
C++ Sample project covering common gameplay concepts packed in a small coop survival game.
</p>
<div id="toc" class="toc"><div class="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Links"><span class="tocnumber">1.1</span> <span class="toctext">Links</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#Networking_in_Unreal_Engine_4"><span class="tocnumber">2</span> <span class="toctext">Networking in Unreal Engine 4</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Practical_Networking_Examples"><span class="tocnumber">3</span> <span class="toctext">Practical Networking Examples</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Making_the_player_sprint"><span class="tocnumber">3.1</span> <span class="toctext">Making the player sprint</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Simulating_a_bomb_explosion"><span class="tocnumber">3.2</span> <span class="toctext">Simulating a bomb explosion</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Respawning_item_pickups"><span class="tocnumber">3.3</span> <span class="toctext">Respawning item pickups</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Changing_the_HUD_State"><span class="tocnumber">3.4</span> <span class="toctext">Changing the HUD State</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Closing"><span class="tocnumber">4</span> <span class="toctext">Closing</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#Links_2"><span class="tocnumber">4.1</span> <span class="toctext">Links</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Notes"><span class="tocnumber">4.2</span> <span class="toctext">Notes</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<p>In section 5 of the ongoing survival game series we dive into gameplay networking (Replication). If you are not yet familiar with this ongoing project be sure to check out the <a rel="nofollow" class="external text" href="https://wiki.unrealengine.com/Survival_sample_game">project overview</a> for information on the series!
</p><p>Please consider this documentation a reference guide to get additional information on topics covered in the source itself. If you have any questions then feel free to leave your questions &amp; feedback on the <a rel="nofollow" class="external text" href="https://forums.unrealengine.com/showthread.php?71057-Announcing-Section-5-of-Survival-Game-Networking-your-game">section-specific forum thread!</a>
</p><p><a href="https://mediawikiv2-website-prod05.ol.epicgames.net/index.php?title=File:Containercity_06.jpg" class="image"><img alt="Containercity 06.jpg" src="https://d26ilriwvtzlb.cloudfront.net/b/b4/Containercity_06.jpg" width="1589" height="931" /></a>
</p>
<h3><span class="mw-headline" id="Links">Links</span></h3>
<ul><li> <a rel="nofollow" class="external text" href="https://forums.unrealengine.com/showthread.php?63678-Ongoing-C-Gameplay-Example-Series-Making-a-Survival-Game">Forum Thread</a></li>
<li> <a rel="nofollow" class="external text" href="https://wiki.unrealengine.com/Survival_sample_game">Project Overview</a></li>
<li> <a rel="nofollow" class="external text" href="https://wiki.unrealengine.com/Survival_Sample_Game:_Section_4">Previous Section (Gameloop, (Re)spawning, Time of Day)</a></li>
<li> <a rel="nofollow" class="external text" href="https://github.com/tomlooman/EpicSurvivalGameSeries">Source at GitHub</a></li></ul>
<h2><span class="mw-headline" id="Networking_in_Unreal_Engine_4">Networking in Unreal Engine 4</span></h2>
<p>Networking in UE4 is based around the <a rel="nofollow" class="external text" href="https://docs.unrealengine.com/latest/INT/Gameplay/Networking/Server/index.html">client-server model</a>. This means that there is one server that is authoritative over the game state. All connected clients are kept in close proximity to this state.
</p><p>Networking in Unreal Engine 4 is referred to as Replication. Therefor a "replicated variable" is one that is kept in sync between client and server where the server maintains and controls the value and the client receives updates to this value to maintain a synchronized state.
</p><p>The UE4 Docs already have a great deal on <a rel="nofollow" class="external text" href="https://docs.unrealengine.com/latest/INT/Gameplay/Networking/">Networking &amp; Multiplayer</a>, this page will focus on more practical examples instead covering most commonly used patterns to network a game.
</p>
<h2><span class="mw-headline" id="Practical_Networking_Examples">Practical Networking Examples</span></h2>
<p>The best way to learn a difficult topic like replication is through practical examples. The entire sample game is networked and uses a variety of common practices used in many multiplayer games. We'll take one example for each of the common patterns (Server-function, Client-function, NetMulticast and Repnotifies) So let's get started with server functions!
</p>
<h3><span class="mw-headline" id="Making_the_player_sprint">Making the player sprint</span></h3>
<p><i>Keywords: <a rel="nofollow" class="external text" href="https://docs.unrealengine.com/latest/INT/Gameplay/HowTo/Networking/ReplicateFunction/index.html">Server-function (RPC)</a>, Reliable/Unreliable, WithValidation, Replication conditions</i>
</p><p><a href="https://mediawikiv2-website-prod05.ol.epicgames.net/index.php?title=File:Survival_section5_sprinting.jpg" class="image"><img alt="Survival section5 sprinting.jpg" src="https://d26ilriwvtzlb.cloudfront.net/d/d3/Survival_section5_sprinting.jpg" width="1472" height="507" /></a>
</p><p>To let the player sprint, we need to update the movement speed on the server, since the server is authoritative of the player's position. The issue we need to solve here is that whenever we press the sprint-key (in our case "LeftShift") on the client's machine we need to push this input event to the server to let it know we want to start sprinting.
</p><p>In the following code sample we have a function that we mapped to the input key ("LeftShift") input functions are always executed on the client. The input function OnStartSprinting() calls SetSprinting(), which at this time is still executed on the client side. This function performs a Role check to see if we are a client or server and makes the request to the server in case we are calling this on the client.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="cm">/* Client-side function mapped to input key */</span>
<span class="kt">void</span> <span class="n">ASCharacter</span><span class="o">::</span><span class="n">OnStartSprinting</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">SetSprinting</span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/* Function that can be called on either server or client. Makes a remote procedure call if called from the client. */</span>
<span class="kt">void</span> <span class="n">ASCharacter</span><span class="o">::</span><span class="n">SetSprinting</span><span class="p">(</span><span class="kt">bool</span> <span class="n">NewSprinting</span><span class="p">)</span>
<span class="p">{</span>
        <span class="cm">/* We want to update this variable regardless if a client or server makes the call (therefor it&#39;s not placed within a Role == ROLE_Authority check. </span>
<span class="cm">           You generally only want to update (replicated) variables on the server and not client. </span>
<span class="cm">           bWantsToRun is a special case in our SCharacter class since we added a &quot;Replication Condition&quot; which is set up to skip replication of this variable for the owner, all other clients still receive changes to this variable as normal. </span>
<span class="cm">        */</span>
	<span class="n">bWantsToRun</span> <span class="o">=</span> <span class="n">NewSprinting</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">Role</span> <span class="o">&lt;</span> <span class="n">ROLE_Authority</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">ServerSetSprinting</span><span class="p">(</span><span class="n">NewSprinting</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>Any "Server" function must be marked with "WithValidation" in the header (in our case inside SCharacter.h) for security reasons. You generally want to include some conservative validation checks. If this check fails the client disconnects from the server. In this case we simply return true without any additional checks. 
</p><p>As of 4.8 you are required to declare the _Implementation and _Validate functions in the header as well (Make sure you class is updated to GENERATED_BODY() instead of the deprecated GENERATED_UCLASS_BODY() at the top of your header or the compiler will warn about duplicate declarations as pre-4.8 code automatically generated these two functions in the header)
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="cm">/* Server side call to update actual sprint state */</span>
<span class="n">UFUNCTION</span><span class="p">(</span><span class="n">Server</span><span class="p">,</span> <span class="n">Reliable</span><span class="p">,</span> <span class="n">WithValidation</span><span class="p">)</span>
<span class="kt">void</span> <span class="n">ServerSetSprinting</span><span class="p">(</span><span class="kt">bool</span> <span class="n">NewSprinting</span><span class="p">);</span>

<span class="kt">void</span> <span class="nf">ServerSetSprinting_Implementation</span><span class="p">(</span><span class="kt">bool</span> <span class="n">NewSprinting</span><span class="p">);</span>

<span class="kt">bool</span> <span class="nf">ServerSetSprinting_Validate</span><span class="p">(</span><span class="kt">bool</span> <span class="n">NewSprinting</span><span class="p">);</span>
</pre></div>
<p>It's recommended to keep the _Implementation functions as simple as possible and simply make a call back to the caller which is SetSprinting().
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="kt">void</span> <span class="n">ASCharacter</span><span class="o">::</span><span class="n">ServerSetSprinting_Implementation</span><span class="p">(</span><span class="kt">bool</span> <span class="n">NewSprinting</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">SetSprinting</span><span class="p">(</span><span class="n">NewSprinting</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">ASCharacter</span><span class="o">::</span><span class="n">ServerSetSprinting_Validate</span><span class="p">(</span><span class="kt">bool</span> <span class="n">NewSprinting</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p>You may have noticed the "Reliable" keyword. This specifies that we require a guarantee this function to be received at the other end. In real networking situations you will get to deal with packet loss. Information may get lost in transit, if this would happen and this function is set to the alternative "Unreliable" we might end up playing the sprinting animation on the client, but the server has never received the request and is still handling the player as if it is simply walking. For one off calls that update the state to new absolute values, using Reliable is recommended, it does add more strain to the networking however, there is definitely a good reason for using Unreliable whenever you can.
</p><p>An example of what unreliable would be appropriate for is an update to a vector position, if a packet were lost it wouldn't matter so much if we are continuously sending new positions anyway. Using unreliable in those types of situations is highly recommended as there is no reason to re-send packets on failure, or to wait for a packet to arrive before allowing the next packet to be executed as with "Reliable".
</p><p>Moving back to the first example the variable bWantsToRun is updated both locally on the client and on the server through SetSprinting(...) and ServerSetSprinting which calls SetSprinting as well. This is because we applied a special Replication Condition to this variable to skip the owner of the variable when replicating. This means all other clients still receive updates to this variable, except the owning client, which has already updated the variable locally to begin with.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="cm">/* Function that can be called on either server or client. Makes a remote procedure call if called from the client. */</span>
<span class="kt">void</span> <span class="n">ASCharacter</span><span class="o">::</span><span class="n">SetSprinting</span><span class="p">(</span><span class="kt">bool</span> <span class="n">NewSprinting</span><span class="p">)</span>
<span class="p">{</span>
        <span class="cm">/* We want to update this variable regardless if a client or server makes the call (therefor it&#39;s not placed within a Role == ROLE_Authority check. </span>
<span class="cm">           You generally only want to update (replicated) variables on the server and not client. </span>
<span class="cm">           bWantsToRun is a special case in our SCharacter class since we added a &quot;Replication Condition&quot; which is set up to skip replication of this variable for the owner, all other clients still receive changes to this variable as normal. </span>
<span class="cm">        */</span>
	<span class="n">bWantsToRun</span> <span class="o">=</span> <span class="n">NewSprinting</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">Role</span> <span class="o">&lt;</span> <span class="n">ROLE_Authority</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">ServerSetSprinting</span><span class="p">(</span><span class="n">NewSprinting</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></div>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="kt">void</span> <span class="n">ASCharacter</span><span class="o">::</span><span class="n">GetLifetimeReplicatedProps</span><span class="p">(</span><span class="n">TArray</span><span class="o">&lt;</span><span class="n">FLifetimeProperty</span><span class="o">&gt;&amp;</span> <span class="n">OutLifetimeProps</span><span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">GetLifetimeReplicatedProps</span><span class="p">(</span><span class="n">OutLifetimeProps</span><span class="p">);</span>

	<span class="c1">// Value is already updated locally, skip in replication step</span>
	<span class="n">DOREPLIFETIME_CONDITION</span><span class="p">(</span><span class="n">ASCharacter</span><span class="p">,</span> <span class="n">bWantsToRun</span><span class="p">,</span> <span class="n">COND_SkipOwner</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<p>A reason for taking this approach to locally updating variables before sending the request is to keep your game responsive when dealing with latency in multiplayer. If your player has to wait for his keypress to change something in-game by routing it through a server it introduces a very noticeable input lag. Players are extremely perceptive to this lag! By immediately updating the variable locally the code to start the sprinting animation can begin immediately and the game will feel more responsive as a result.
</p>
<h3><span class="mw-headline" id="Simulating_a_bomb_explosion">Simulating a bomb explosion</span></h3>
<p><i>Keywords: <a rel="nofollow" class="external text" href="https://docs.unrealengine.com/latest/INT/Gameplay/HowTo/Networking/ReplicateFunction/index.html">NetMulticast</a></i>
</p><p><a href="https://mediawikiv2-website-prod05.ol.epicgames.net/index.php?title=File:Survival_section5_explosion.jpg" class="image"><img alt="Survival section5 explosion.jpg" src="https://d26ilriwvtzlb.cloudfront.net/3/3b/Survival_section5_explosion.jpg" width="2064" height="708" /></a>
</p><p>Our bomb actor deals damage to nearby Pawns and shows an explosion particle effect when detonated. The application of damage is done on the server-side only, the particle effect however should spawn on all clients. A great way of handling this is by using NetMulticast which sends a RPC request to all connected clients.
</p><p>The definition of a NetMulticast functions looks like this:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="n">UFUNCTION</span><span class="p">(</span><span class="n">Reliable</span><span class="p">,</span> <span class="n">NetMulticast</span><span class="p">)</span>
<span class="kt">void</span> <span class="n">SimulateExplosion</span><span class="p">();</span>

<span class="kt">void</span> <span class="nf">SimulateExplosion_Implementation</span><span class="p">();</span>
</pre></div>
<p>As with Server and Client functions, only the _Implementation function exists in the Cpp file, calling these functions is still done through the original function name (eg. SimulateExplosion()) instead of the _Implementation variant.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="cm">/* This function runs on the server, and applies the gameplay effects like damage</span>
<span class="cm">   It also triggers SimulateExplosion() that runs on all clients because of NetMulticast specifier */</span>
<span class="kt">void</span> <span class="n">ASBombActor</span><span class="o">::</span><span class="n">OnExplode</span><span class="p">()</span>
<span class="p">{</span>
        <span class="c1">// ...</span>

	<span class="c1">// Runs on all clients (NetMulticast)</span>
	<span class="n">SimulateExplosion</span><span class="p">();</span>

        <span class="cm">/* Applies damage */</span>
        <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">ASBombActor</span><span class="o">::</span><span class="n">SimulateExplosion_Implementation</span><span class="p">()</span>
<span class="p">{</span>
	<span class="cm">/* This should generally only be used for cosmetic effects or updating collision states etc., all gameplay must run on the server. */</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">ExplosionSound</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">AudioComp</span><span class="o">-&gt;</span><span class="n">SetSound</span><span class="p">(</span><span class="n">ExplosionSound</span><span class="p">);</span>
		<span class="n">AudioComp</span><span class="o">-&gt;</span><span class="n">Play</span><span class="p">();</span>
	<span class="p">}</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">ExplosionFX</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">ExplosionPCS</span><span class="o">-&gt;</span><span class="n">SetTemplate</span><span class="p">(</span><span class="n">ExplosionFX</span><span class="p">);</span>
		<span class="n">ExplosionPCS</span><span class="o">-&gt;</span><span class="n">ActivateSystem</span><span class="p">();</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>Now every client will see and hear an explosion effect when the bomb is detonated by a player.
</p>
<h3><span class="mw-headline" id="Respawning_item_pickups">Respawning item pickups</span></h3>
<p><i>Keywords: <a rel="nofollow" class="external text" href="https://docs.unrealengine.com/latest/INT/Gameplay/HowTo/Networking/ReplicateVariable/index.html">Repnotify</a></i>
</p><p><a href="https://mediawikiv2-website-prod05.ol.epicgames.net/index.php?title=File:Survival_section5_cupcakes.jpg" class="image"><img alt="Survival section5 cupcakes.jpg" src="https://d26ilriwvtzlb.cloudfront.net/1/19/Survival_section5_cupcakes.jpg" width="1823" height="685" /></a>
</p><p>Items that can be picked up in the game still persist and re-appear after a while. When picked up, the object remains in place, but will de-activate any visible effect and mesh until it re-appears through a timer. Whenever this state variable changes, we want all clients to respond by either showing or hiding the mesh of the Actor. For this we can use Repnotify, which is a specifier on a variable that binds a function to be called on any change to that variable.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="n">UPROPERTY</span><span class="p">(</span><span class="n">Transient</span><span class="p">,</span> <span class="n">ReplicatedUsing</span> <span class="o">=</span> <span class="n">OnRep_IsActive</span><span class="p">)</span>
<span class="kt">bool</span> <span class="n">bIsActive</span><span class="p">;</span>
	
<span class="n">UFUNCTION</span><span class="p">()</span>
<span class="kt">void</span> <span class="n">OnRep_IsActive</span><span class="p">();</span>
</pre></div>
<p>In the implementation of the repnotify function we check the updated value and respond accordingly.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="cm">/* Only runs on clients, NOT called on server when a variable changes */</span>
<span class="kt">void</span> <span class="n">ASPickupActor</span><span class="o">::</span><span class="n">OnRep_IsActive</span><span class="p">()</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">bIsActive</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">OnRespawned</span><span class="p">();</span>
	<span class="p">}</span>
	<span class="k">else</span>
	<span class="p">{</span>
		<span class="n">OnPickedUp</span><span class="p">();</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">ASPickupActor</span><span class="o">::</span><span class="n">GetLifetimeReplicatedProps</span><span class="p">(</span><span class="n">TArray</span><span class="o">&lt;</span><span class="n">FLifetimeProperty</span><span class="o">&gt;</span> <span class="o">&amp;</span> <span class="n">OutLifetimeProps</span><span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">GetLifetimeReplicatedProps</span><span class="p">(</span><span class="n">OutLifetimeProps</span><span class="p">);</span>

	<span class="n">DOREPLIFETIME</span><span class="p">(</span><span class="n">ASPickupActor</span><span class="p">,</span> <span class="n">bIsActive</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<p>It's important to keep in mind that any change to a repnotify variable only triggers the function on clients and not the server. So whenever this variable changes, we need to manually call the function if we are the server:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="cm">/* This function is called on the server, so we must manually call OnPickedUp when updating bIsActive */</span>
<span class="kt">void</span> <span class="n">ASPickupActor</span><span class="o">::</span><span class="n">OnUsed</span><span class="p">(</span><span class="n">APawn</span><span class="o">*</span> <span class="n">InstigatorPawn</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">// ...</span>
        
        <span class="cm">/* notifies all clients, except the server */</span>
	<span class="n">bIsActive</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>

        <span class="cm">/* Manually call the function since we are the server and didn&#39;t receive the repnotify call */</span>
	<span class="n">OnPickedUp</span><span class="p">();</span>

        <span class="c1">// ...</span>

	<span class="n">Super</span><span class="o">::</span><span class="n">OnUsed</span><span class="p">(</span><span class="n">InstigatorPawn</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<p>Using repnotifies is great for responding to changes in the state of an Actor as we've done in pickup item example above. 
</p>
<h3><span class="mw-headline" id="Changing_the_HUD_State">Changing the HUD State</span></h3>
<p><i>Keywords: <a rel="nofollow" class="external text" href="https://docs.unrealengine.com/latest/INT/Gameplay/HowTo/Networking/ReplicateFunction/index.html">Client-function (RPC)</a></i>
</p><p><a href="https://mediawikiv2-website-prod05.ol.epicgames.net/index.php?title=File:Survival_section5_spectating.jpg" class="image"><img alt="Survival section5 spectating.jpg" src="https://d26ilriwvtzlb.cloudfront.net/6/6a/Survival_section5_spectating.jpg" width="1280" height="409" /></a>
</p><p>Depending on the state of the game mode (or player) we show a different HUD. When the player is dead and waiting to respawn we have a spectator HUD, if the game ended we show a Game Over HUD with the total score. These states are updated and evaluated on the server, however the HUD only exists on the Client-side. One way of handling changes to the HUD from a server is to use Client functions. These functions are only executed on the owning client of an object, in this case whomever owns the HUD. Let's dive into an example of a client function.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="n">UFUNCTION</span><span class="p">(</span><span class="n">reliable</span><span class="p">,</span> <span class="n">client</span><span class="p">)</span>
<span class="kt">void</span> <span class="n">ClientHUDStateChanged</span><span class="p">(</span><span class="n">EHUDState</span> <span class="n">NewState</span><span class="p">);</span>

<span class="kt">void</span> <span class="nf">ClientHUDStateChanged_Implementation</span><span class="p">(</span><span class="n">EHUDState</span> <span class="n">NewState</span><span class="p">);</span>
</pre></div>
<p>Its signature is identical to NetMulticast, using an _Implementation function and without _Validate as used for Server-functions. To keep track of the type of function we are dealing with, it's best to use the "Client"-prefix as is done in the engine code.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="cm">/* This function is called on the server-side, and requests the client to change the HUD state */</span>
<span class="kt">void</span> <span class="n">ASPlayerController</span><span class="o">::</span><span class="n">StartSpectating</span><span class="p">()</span>
<span class="p">{</span>
	<span class="cm">/* Perform server-side initializing of spectator code */</span>
        <span class="c1">// ...</span>

	<span class="cm">/* Update the HUD to show the spectator screen */</span>
	<span class="n">ClientHUDStateChanged</span><span class="p">(</span><span class="n">EHUDState</span><span class="o">::</span><span class="n">Spectating</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/* Only called on the owning client */</span>
<span class="kt">void</span> <span class="n">ASPlayerController</span><span class="o">::</span><span class="n">ClientHUDStateChanged_Implementation</span><span class="p">(</span><span class="n">EHUDState</span> <span class="n">NewState</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">ASHUD</span><span class="o">*</span> <span class="n">MyHUD</span> <span class="o">=</span> <span class="n">Cast</span><span class="o">&lt;</span><span class="n">ASHUD</span><span class="o">&gt;</span><span class="p">(</span><span class="n">GetHUD</span><span class="p">());</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">MyHUD</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">MyHUD</span><span class="o">-&gt;</span><span class="n">OnStateChanged</span><span class="p">(</span><span class="n">NewState</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>This pattern is very useful for performing client side logic that the client did not request itself in the first place like it would with keyboard input events.
</p>
<h2><span class="mw-headline" id="Closing">Closing</span></h2>
<p>By now we've covered 4 common replication concepts using a few practical examples from the project. I definitely recommend studying the documentation pages on <a rel="nofollow" class="external text" href="https://docs.unrealengine.com/latest/INT/Gameplay/Networking/">Networking and Multiplayer</a>, they will help you in understanding the flow of data when dealing with networking in games.
</p><p>If you have feedback or questions on this section, feel free to reach out through the <a rel="nofollow" class="external text" href="https://forums.unrealengine.com/showthread.php?71057-Announcing-Section-5-of-Survival-Game-Networking-your-game">forums</a>.
</p>
<h3><span class="mw-headline" id="Links_2">Links</span></h3>
<p><b><a href="https://mediawikiv2-website-prod05.ol.epicgames.net/index.php?title=Survival_Sample_Game:_Section_4" title="Survival Sample Game: Section 4">Previous Section (Dynamic Time of Day &amp; Game loop)</a> - <a href="https://mediawikiv2-website-prod05.ol.epicgames.net/index.php?title=Survival_sample_game" title="Survival sample game">Main Project Page</a> - <a href="https://mediawikiv2-website-prod05.ol.epicgames.net/index.php?title=Survival_Sample_Game:_Section_6" title="Survival Sample Game: Section 6">Next Section (Polish &amp; Review)</a></b>
</p>
<ul><li> <a rel="nofollow" class="external text" href="https://forums.unrealengine.com/showthread.php?63678-Ongoing-C-Gameplay-Example-Series-Making-a-Survival-Game">Forum Thread</a></li>
<li> <a rel="nofollow" class="external text" href="https://github.com/tomlooman/EpicSurvivalGameSeries">Source at GitHub</a></li></ul>
<h3><span class="mw-headline" id="Notes">Notes</span></h3>
<p>If you're adding networking to your own game, you must specify the UnrealNetwork header in your ProjectName.h (in our case SurvivalGame.h)
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// This is NOT included by default in an empty project! It&#39;s required for replication and setting of the GetLifetimeReplicatedProps</span>
<span class="cp">#include</span> <span class="cpf">&quot;Net/UnrealNetwork.h&quot;</span><span class="cp"></span>
</pre></div>
<p><br />
<b>Project &amp; Wiki by <a rel="nofollow" class="external text" href="http://www.tomlooman.com/">Tom Looman</a></b>
</p>
<!-- 
NewPP limit report
Cached time: 20200401004902
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.080 seconds
Real time usage: 0.824 seconds
Preprocessor visited node count: 157/1000000
Preprocessor generated node count: 340/1000000
Post‐expand include size: 20/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.875      1 -total
100.00%    0.875      1 Template:Rating
-->
</div>
<!-- Saved in parser cache with key wiki_pd05v2:pcache:idhash:278-0!canonical and timestamp 20200401004902 and revision id 557
 -->
</div>						<div class="printfooter">
							Retrieved from "<a dir="ltr" href="https://mediawikiv2-website-prod05.ol.epicgames.net/index.php?title=Survival_Sample_Game:_Section_5&amp;oldid=557">https://mediawikiv2-website-prod05.ol.epicgames.net/index.php?title=Survival_Sample_Game:_Section_5&amp;oldid=557</a>"						</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://mediawikiv2-website-prod05.ol.epicgames.net/index.php?title=Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="https://mediawikiv2-website-prod05.ol.epicgames.net/index.php?title=Category:Tutorials&amp;action=edit&amp;redlink=1" class="new" title="Category:Tutorials (page does not exist)">Tutorials</a></li><li><a href="https://mediawikiv2-website-prod05.ol.epicgames.net/index.php?title=Category:SurvivalGameSeries&amp;action=edit&amp;redlink=1" class="new" title="Category:SurvivalGameSeries (page does not exist)">SurvivalGameSeries</a></li><li><a href="https://mediawikiv2-website-prod05.ol.epicgames.net/index.php?title=Category:Code" title="Category:Code">Code</a></li></ul></div></div>					<div class="visualClear"></div>
									</div>
			</div>
		</div>
		<div id="eg-footer" role="contentinfo">
			<!DOCTYPE html><html data-baseurl="https://www.unrealengine.com"><head><meta charSet="UTF-8"><meta httpEquiv="X-UA-Compatible" content="IE=9;IE=10;IE=11;IE=Edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimal-ui"><meta name="host" content="ue-website-node-prod07-i-0d0405fab30c4bd94"><meta name="worker" content="188"><link rel="apple-touch-icon" sizes="180x180" href="https://mediawikiv2-website-prod05.ol.epicgames.net/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://mediawikiv2-website-prod05.ol.epicgames.net/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://mediawikiv2-website-prod05.ol.epicgames.net/favicon-16x16.png"><link rel="manifest" href="https://mediawikiv2-website-prod05.ol.epicgames.net/manifest.json"><link rel="mask-icon" href="https://mediawikiv2-website-prod05.ol.epicgames.net/safari-pinned-tab.svg" color="#2a2a2a"><meta name="apple-mobile-web-app-title" content="Unreal Engine"><meta name="application-name" content="Unreal Engine"><meta name="msapplication-TileColor" content="#0aaff1"><meta name="msapplication-TileImage" content="/mstile-144x144.png"><meta name="theme-color" content="#0aaff1"><title data-react-helmet="true"></title></head><body><div id="epicGamesFooter"></div><script>window._epicGamesFooter = {"serverUrl":"https://www.unrealengine.com","socialLinks":[{"_type":"Epic Footer Social Link","id":"twitter","href":"https://twitter.com/unrealengine"},{"_type":"Epic Footer Social Link","id":"facebook","href":"https://www.facebook.com/UnrealEngine"},{"_type":"Epic Footer Social Link","href":"http://www.twitch.tv/unrealengine","id":"twitch"},{"_type":"Epic Footer Social Link","id":"instagram","href":"http://instagram.com/UnrealEngine"},{"_type":"Epic Footer Social Link","href":"http://www.youtube.com/unrealengine","id":"youtube"},{"_type":"Epic Footer Social Link","href":"https://www.unrealengine.com/rss","id":"rss"}],"_currentVersion":"1.89","copyrights":["© 2004-{YEAR}, Epic Games, Inc. All rights reserved. Unreal and its logo are Epic’s trademarks or registered trademarks in the US and elsewhere."],"newsLetterConfigs":{"enableNewsLetterCMS":true,"titleMsg":"Sign up for Unreal Engine news!","btnTxt":"Subscribe","_type":"Epic Footer News Letter","logo":"https://cdn2.unrealengine.com/Unreal+Engine%2FUE-Logo-988x988-1dee3bc7f6714edf3c21ee71826ebab54ae02077.png","successMsg":"You have successfully subscribed to Unreal Engine Newsletter.","loginRequired":false},"legalTags":[],"_type":"Epic Games Footer","newLineCopyrights":false,"_lastModifiedBy":"tony.rossi","epicPropertyName":"unreal_engine","_createdBy":"tony.rossi","_uuid":"dbad9ee8-9ebd-49e5-a448-e930feda5b65","logos":[{"_type":"Epic Footer Logo","href":"https://www.epicgames.com?lang=en-US","id":"eg","title":"Epic Games"},{"_type":"Epic Footer Logo","id":"ue","href":"https://www.unrealengine.com"}],"callToAction":{"_type":"Epic Header Call To Action","useCustomCallback":false,"title":""},"_futureVersion":"none","_created":"2017-08-21T08:59:33.817Z","messages":{"_type":"Epic Footer Messages","tos":"Terms of Service","privacy":"Privacy Policy"},"links":[{"_type":"Epic Footer Link","useCustomCallback":true,"href":"http://unrealengine.com/features","title":"Features"},{"_type":"Epic Footer Link","useCustomCallback":true,"href":"http://unrealengine.com/branding","title":"Logo & Branding"},{"_type":"Epic Footer Link","useCustomCallback":false,"href":"https://trello.com/b/TTAVI7Ny/ue4-roadmap","title":"Roadmap"},{"_type":"Epic Footer Link","useCustomCallback":true,"href":"http://unrealengine.com/education","title":"Education"},{"_type":"Epic Footer Link","useCustomCallback":true,"href":"http://unrealengine.com/academic-partners-apply","title":"Academic Partners"},{"_type":"Epic Footer Link","useCustomCallback":true,"href":"http://unrealengine.com/resources","title":"More Resources"},{"_type":"Epic Footer Link","useCustomCallback":true,"href":"http://unrealengine.com/awards","title":"Awards"},{"_type":"Epic Footer Link","useCustomCallback":true,"href":"http://unrealengine.com/custom-licensing","title":"Custom License Terms"},{"_type":"Epic Footer Link","useCustomCallback":false,"href":"https://dev.epicgames.com","title":"Online Services"},{"_type":"Epic Footer Link","useCustomCallback":true,"href":"http://unrealengine.com/training-partners","title":"Training Partners"},{"_type":"Epic Footer Link","useCustomCallback":false,"href":"https://www.epicgames.com/site/community-rules","title":"Community Rules"}],"hideDefaultTermsPolicy":false,"_lastModified":"2020-03-20T13:39:17.770Z","_version":{"_comment":"Publish The Common Content Type to server ","_createdBy":"tony.rossi"},"_locale":"en_US","isEu":false,"useServerUrl":true};
window.__locale = '';
</script><link key="footer-css" rel="stylesheet" href="https://static-assets-prod.epicgames.com/unrealengine/static/webpack/footer.epic-unreal-engine.5ace4ab88c6f6357685f.css"><script src="https://static-assets-prod.epicgames.com/unrealengine/static/webpack/footer.epic-unreal-engine.5ace4ab88c6f6357685f.js"></script></body></html>		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.080","walltime":"0.824","ppvisitednodes":{"value":157,"limit":1000000},"ppgeneratednodes":{"value":340,"limit":1000000},"postexpandincludesize":{"value":20,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"timingprofile":["100.00%    0.875      1 -total","100.00%    0.875      1 Template:Rating"]},"cachereport":{"timestamp":"20200401004902","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":101});});</script>
	<script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","licenseKey":"93a8bd5691","applicationID":"145396307","transactionName":"MlxXbUBZWkJUAkVQCgsWdFpGUVtfGgBSTQwKVxpPW11D","queueTime":0,"applicationTime":144,"atts":"HhtUGwhDSUw=","errorBeacon":"bam.nr-data.net","agent":""}</script></body>
</html>
